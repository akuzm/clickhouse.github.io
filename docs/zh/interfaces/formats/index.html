










    



    



    



    
    






    
        
        
    
    <!DOCTYPE html>
<html lang="zh" data-version="master" data-single-page="false">
<head>
    
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>输入输出格式 | ClickHouse文档</title>

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180x180.png" />

<meta property="og:title" content="输入输出格式 | ClickHouse文档"/>
<meta property="og:description" content="输入输出格式 ClickHouse 可以接受多种数据格式，可以在 (INSERT) 以及 (SELECT) 请求中使用。 下列表格列出了支持的数据格式以及在 (INSERT) 以及 (SELECT) 请求中使用它们的方式。 格式 INSER" />
<meta property="og:type" content="article" />

<meta property="og:image" content="https://clickhouse.tech/images/logo.png" />

<meta property="og:url" content="https://clickhouse.tech/docs/zh/interfaces/formats/"/>
<link rel="canonical" href="https://clickhouse.tech/docs/zh/interfaces/formats/" />

<link rel="amphtml" href="https://clickhouse.tech/docs/zh/interfaces/formats/amp/" />

<link rel="search" href="/opensearch.xml" title="ClickHouse" type="application/opensearchdescription+xml" />

<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "输入输出格式 | ClickHouse文档",
"mainEntityOfPage": "https://clickhouse.tech/docs/zh/interfaces/formats/",

"datePublished": "2018-10-05T19:20:31+03:00",
"dateModified": "2020-04-30T21:19:18+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "输入输出格式 | ClickHouse文档",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>


<meta name="description" content="输入输出格式 ClickHouse 可以接受多种数据格式，可以在 (INSERT) 以及 (SELECT) 请求中使用。 下列表格列出了支持的数据格式以及在 (INSERT) 以及 (SELECT) 请求中使用它们的方式。 格式 INSER" />

<meta name="keywords"
      content="ClickHouse, DBMS, OLAP, SQL, 开源, 关系, 分析, 分析, 大数据, 网络分析" />




    
    <link rel="alternate" hreflang="en" href="https://clickhouse.tech/docs/en/interfaces/formats/" />
    
    <link rel="alternate" hreflang="zh" href="https://clickhouse.tech/docs/zh/interfaces/formats/" />
    
    <link rel="alternate" hreflang="es" href="https://clickhouse.tech/docs/es/interfaces/formats/" />
    
    <link rel="alternate" hreflang="fr" href="https://clickhouse.tech/docs/fr/interfaces/formats/" />
    
    <link rel="alternate" hreflang="ru" href="https://clickhouse.tech/docs/ru/interfaces/formats/" />
    
    <link rel="alternate" hreflang="ja" href="https://clickhouse.tech/docs/ja/interfaces/formats/" />
    
    <link rel="alternate" hreflang="tr" href="https://clickhouse.tech/docs/tr/interfaces/formats/" />
    
    <link rel="alternate" hreflang="fa" href="https://clickhouse.tech/docs/fa/interfaces/formats/" />
    
    <link rel="alternate" hreflang="x-default" href="https://clickhouse.tech/docs/en/interfaces/formats/" />





    
    <link href="/css/base.css?css_digest" media="all" rel="stylesheet" />


</head>
<body dir="ltr" data-spy="scroll" data-target="#toc" data-offset="80">

    
        <nav id="top-nav" class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top">
    <div class="container-fluid justify-content-between">
        <a class="d-block navbar-brand mr-3" href="/">
            <img id="docs-logo-icon" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"/>
        </a>
        <div class="w-100 navbar-text text-left d-none d-md-block">
            <h1 class="h3 m-0 p-0 d-inline">
                <a href="#" class="text-white text-decoration-none">
                    
                        输入输出格式
                    
                </a>
            </h1>
        </div>

        <div class="d-none d-md-block">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end">
                
                    
                
                
                <li id="edit-wrapper" class="nav-item">
                    <a id="edit-link" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/interfaces/formats.md" title="Edit this article" class="nav-link" rel="external nofollow noreferrer" target="_blank"><img src="/images/mkdocs/edit.svg" alt="Edit this article" class="mt-1" height="22" /></a>
                </li>
                
                <li class="nav-item">
                     <a class="nav-link" href="https://github.com/ClickHouse/ClickHouse" rel="external nofollow noreferrer">
                        <img src="/images/index/github.svg" alt="GitHub repository" title="Go to GitHub" height="32" />
                    </a>
                </li>
                <li id="languages-wrapper" class="nav-item dropdown">
                    <div id="languages-dropdown">
                        <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href="#" id="lang-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="/images/flags/zh.svg" alt="中文" title="中文" width="32" class="d-inline-block mt-n1" />
                        </a>
                        <div class="dropdown-menu bg-dark" aria-labelledby="lang-dropdown">
                            
                            <a class="dropdown-item"
                               href="/docs/en/interfaces/formats/">
                                <img src="/images/flags/en.svg" alt="" title="" width="32" class="d-inline-block mr-2" />English
                            </a>
                            
                            <a class="dropdown-item disabled"
                               href="/docs/zh/interfaces/formats/">
                                <img src="/images/flags/zh.svg" alt="" title="" width="32" class="d-inline-block mr-2" />中文
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/es/interfaces/formats/">
                                <img src="/images/flags/es.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Español
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fr/interfaces/formats/">
                                <img src="/images/flags/fr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Français
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ru/interfaces/formats/">
                                <img src="/images/flags/ru.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Русский
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ja/interfaces/formats/">
                                <img src="/images/flags/ja.svg" alt="" title="" width="32" class="d-inline-block mr-2" />日本語
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/tr/interfaces/formats/">
                                <img src="/images/flags/tr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Türkçe
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fa/interfaces/formats/">
                                <img src="/images/flags/fa.svg" alt="" title="" width="32" class="d-inline-block mr-2" />فارسی
                            </a>
                            
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <form id="search-form" class="form-inline m-0">
            <div class="input-group">
                <div class="input-group-prepend w-100">
                    <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id="search-icon">
                        <img src="/images/mkdocs/search.svg" />
                    </span>
                    <input id="docsearch-input" class="form-control bg-secondary-alt text-muted border-0 pl-1" type="search" placeholder="Search" aria-label="Search">
                </div>
            </div>
        </form>

        <button id="navbar-toggler" class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
        <div class="container-fluid">
            <div class="row justify-content-end justify-content-xl-center">
                <div id="sidebar" class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto">
    <div class="overflow-auto">
        <div id="single-page-switch" class="btn-group mb-2 float-right" role="group" aria-label="多页或单页">
            <a href="../.." role="button" class="btn btn-dark active" aria-pressed="true">
                <img src="/images/mkdocs/multi.svg" alt="多页版本" title="多页版本" />
            </a>
            <a href="../../single/" role="button" class="btn btn-dark-alt active" aria-pressed="true">
                <img src="/images/mkdocs/single.svg" alt="单页版本" title="单页版本" />
            </a>
        </div>
        <div class="dropdown mb-3">
            <a class="btn btn-dark dropdown-toggle text-muted" href="#" role="button" id="select-version" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                版本: <span class="text-light">最新消息</span>
            </a>

            <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby="select-version">
                <a class="dropdown-item disable"
                   href="/docs/zh/">
                    <span class="text-light">最新消息</span>
                </a>

                
            </div>
        </div>
        
        <nav id="sidebar-nav" class="nav flex-column mb-5">
            
                
                
                


<a href="#sidebar-sidebar-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-1" title="导言" class="nav-link text-light text-wrap dropdown-toggle px-0">导言</a>
<div id="sidebar-sidebar-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../" title="什么是ClickHouse？" class="nav-link text-light text-wrap d-inline-block w-100 px-0">什么是ClickHouse？</a>


    
        
        
        

    
        
        
        


<a href="../../introduction/adopters/" title="采用者" class="nav-link text-light text-wrap d-inline-block w-100 px-0">采用者</a>


    
        
        
        


<a href="../../introduction/history/" title="ClickHouse历史" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse历史</a>


    
        
        
        


<a href="../../introduction/distinctive-features/" title="ClickHouse的特性" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse的特性</a>


    
        
        
        


<a href="../../introduction/performance/" title="性能" class="nav-link text-light text-wrap d-inline-block w-100 px-0">性能</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2" title="引擎" class="nav-link text-light text-wrap dropdown-toggle px-0">引擎</a>
<div id="sidebar-sidebar-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-2" title="数据库引擎" class="nav-link text-light text-wrap dropdown-toggle px-0">数据库引擎</a>
<div id="sidebar-sidebar-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../engines/database-engines/lazy/" title="延时引擎" class="nav-link text-light text-wrap d-inline-block w-100 px-0">延时引擎</a>


    
        
        
        


<a href="../../engines/database-engines/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../engines/database-engines/" title="数据库引擎" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据库引擎</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-2-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3" title="表引擎" class="nav-link text-light text-wrap dropdown-toggle px-0">表引擎</a>
<div id="sidebar-sidebar-2-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-2-3-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3-1" title="合并树家族" class="nav-link text-light text-wrap dropdown-toggle px-0">合并树家族</a>
<div id="sidebar-sidebar-2-3-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/" title="版本折叠MergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">版本折叠MergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/graphitemergetree/" title="GraphiteMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/aggregatingmergetree/" title="AggregatingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/mergetree/" title="MergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/summingmergetree/" title="SummingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/collapsingmergetree/" title="折叠树" class="nav-link text-light text-wrap d-inline-block w-100 px-0">折叠树</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/replication/" title="数据副本" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据副本</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/replacingmergetree/" title="替换合并树" class="nav-link text-light text-wrap d-inline-block w-100 px-0">替换合并树</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/custom-partitioning-key/" title="自定义分区键" class="nav-link text-light text-wrap d-inline-block w-100 px-0">自定义分区键</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-2-3-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3-2" title="日志系列" class="nav-link text-light text-wrap dropdown-toggle px-0">日志系列</a>
<div id="sidebar-sidebar-2-3-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../engines/table-engines/log-family/" title="日志引擎系列" class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志引擎系列</a>


    
        
        
        


<a href="../../engines/table-engines/log-family/stripelog/" title="StripeLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a>


    
        
        
        


<a href="../../engines/table-engines/log-family/tinylog/" title="TinyLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a>


    
        
        
        


<a href="../../engines/table-engines/log-family/log/" title="日志" class="nav-link text-light text-wrap d-inline-block w-100 px-0">日志</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-2-3-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3-3" title="集成" class="nav-link text-light text-wrap dropdown-toggle px-0">集成</a>
<div id="sidebar-sidebar-2-3-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../engines/table-engines/integrations/jdbc/" title="JDBC表引擎" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC表引擎</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/odbc/" title="ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/hdfs/" title="HDFS" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/kafka/" title="Kafka" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-2-3-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3-4" title="特别" class="nav-link text-light text-wrap dropdown-toggle px-0">特别</a>
<div id="sidebar-sidebar-2-3-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../engines/table-engines/special/join/" title="关联表引擎" class="nav-link text-light text-wrap d-inline-block w-100 px-0">关联表引擎</a>


    
        
        
        


<a href="../../engines/table-engines/special/generate/" title="随机数生成" class="nav-link text-light text-wrap d-inline-block w-100 px-0">随机数生成</a>


    
        
        
        


<a href="../../engines/table-engines/special/materializedview/" title="MaterializedView" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a>


    
        
        
        


<a href="../../engines/table-engines/special/null/" title="Null" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a>


    
        
        
        


<a href="../../engines/table-engines/special/url/" title="URL(URL,格式)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL(URL,格式)</a>


    
        
        
        


<a href="../../engines/table-engines/special/memory/" title="内存表" class="nav-link text-light text-wrap d-inline-block w-100 px-0">内存表</a>


    
        
        
        


<a href="../../engines/table-engines/special/distributed/" title="分布" class="nav-link text-light text-wrap d-inline-block w-100 px-0">分布</a>


    
        
        
        


<a href="../../engines/table-engines/special/merge/" title="合并" class="nav-link text-light text-wrap d-inline-block w-100 px-0">合并</a>


    
        
        
        


<a href="../../engines/table-engines/special/dictionary/" title="字典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典</a>


    
        
        
        


<a href="../../engines/table-engines/special/file/" title="文件(输入格式)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">文件(输入格式)</a>


    
        
        
        


<a href="../../engines/table-engines/special/external-data/" title="用于查询处理的外部数据" class="nav-link text-light text-wrap d-inline-block w-100 px-0">用于查询处理的外部数据</a>


    
        
        
        


<a href="../../engines/table-engines/special/buffer/" title="缓冲区" class="nav-link text-light text-wrap d-inline-block w-100 px-0">缓冲区</a>


    
        
        
        


<a href="../../engines/table-engines/special/view/" title="视图" class="nav-link text-light text-wrap d-inline-block w-100 px-0">视图</a>


    
        
        
        


<a href="../../engines/table-engines/special/set/" title="设置" class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../engines/table-engines/" title="表引擎" class="nav-link text-light text-wrap d-inline-block w-100 px-0">表引擎</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3" title="SQL参考" class="nav-link text-light text-wrap dropdown-toggle px-0">SQL参考</a>
<div id="sidebar-sidebar-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../sql-reference/syntax/" title="SQL语法" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SQL语法</a>


    
        
        
        


<a href="#sidebar-sidebar-3-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-3" title="发言" class="nav-link text-light text-wrap dropdown-toggle px-0">发言</a>
<div id="sidebar-sidebar-3-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-3-3-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-3-2" title="SELECT" class="nav-link text-light text-wrap dropdown-toggle px-0">SELECT</a>
<div id="sidebar-sidebar-3-3-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/statements/select/" title="概述" class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a>


    
        
        
        


<a href="../../sql-reference/statements/select/array-join/" title="ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ARRAY JOIN</a>


    
        
        
        


<a href="../../sql-reference/statements/select/distinct/" title="DISTINCT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DISTINCT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/format/" title="FORMAT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FORMAT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/from/" title="FROM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FROM</a>


    
        
        
        


<a href="../../sql-reference/statements/select/group-by/" title="GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GROUP BY</a>


    
        
        
        


<a href="../../sql-reference/statements/select/having/" title="HAVING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HAVING</a>


    
        
        
        


<a href="../../sql-reference/statements/select/into-outfile/" title="INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INTO OUTFILE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/join/" title="JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JOIN</a>


    
        
        
        


<a href="../../sql-reference/statements/select/limit/" title="LIMIT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/limit-by/" title="LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT BY</a>


    
        
        
        


<a href="../../sql-reference/statements/select/order-by/" title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a>


    
        
        
        


<a href="../../sql-reference/statements/select/prewhere/" title="PREWHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">PREWHERE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/sample/" title="SAMPLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SAMPLE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/union-all/" title="UNION ALL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UNION ALL</a>


    
        
        
        


<a href="../../sql-reference/statements/select/where/" title="WHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WHERE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/with/" title="WITH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WITH</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/statements/alter/" title="ALTER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a>


    
        
        
        


<a href="../../sql-reference/statements/system/" title="SYSTEM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a>


    
        
        
        


<a href="../../sql-reference/statements/show/" title="SHOW" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a>


    
        
        
        


<a href="../../sql-reference/statements/grant/" title="授权操作" class="nav-link text-light text-wrap d-inline-block w-100 px-0">授权操作</a>


    
        
        
        


<a href="../../sql-reference/statements/revoke/" title="REVOKE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a>


    
        
        
        


<a href="../../sql-reference/statements/misc/" title="其他" class="nav-link text-light text-wrap d-inline-block w-100 px-0">其他</a>


    
        
        
        


<a href="../../sql-reference/statements/create/" title="CREATE DATABASE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE DATABASE</a>


    
        
        
        


<a href="../../sql-reference/statements/insert-into/" title="INSERT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-3-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-4" title="函数" class="nav-link text-light text-wrap dropdown-toggle px-0">函数</a>
<div id="sidebar-sidebar-3-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/functions/" title="简介" class="nav-link text-light text-wrap d-inline-block w-100 px-0">简介</a>


    
        
        
        


<a href="../../sql-reference/functions/arithmetic-functions/" title="算术函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">算术函数</a>


    
        
        
        


<a href="../../sql-reference/functions/comparison-functions/" title="比较函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">比较函数</a>


    
        
        
        


<a href="../../sql-reference/functions/logical-functions/" title="逻辑函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">逻辑函数</a>


    
        
        
        


<a href="../../sql-reference/functions/type-conversion-functions/" title="类型转换函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">类型转换函数</a>


    
        
        
        


<a href="../../sql-reference/functions/in-functions/" title="IN 运算符" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IN 运算符</a>


    
        
        
        


<a href="../../sql-reference/functions/introspection/" title="自省" class="nav-link text-light text-wrap d-inline-block w-100 px-0">自省</a>


    
        
        
        


<a href="../../sql-reference/functions/geo/" title="GEO函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GEO函数</a>


    
        
        
        


<a href="../../sql-reference/functions/hash-functions/" title="Hash函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Hash函数</a>


    
        
        
        


<a href="../../sql-reference/functions/ip-address-functions/" title="IP函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IP函数</a>


    
        
        
        


<a href="../../sql-reference/functions/json-functions/" title="JSON函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JSON函数</a>


    
        
        
        


<a href="../../sql-reference/functions/functions-for-nulls/" title="Nullable处理函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable处理函数</a>


    
        
        
        


<a href="../../sql-reference/functions/url-functions/" title="URL函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL函数</a>


    
        
        
        


<a href="../../sql-reference/functions/uuid-functions/" title="UUID函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID函数</a>


    
        
        
        


<a href="../../sql-reference/functions/array-join/" title="arrayJoin函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">arrayJoin函数</a>


    
        
        
        


<a href="../../sql-reference/functions/bitmap-functions/" title="位图函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">位图函数</a>


    
        
        
        


<a href="../../sql-reference/functions/bit-functions/" title="位操作函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">位操作函数</a>


    
        
        
        


<a href="../../sql-reference/functions/other-functions/" title="其他函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">其他函数</a>


    
        
        
        


<a href="../../sql-reference/functions/ym-dict-functions/" title="功能与Yandex的工作。梅特里卡词典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">功能与Yandex的工作。梅特里卡词典</a>


    
        
        
        


<a href="../../sql-reference/functions/rounding-functions/" title="取整函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">取整函数</a>


    
        
        
        


<a href="../../sql-reference/functions/ext-dict-functions/" title="字典函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典函数</a>


    
        
        
        


<a href="../../sql-reference/functions/string-functions/" title="字符串函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串函数</a>


    
        
        
        


<a href="../../sql-reference/functions/splitting-merging-functions/" title="字符串拆分合并函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串拆分合并函数</a>


    
        
        
        


<a href="../../sql-reference/functions/string-search-functions/" title="字符串搜索函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串搜索函数</a>


    
        
        
        


<a href="../../sql-reference/functions/string-replace-functions/" title="字符串替换函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串替换函数</a>


    
        
        
        


<a href="../../sql-reference/functions/math-functions/" title="数学函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数学函数</a>


    
        
        
        


<a href="../../sql-reference/functions/array-functions/" title="数组函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数组函数</a>


    
        
        
        


<a href="../../sql-reference/functions/date-time-functions/" title="时间日期函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">时间日期函数</a>


    
        
        
        


<a href="../../sql-reference/functions/machine-learning-functions/" title="机器学习函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">机器学习函数</a>


    
        
        
        


<a href="../../sql-reference/functions/conditional-functions/" title="条件函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">条件函数</a>


    
        
        
        


<a href="../../sql-reference/functions/encoding-functions/" title="编码函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">编码函数</a>


    
        
        
        


<a href="../../sql-reference/functions/random-functions/" title="随机函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">随机函数</a>


    
        
        
        


<a href="../../sql-reference/functions/higher-order-functions/" title="高阶函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">高阶函数</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-3-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-5" title="简介" class="nav-link text-light text-wrap dropdown-toggle px-0">简介</a>
<div id="sidebar-sidebar-3-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/aggregate-functions/" title="简介" class="nav-link text-light text-wrap d-inline-block w-100 px-0">简介</a>


    
        
        
        


<a href="../../sql-reference/aggregate-functions/reference/" title="聚合函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">聚合函数</a>


    
        
        
        


<a href="../../sql-reference/aggregate-functions/combinators/" title="聚合函数组合器" class="nav-link text-light text-wrap d-inline-block w-100 px-0">聚合函数组合器</a>


    
        
        
        


<a href="../../sql-reference/aggregate-functions/parametric-functions/" title="参数聚合函数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">参数聚合函数</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-3-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-6" title="表函数" class="nav-link text-light text-wrap dropdown-toggle px-0">表函数</a>
<div id="sidebar-sidebar-3-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/table-functions/" title="导言" class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a>


    
        
        
        


<a href="../../sql-reference/table-functions/file/" title="文件" class="nav-link text-light text-wrap d-inline-block w-100 px-0">文件</a>


    
        
        
        


<a href="../../sql-reference/table-functions/merge/" title="合并" class="nav-link text-light text-wrap d-inline-block w-100 px-0">合并</a>


    
        
        
        


<a href="../../sql-reference/table-functions/numbers/" title="数字" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数字</a>


    
        
        
        


<a href="../../sql-reference/table-functions/remote/" title="远程" class="nav-link text-light text-wrap d-inline-block w-100 px-0">远程</a>


    
        
        
        


<a href="../../sql-reference/table-functions/url/" title="url" class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a>


    
        
        
        


<a href="../../sql-reference/table-functions/mysql/" title="mysql" class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a>


    
        
        
        


<a href="../../sql-reference/table-functions/jdbc/" title="jdbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a>


    
        
        
        


<a href="../../sql-reference/table-functions/odbc/" title="odbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a>


    
        
        
        


<a href="../../sql-reference/table-functions/hdfs/" title="hdfs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a>


    
        
        
        


<a href="../../sql-reference/table-functions/input/" title="输入" class="nav-link text-light text-wrap d-inline-block w-100 px-0">输入</a>


    
        
        
        


<a href="../../sql-reference/table-functions/generate/" title="generateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-3-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-7" title="字典" class="nav-link text-light text-wrap dropdown-toggle px-0">字典</a>
<div id="sidebar-sidebar-3-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/dictionaries/" title="导言" class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a>


    
        
        
        


<a href="#sidebar-sidebar-3-7-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-7-2" title="外部字典" class="nav-link text-light text-wrap dropdown-toggle px-0">外部字典</a>
<div id="sidebar-sidebar-3-7-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts/" title="概述" class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/" title="配置外部字典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">配置外部字典</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/" title="在内存中存储字典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">在内存中存储字典</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/" title="字典更新" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典更新</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/" title="外部字典的来源" class="nav-link text-light text-wrap d-inline-block w-100 px-0">外部字典的来源</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/" title="字典键和字段" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字典键和字段</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/" title="分层字典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">分层字典</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/dictionaries/internal-dicts/" title="内部字典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">内部字典</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/ansi/" title="ANSI兼容性" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSI兼容性</a>


    
        
        
        


<a href="#sidebar-sidebar-3-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-9" title="操作符" class="nav-link text-light text-wrap dropdown-toggle px-0">操作符</a>
<div id="sidebar-sidebar-3-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/operators/in/" title="在运营商" class="nav-link text-light text-wrap d-inline-block w-100 px-0">在运营商</a>


    
        
        
        


<a href="../../sql-reference/operators/" title="操作符" class="nav-link text-light text-wrap d-inline-block w-100 px-0">操作符</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-3-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-10" title="数据类型" class="nav-link text-light text-wrap dropdown-toggle px-0">数据类型</a>
<div id="sidebar-sidebar-3-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/uuid/" title="UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a>


    
        
        
        


<a href="../../sql-reference/data-types/datetime64/" title="DateTime64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a>


    
        
        
        


<a href="../../sql-reference/data-types/lowcardinality/" title="低基数类型" class="nav-link text-light text-wrap d-inline-block w-100 px-0">低基数类型</a>


    
        
        
        


<a href="#sidebar-sidebar-3-10-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-10-4" title="域" class="nav-link text-light text-wrap dropdown-toggle px-0">域</a>
<div id="sidebar-sidebar-3-10-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/domains/" title="域" class="nav-link text-light text-wrap d-inline-block w-100 px-0">域</a>


    
        
        
        


<a href="../../sql-reference/data-types/domains/ipv4/" title="IPv4" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a>


    
        
        
        


<a href="../../sql-reference/data-types/domains/ipv6/" title="IPv6" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/data-types/aggregatefunction/" title="AggregateFunction(name, types\_of\_arguments…)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction(name, types\_of\_arguments…)</a>


    
        
        
        


<a href="../../sql-reference/data-types/decimal/" title="Decimal(P,S),Decimal32(S),Decimal64(S),Decimal128(S)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal(P,S),Decimal32(S),Decimal64(S),Decimal128(S)</a>


    
        
        
        


<a href="../../sql-reference/data-types/enum/" title="Enum8,Enum16" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum8,Enum16</a>


    
        
        
        


<a href="../../sql-reference/data-types/float/" title="Float32,Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32,Float64</a>


    
        
        
        


<a href="../../sql-reference/data-types/simpleaggregatefunction/" title="SimpleAggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a>


    
        
        
        


<a href="../../sql-reference/data-types/tuple/" title="Tuple(T1, T2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, …)</a>


    
        
        
        


<a href="../../sql-reference/data-types/int-uint/" title="UInt8,UInt16,UInt32,UInt64,Int8,Int16,Int32,Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8,UInt16,UInt32,UInt64,Int8,Int16,Int32,Int64</a>


    
        
        
        


<a href="../../sql-reference/data-types/nullable/" title="可为空（类型名称)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">可为空（类型名称)</a>


    
        
        
        


<a href="../../sql-reference/data-types/fixedstring/" title="固定字符串" class="nav-link text-light text-wrap d-inline-block w-100 px-0">固定字符串</a>


    
        
        
        


<a href="../../sql-reference/data-types/string/" title="字符串" class="nav-link text-light text-wrap d-inline-block w-100 px-0">字符串</a>


    
        
        
        


<a href="../../sql-reference/data-types/boolean/" title="布尔值" class="nav-link text-light text-wrap d-inline-block w-100 px-0">布尔值</a>


    
        
        
        


<a href="../../sql-reference/data-types/" title="数据类型" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据类型</a>


    
        
        
        


<a href="../../sql-reference/data-types/date/" title="日期" class="nav-link text-light text-wrap d-inline-block w-100 px-0">日期</a>


    
        
        
        


<a href="../../sql-reference/data-types/datetime/" title="日期时间" class="nav-link text-light text-wrap d-inline-block w-100 px-0">日期时间</a>


    
        
        
        


<a href="../../sql-reference/data-types/array/" title="阵列(T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">阵列(T)</a>


    
        
        
        


<a href="#sidebar-sidebar-3-10-20" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-10-20" title="嵌套数据结构" class="nav-link text-light text-wrap dropdown-toggle px-0">嵌套数据结构</a>
<div id="sidebar-sidebar-3-10-20" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/nested-data-structures/nested/" title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a>


    
        
        
        


<a href="../../sql-reference/data-types/nested-data-structures/" title="嵌套数据结构" class="nav-link text-light text-wrap d-inline-block w-100 px-0">嵌套数据结构</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-3-10-21" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-10-21" title="特殊数据类型" class="nav-link text-light text-wrap dropdown-toggle px-0">特殊数据类型</a>
<div id="sidebar-sidebar-3-10-21" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/interval/" title="间隔" class="nav-link text-light text-wrap d-inline-block w-100 px-0">间隔</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/nothing/" title="没什么" class="nav-link text-light text-wrap d-inline-block w-100 px-0">没什么</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/" title="特殊数据类型" class="nav-link text-light text-wrap d-inline-block w-100 px-0">特殊数据类型</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/expression/" title="表达式" class="nav-link text-light text-wrap d-inline-block w-100 px-0">表达式</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/set/" title="设置" class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a>


    
    </nav>
</div>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4" title="指南" class="nav-link text-light text-wrap dropdown-toggle px-0">指南</a>
<div id="sidebar-sidebar-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../guides/" title="概述" class="nav-link text-light text-wrap d-inline-block w-100 px-0">概述</a>


    
        
        
        


<a href="../../guides/apply-catboost-model/" title="应用CatBoost模型" class="nav-link text-light text-wrap d-inline-block w-100 px-0">应用CatBoost模型</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5" title="操作" class="nav-link text-light text-wrap dropdown-toggle px-0">操作</a>
<div id="sidebar-sidebar-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/" title="操作" class="nav-link text-light text-wrap d-inline-block w-100 px-0">操作</a>


    
        
        
        


<a href="../../operations/requirements/" title="要求" class="nav-link text-light text-wrap d-inline-block w-100 px-0">要求</a>


    
        
        
        


<a href="../../operations/monitoring/" title="监控" class="nav-link text-light text-wrap d-inline-block w-100 px-0">监控</a>


    
        
        
        


<a href="../../operations/troubleshooting/" title="常见问题" class="nav-link text-light text-wrap d-inline-block w-100 px-0">常见问题</a>


    
        
        
        


<a href="../../operations/update/" title="更新" class="nav-link text-light text-wrap d-inline-block w-100 px-0">更新</a>


    
        
        
        


<a href="../../operations/access-rights/" title="访问权限和账户管理" class="nav-link text-light text-wrap d-inline-block w-100 px-0">访问权限和账户管理</a>


    
        
        
        


<a href="../../operations/backup/" title="数据备份" class="nav-link text-light text-wrap d-inline-block w-100 px-0">数据备份</a>


    
        
        
        


<a href="#sidebar-sidebar-5-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8" title="优化性能" class="nav-link text-light text-wrap dropdown-toggle px-0">优化性能</a>
<div id="sidebar-sidebar-5-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../operations/optimizing-performance/sampling-query-profiler/" title="查询分析" class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询分析</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9" title="系统表" class="nav-link text-light text-wrap dropdown-toggle px-0">系统表</a>
<div id="sidebar-sidebar-5-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/system-tables/" title="系统表" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统表</a>


    
        
        
        


<a href="../../operations/system-tables/asynchronous_metric_log/" title="系统。asynchronous\_metric\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。asynchronous\_metric\_log</a>


    
        
        
        


<a href="../../operations/system-tables/asynchronous_metrics/" title="系统。asynchronous\_metrics" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。asynchronous\_metrics</a>


    
        
        
        


<a href="../../operations/system-tables/data_type_families/" title="系统。data\_type\_families" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。data\_type\_families</a>


    
        
        
        


<a href="../../operations/system-tables/detached_parts/" title="系统。detached\_parts" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。detached\_parts</a>


    
        
        
        


<a href="../../operations/system-tables/graphite_retentions/" title="系统。graphite\_retentions" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。graphite\_retentions</a>


    
        
        
        


<a href="../../operations/system-tables/merge_tree_settings/" title="系统。merge\_tree\_settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。merge\_tree\_settings</a>


    
        
        
        


<a href="../../operations/system-tables/metric_log/" title="系统。metric\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。metric\_log</a>


    
        
        
        


<a href="../../operations/system-tables/numbers_mt/" title="系统。numbers\_mt" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。numbers\_mt</a>


    
        
        
        


<a href="../../operations/system-tables/part_log/" title="系统。part\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。part\_log</a>


    
        
        
        


<a href="../../operations/system-tables/query_log/" title="系统。query\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。query\_log</a>


    
        
        
        


<a href="../../operations/system-tables/query_thread_log/" title="系统。query\_thread\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。query\_thread\_log</a>


    
        
        
        


<a href="../../operations/system-tables/storage_policies/" title="系统。storage\_policies" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。storage\_policies</a>


    
        
        
        


<a href="../../operations/system-tables/text_log/" title="系统。text\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。text\_log</a>


    
        
        
        


<a href="../../operations/system-tables/trace_log/" title="系统。trace\_log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。trace\_log</a>


    
        
        
        


<a href="../../operations/system-tables/one/" title="系统。一" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。一</a>


    
        
        
        


<a href="../../operations/system-tables/columns/" title="系统。列" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。列</a>


    
        
        
        


<a href="../../operations/system-tables/replicas/" title="系统。副本" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。副本</a>


    
        
        
        


<a href="../../operations/system-tables/functions/" title="系统。功能" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。功能</a>


    
        
        
        


<a href="../../operations/system-tables/zookeeper/" title="系统。动物园管理员" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。动物园管理员</a>


    
        
        
        


<a href="../../operations/system-tables/merges/" title="系统。合并" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。合并</a>


    
        
        
        


<a href="../../operations/system-tables/dictionaries/" title="系统。字典" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。字典</a>


    
        
        
        


<a href="../../operations/system-tables/metrics/" title="系统。指标" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。指标</a>


    
        
        
        


<a href="../../operations/system-tables/numbers/" title="系统。数字" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。数字</a>


    
        
        
        


<a href="../../operations/system-tables/databases/" title="系统。数据库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。数据库</a>


    
        
        
        


<a href="../../operations/system-tables/events/" title="系统。活动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。活动</a>


    
        
        
        


<a href="../../operations/system-tables/processes/" title="系统。流程" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。流程</a>


    
        
        
        


<a href="../../operations/system-tables/disks/" title="系统。磁盘" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。磁盘</a>


    
        
        
        


<a href="../../operations/system-tables/mutations/" title="系统。突变" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。突变</a>


    
        
        
        


<a href="../../operations/system-tables/tables/" title="系统。表" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。表</a>


    
        
        
        


<a href="../../operations/system-tables/table_engines/" title="系统。表\_engines" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。表\_engines</a>


    
        
        
        


<a href="../../operations/system-tables/settings/" title="系统。设置" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。设置</a>


    
        
        
        


<a href="../../operations/system-tables/contributors/" title="系统。贡献者" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。贡献者</a>


    
        
        
        


<a href="../../operations/system-tables/clusters/" title="系统。集群" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。集群</a>


    
        
        
        


<a href="../../operations/system-tables/parts/" title="系统。零件" class="nav-link text-light text-wrap d-inline-block w-100 px-0">系统。零件</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../operations/performance-test/" title="测试硬件" class="nav-link text-light text-wrap d-inline-block w-100 px-0">测试硬件</a>


    
        
        
        


<a href="../../operations/tips/" title="使用建议" class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用建议</a>


    
        
        
        


<a href="../../operations/configuration-files/" title="配置文件" class="nav-link text-light text-wrap d-inline-block w-100 px-0">配置文件</a>


    
        
        
        


<a href="../../operations/quotas/" title="配额" class="nav-link text-light text-wrap d-inline-block w-100 px-0">配额</a>


    
        
        
        


<a href="#sidebar-sidebar-5-14" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-14" title="服务器配置参数" class="nav-link text-light text-wrap dropdown-toggle px-0">服务器配置参数</a>
<div id="sidebar-sidebar-5-14" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/server-configuration-parameters/settings/" title="服务器设置" class="nav-link text-light text-wrap d-inline-block w-100 px-0">服务器设置</a>


    
        
        
        


<a href="../../operations/server-configuration-parameters/" title="服务器配置参数" class="nav-link text-light text-wrap d-inline-block w-100 px-0">服务器配置参数</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-15" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-15" title="设置" class="nav-link text-light text-wrap dropdown-toggle px-0">设置</a>
<div id="sidebar-sidebar-5-15" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/settings/permissions-for-queries/" title="查询权限" class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询权限</a>


    
        
        
        


<a href="../../operations/settings/settings-profiles/" title="设置配置文件" class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置配置文件</a>


    
        
        
        


<a href="../../operations/settings/constraints-on-settings/" title="对设置的限制" class="nav-link text-light text-wrap d-inline-block w-100 px-0">对设置的限制</a>


    
        
        
        


<a href="../../operations/settings/settings-users/" title="用户设置" class="nav-link text-light text-wrap d-inline-block w-100 px-0">用户设置</a>


    
        
        
        


<a href="../../operations/settings/query-complexity/" title="查询复杂性的限制" class="nav-link text-light text-wrap d-inline-block w-100 px-0">查询复杂性的限制</a>


    
        
        
        


<a href="../../operations/settings/" title="设置" class="nav-link text-light text-wrap d-inline-block w-100 px-0">设置</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-16" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-16" title="ﾂ环板Utilityｮﾂ嘉ｯ" class="nav-link text-light text-wrap dropdown-toggle px-0">ﾂ环板Utilityｮﾂ嘉ｯ</a>
<div id="sidebar-sidebar-5-16" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/utilities/clickhouse-local/" title="clickhouse-local" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a>


    
        
        
        


<a href="../../operations/utilities/clickhouse-benchmark/" title="性能测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">性能测试</a>


    
        
        
        


<a href="../../operations/utilities/clickhouse-copier/" title="clickhouse-copier" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a>


    
        
        
        


<a href="../../operations/utilities/" title="ﾂ环板Utilityｮﾂ嘉ｯ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ﾂ环板Utilityｮﾂ嘉ｯ</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-6" title="商业" class="nav-link text-light text-wrap dropdown-toggle px-0">商业</a>
<div id="sidebar-sidebar-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../commercial/cloud/" title="云" class="nav-link text-light text-wrap d-inline-block w-100 px-0">云</a>


    
        
        
        


<a href="../../commercial/support/" title="碌莽禄Support:" class="nav-link text-light text-wrap d-inline-block w-100 px-0">碌莽禄Support:</a>


    
        
        
        

    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7" title="新增内容" class="nav-link text-light text-wrap dropdown-toggle px-0">新增内容</a>
<div id="sidebar-sidebar-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-7-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-2" title="更新日志" class="nav-link text-light text-wrap dropdown-toggle px-0">更新日志</a>
<div id="sidebar-sidebar-7-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../whats-new/changelog/" title="2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a>


    
        
        
        


<a href="../../whats-new/changelog/2019/" title="2019" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a>


    
        
        
        


<a href="../../whats-new/changelog/2018/" title="2018" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a>


    
        
        
        


<a href="../../whats-new/changelog/2017/" title="2017" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../whats-new/roadmap/" title="路线图" class="nav-link text-light text-wrap d-inline-block w-100 px-0">路线图</a>


    
        
        
        


<a href="../../whats-new/security-changelog/" title="修复于 ClickHouse Release 18.12.13, 2018-09-10" class="nav-link text-light text-wrap d-inline-block w-100 px-0">修复于 ClickHouse Release 18.12.13, 2018-09-10</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-8" title="F.A.Q." class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a>
<div id="sidebar-sidebar-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../faq/general/" title="常见问题" class="nav-link text-light text-wrap d-inline-block w-100 px-0">常见问题</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-9" title="ClickHouse 开发" class="nav-link text-light text-wrap dropdown-toggle px-0">ClickHouse 开发</a>
<div id="sidebar-sidebar-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../development/browse-code/" title="浏览源代码" class="nav-link text-light text-wrap d-inline-block w-100 px-0">浏览源代码</a>


    
        
        
        


<a href="../../development/build-cross-arm/" title="如何在Linux上构建ClickHouse for AARCH64（ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何在Linux上构建ClickHouse for AARCH64（ARM64)</a>


    
        
        
        


<a href="../../development/" title="ClickHouse 开发" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 开发</a>


    
        
        
        


<a href="../../development/architecture/" title="ClickHouse 架构概述" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 架构概述</a>


    
        
        
        


<a href="../../development/tests/" title="ClickHouse 测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse 测试</a>


    
        
        
        


<a href="../../development/developer-instruction/" title="Windows使用指引" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Windows使用指引</a>


    
        
        
        


<a href="../../development/contrib/" title="使用的三方库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">使用的三方库</a>


    
        
        
        


<a href="../../development/build-osx/" title="在 Mac OS X 中编译 ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">在 Mac OS X 中编译 ClickHouse</a>


    
        
        
        


<a href="../../development/build-cross-osx/" title="如何在Linux中编译Mac OS X ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何在Linux中编译Mac OS X ClickHouse</a>


    
        
        
        


<a href="../../development/build/" title="如何构建 ClickHouse 发布包" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何构建 ClickHouse 发布包</a>


    
        
        
        


<a href="../../development/style/" title="如何编写 C++ 代码" class="nav-link text-light text-wrap d-inline-block w-100 px-0">如何编写 C++ 代码</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10" title="入门" class="nav-link text-light text-wrap dropdown-toggle px-0">入门</a>
<div id="sidebar-sidebar-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../getting-started/tutorial/" title="教程" class="nav-link text-light text-wrap d-inline-block w-100 px-0">教程</a>


    
        
        
        


<a href="#sidebar-sidebar-10-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10-2" title="示例数据集" class="nav-link text-light text-wrap dropdown-toggle px-0">示例数据集</a>
<div id="sidebar-sidebar-10-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../getting-started/example-datasets/" title="导言" class="nav-link text-light text-wrap d-inline-block w-100 px-0">导言</a>


    
        
        
        


<a href="../../getting-started/example-datasets/metrica/" title="Yandex梅特里卡数据" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Yandex梅特里卡数据</a>


    
        
        
        


<a href="../../getting-started/example-datasets/amplab-benchmark/" title="AMPLab大数据基准测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab大数据基准测试</a>


    
        
        
        


<a href="../../getting-started/example-datasets/criteo/" title="Criteo TB级别点击日志" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Criteo TB级别点击日志</a>


    
        
        
        


<a href="../../getting-started/example-datasets/star-schema/" title="星型基准测试" class="nav-link text-light text-wrap d-inline-block w-100 px-0">星型基准测试</a>


    
        
        
        


<a href="../../getting-started/example-datasets/nyc-taxi/" title="纽约市出租车数据" class="nav-link text-light text-wrap d-inline-block w-100 px-0">纽约市出租车数据</a>


    
        
        
        


<a href="../../getting-started/example-datasets/wikistat/" title="维基访问数据" class="nav-link text-light text-wrap d-inline-block w-100 px-0">维基访问数据</a>


    
        
        
        


<a href="../../getting-started/example-datasets/ontime/" title="航班飞行数据" class="nav-link text-light text-wrap d-inline-block w-100 px-0">航班飞行数据</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../getting-started/playground/" title="♪操场♪" class="nav-link text-light text-wrap d-inline-block w-100 px-0">♪操场♪</a>


    
        
        
        


<a href="../../getting-started/" title="入门" class="nav-link text-light text-wrap d-inline-block w-100 px-0">入门</a>


    
        
        
        


<a href="../../getting-started/install/" title="安装" class="nav-link text-light text-wrap d-inline-block w-100 px-0">安装</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-11" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-11" title="变更日志" class="nav-link text-light text-wrap dropdown-toggle px-0">变更日志</a>
<div id="sidebar-sidebar-11" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../changelog/" title="变更日志" class="nav-link text-light text-wrap d-inline-block w-100 px-0">变更日志</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-12" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-12" title="客户端" class="nav-link text-light text-wrap dropdown-toggle px-0">客户端</a>
<div id="sidebar-sidebar-12" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../interfaces/mysql/" title="MySQL接口" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL接口</a>


    
        
        
        


<a href="#sidebar-sidebar-12-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-12-2" title="第三方" class="nav-link text-light text-wrap dropdown-toggle px-0">第三方</a>
<div id="sidebar-sidebar-12-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../interfaces/third-party/proxy/" title="来自第三方开发人员的代理服务器" class="nav-link text-light text-wrap d-inline-block w-100 px-0">来自第三方开发人员的代理服务器</a>


    
        
        
        


<a href="../../interfaces/third-party/gui/" title="第三方开发的可视化界面" class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方开发的可视化界面</a>


    
        
        
        


<a href="../../interfaces/third-party/client-libraries/" title="第三方开发的库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方开发的库</a>


    
        
        
        


<a href="../../interfaces/third-party/integrations/" title="第三方集成库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">第三方集成库</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../interfaces/cpp/" title="C ++客户端库" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C ++客户端库</a>


    
        
        
        


<a href="../../interfaces/http/" title="HTTP 客户端" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP 客户端</a>


    
        
        
        


<a href="../../interfaces/jdbc/" title="JDBC 驱动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC 驱动</a>


    
        
        
        


<a href="../../interfaces/odbc/" title="ODBC 驱动" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC 驱动</a>


    
        
        
        


<a href="../../interfaces/tcp/" title="原生客户端接口（TCP）" class="nav-link text-light text-wrap d-inline-block w-100 px-0">原生客户端接口（TCP）</a>


    
        
        
        


<a href="../../interfaces/cli/" title="命令行客户端" class="nav-link text-light text-wrap d-inline-block w-100 px-0">命令行客户端</a>


    
        
        
        


<a href="../../interfaces/" title="客户端" class="nav-link text-light text-wrap d-inline-block w-100 px-0">客户端</a>


    
        
        
        


<a href="../../interfaces/formats/" title="输入输出格式" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">输入输出格式</a>


    
    </nav>
</div>


            
            <a href="../../single/clickhouse_zh.pdf" class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light">
                <img src="/images/mkdocs/pdf.svg" alt="PDF版本" title="PDF版本" height="24" class="d-block mr-1 float-left" /><div>PDF版本</div>
            </a>
        </nav>
        
    </div>
</div>
                <div id="content-wrapper" class="col-md-8 p-2 p-md-5">
    <div id="content" class="mt-md-n3">
        
            
            
            
                
                <nav class="text-muted" aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0">
                        
                        
                        
                        <li class="breadcrumb-item"><a href="../" class="text-reset">客户端</a>
                            
                        </li>
                       
                    </ol>
                </nav>
            

            
            <h1 id="formats">输入输出格式<a class="headerlink" href="#formats" title="Permanent link"> </a></h1>
<p>ClickHouse 可以接受多种数据格式，可以在 (<code class="syntax">INSERT</code>) 以及 (<code class="syntax">SELECT</code>) 请求中使用。</p>
<p>下列表格列出了支持的数据格式以及在 (<code class="syntax">INSERT</code>) 以及 (<code class="syntax">SELECT</code>) 请求中使用它们的方式。</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>INSERT</th>
<th>SELECT</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#tabseparated">TabSeparated</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#tabseparatedraw">TabSeparatedRaw</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#tabseparatedwithnames">TabSeparatedWithNames</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#tabseparatedwithnamesandtypes">TabSeparatedWithNamesAndTypes</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#format-template">模板</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#templateignorespaces">TemplateIgnoreSpaces</a></td>
<td>✔</td>
<td>✗</td>
</tr>
<tr>
<td><a href="#csv">CSV</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#csvwithnames">CSVWithNames</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#format-customseparated">自定义分离</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#data-format-values">值</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#vertical">垂直</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td>VerticalRaw</td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#json">JSON</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#jsoncompact">JSONCompact</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#jsoneachrow">JSONEachRow</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#tskv">TSKV</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#pretty">漂亮</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#prettycompact">PrettyCompact</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#prettycompactmonoblock">PrettyCompactMonoBlock</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#prettynoescapes">PrettyNoEscapes</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#prettyspace">PrettySpace</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#protobuf">Protobuf</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#data-format-avro">Avro</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#data-format-avro-confluent">AvroConfluent</a></td>
<td>✔</td>
<td>✗</td>
</tr>
<tr>
<td><a href="#data-format-parquet">镶木地板</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#data-format-orc">ORC</a></td>
<td>✔</td>
<td>✗</td>
</tr>
<tr>
<td><a href="#rowbinary">RowBinary</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#rowbinarywithnamesandtypes">RowBinaryWithNamesAndTypes</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#native">本地人</a></td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#null">Null</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#xml">XML</a></td>
<td>✗</td>
<td>✔</td>
</tr>
<tr>
<td><a href="#capnproto">CapnProto</a></td>
<td>✔</td>
<td>✔</td>
</tr>
</tbody>
</table>
<h2 id="tabseparated">TabSeparated<a class="headerlink" href="#tabseparated" title="Permanent link"> </a></h2>
<p>在 TabSeparated 格式中，数据按行写入。每行包含由制表符分隔的值。除了行中的最后一个值（后面紧跟换行符）之外，每个值都跟随一个制表符。 在任何地方都可以使用严格的 Unix 命令行。最后一行还必须在最后包含换行符。值以文本格式编写，不包含引号，并且要转义特殊字符。</p>
<p>这种格式也可以用 <code class="syntax">TSV</code> 来表示。</p>
<p>TabSeparated 格式非常方便用于自定义程序或脚本处理数据。HTTP 客户端接口默认会用这种格式，命令行客户端批量模式下也会用这种格式。这种格式允许在不同数据库之间传输数据。例如，从 MYSQL 中导出数据然后导入到 ClickHouse 中，反之亦然。</p>
<p>TabSeparated 格式支持输出数据总值（当使用 WITH TOTALS） 以及极值（当 ‘extremes’ 设置是1）。这种情况下，总值和极值输出在主数据的后面。主要的数据，总值，极值会以一个空行隔开，例如：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">EventDate</span><span class="p">,</span> <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">EventDate</span> <span class="k">WITH</span> <span class="n">TOTALS</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">EventDate</span> <span class="n">FORMAT</span> <span class="n">TabSeparated</span><span class="o">``</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">17</span>      <span class="mi">1406958</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">18</span>      <span class="mi">1383658</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">19</span>      <span class="mi">1405797</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">20</span>      <span class="mi">1353623</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">21</span>      <span class="mi">1245779</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">22</span>      <span class="mi">1031592</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">23</span>      <span class="mi">1046491</span>

<span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span>      <span class="mi">8873898</span>

<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">17</span>      <span class="mi">1031592</span>
<span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">23</span>      <span class="mi">1406958</span>
</code></pre></div>
<h3 id="shu-ju-jie-xi-fang-shi">数据解析方式<a class="headerlink" href="#shu-ju-jie-xi-fang-shi" title="Permanent link"> </a></h3>
<p>整数以十进制形式写入。数字在开头可以包含额外的 <code class="syntax">+</code> 字符（解析时忽略，格式化时不记录）。非负数不能包含负号。 读取时，允许将空字符串解析为零，或者（对于带符号的类型）将仅包含负号的字符串解析为零。 不符合相应数据类型的数字可能会被解析为不同的数字，而不会显示错误消息。</p>
<p>浮点数以十进制形式写入。点号用作小数点分隔符。支持指数等符号，如’inf’，‘+ inf’，‘-inf’和’nan’。 浮点数的输入可以以小数点开始或结束。<br/>
格式化的时候，浮点数的精确度可能会丢失。<br/>
解析的时候，没有严格需要去读取与机器可以表示的最接近的数值。</p>
<p>日期会以 YYYY-MM-DD 格式写入和解析，但会以任何字符作为分隔符。<br/>
带时间的日期会以 YYYY-MM-DD hh:mm:ss 格式写入和解析，但会以任何字符作为分隔符。<br/>
这一切都发生在客户端或服务器启动时的系统时区（取决于哪一种格式的数据）。对于具有时间的日期，夏时制时间未指定。 因此，如果转储在夏令时中有时间，则转储不会明确地匹配数据，解析将选择两者之一。<br/>
在读取操作期间，不正确的日期和具有时间的日期可以使用自然溢出或空日期和时间进行分析，而不会出现错误消息。</p>
<p>有个例外情况，Unix 时间戳格式（10个十进制数字）也支持使用时间解析日期。结果不是时区相关的。格式 YYYY-MM-DD hh:mm:ss和 NNNNNNNNNN 会自动区分。</p>
<p>字符串以反斜线转义的特殊字符输出。 以下转义序列用于输出：<code class="syntax">\b</code>，<code class="syntax">\f</code>，<code class="syntax">\r</code>，<code class="syntax">\n</code>，<code class="syntax">\t</code>，<code class="syntax">\0</code>，<code class="syntax">\'</code>，<code class="syntax">\\</code>。 解析还支持<code class="syntax">\a</code>，<code class="syntax">\v</code>和<code class="syntax">\xHH</code>（十六进制转义字符）和任何<code class="syntax">\c</code>字符，其中<code class="syntax">c</code>是任何字符（这些序列被转换为<code class="syntax">c</code>）。 因此，读取数据支持可以将换行符写为<code class="syntax">\n</code>或<code class="syntax">\</code>的格式，或者换行。例如，字符串 <code class="syntax">Hello world</code> 在单词之间换行而不是空格可以解析为以下任何形式：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">Hello</span><span class="err">\</span><span class="n">nworld</span>

<span class="n">Hello</span><span class="err">\</span>
<span class="n">world</span>
</code></pre></div>
<p>第二种形式是支持的，因为 MySQL 读取 tab-separated 格式数据集的时候也会使用它。</p>
<p>在 TabSeparated 格式中传递数据时需要转义的最小字符集为：Tab，换行符（LF）和反斜杠。</p>
<p>只有一小组符号会被转义。你可以轻易地找到一个字符串值，但这不会正常在你的终端显示。</p>
<p>数组写在方括号内的逗号分隔值列表中。 通常情况下，数组中的数字项目会被拼凑，但日期，带时间的日期以及字符串将使用与上面相同的转义规则用单引号引起来。</p>
<p><a href="../../sql-reference/syntax/">NULL</a> 将输出为 <code class="syntax">\N</code>。</p>
<h2 id="tabseparatedraw">TabSeparatedRaw<a class="headerlink" href="#tabseparatedraw" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">TabSeparated</code> 格式不一样的是，行数据是不会被转义的。<br/>
该格式仅适用于输出查询结果，但不适用于解析输入（将数据插入到表中）。</p>
<p>这种格式也可以使用名称 <code class="syntax">TSVRaw</code> 来表示。</p>
<h2 id="tabseparatedwithnames">TabSeparatedWithNames<a class="headerlink" href="#tabseparatedwithnames" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">TabSeparated</code> 格式不一样的是，第一行会显示列的名称。<br/>
在解析过程中，第一行完全被忽略。您不能使用列名来确定其位置或检查其正确性。<br/>
（未来可能会加入解析头行的功能）</p>
<p>这种格式也可以使用名称 <code class="syntax">TSVWithNames</code> 来表示。</p>
<h2 id="tabseparatedwithnamesandtypes">TabSeparatedWithNamesAndTypes<a class="headerlink" href="#tabseparatedwithnamesandtypes" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">TabSeparated</code> 格式不一样的是，第一行会显示列的名称，第二行会显示列的类型。<br/>
在解析过程中，第一行和第二行完全被忽略。</p>
<p>这种格式也可以使用名称 <code class="syntax">TSVWithNamesAndTypes</code> 来表示。</p>
<h2 id="format-template">模板<a class="headerlink" href="#format-template" title="Permanent link"> </a></h2>
<p>此格式允许为具有指定转义规则的值指定带有占位符的自定义格式字符串。</p>
<p>它使用设置 <code class="syntax">format_schema</code>, <code class="syntax">format_schema_rows</code>, <code class="syntax">format_schema_rows_between_delimiter</code> and some settings of other formats (e.g. <code class="syntax">output_format_json_quote_64bit_integers</code> 使用时 <code class="syntax">JSON</code> 逃跑，进一步查看)</p>
<p>格式字符串 <code class="syntax">format_schema_rows</code> 使用以下语法指定行格式:</p>
<p><code class="syntax">delimiter_1${column_1:serializeAs_1}delimiter_2${column_2:serializeAs_2} ... delimiter_N</code>,</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">where</span> <span class="ss">`delimiter_i`</span> <span class="k">is</span> <span class="n">a</span> <span class="n">delimiter</span> <span class="k">between</span> <span class="k">values</span> <span class="p">(</span><span class="ss">`$`</span> <span class="n">symbol</span> <span class="n">can</span> <span class="n">be</span> <span class="k">escaped</span> <span class="k">as</span> <span class="ss">`$$`</span><span class="p">),</span>
<span class="ss">`column_i`</span> <span class="k">is</span> <span class="n">a</span> <span class="n">name</span> <span class="n">of</span> <span class="n">a</span> <span class="k">column</span> <span class="n">whose</span> <span class="k">values</span> <span class="n">are</span> <span class="k">to</span> <span class="n">be</span> <span class="n">selected</span> <span class="k">or</span> <span class="nf">inserted</span> <span class="p">(</span><span class="k">if</span> <span class="n">empty</span><span class="p">,</span> <span class="k">then</span> <span class="k">column</span> <span class="n">will</span> <span class="n">be</span> <span class="n">skipped</span><span class="p">),</span>
<span class="ss">`serializeAs_i`</span> <span class="k">is</span> <span class="n">an</span> <span class="n">escaping</span> <span class="n">rule</span> <span class="k">for</span> <span class="n">the</span> <span class="k">column</span> <span class="k">values</span><span class="p">.</span> <span class="n">The</span> <span class="n">following</span> <span class="n">escaping</span> <span class="n">rules</span> <span class="n">are</span> <span class="n">supported</span><span class="p">:</span>

<span class="o">-</span> <span class="ss">`CSV`</span><span class="p">,</span> <span class="ss">`JSON`</span><span class="p">,</span> <span class="ss">`XML`</span> <span class="p">(</span><span class="n">similarly</span> <span class="k">to</span> <span class="n">the</span> <span class="n">formats</span> <span class="n">of</span> <span class="n">the</span> <span class="n">same</span> <span class="n">names</span><span class="p">)</span>
<span class="o">-</span> <span class="ss">`Escaped`</span> <span class="p">(</span><span class="n">similarly</span> <span class="k">to</span> <span class="ss">`TSV`</span><span class="p">)</span>
<span class="o">-</span> <span class="ss">`Quoted`</span> <span class="p">(</span><span class="n">similarly</span> <span class="k">to</span> <span class="ss">`Values`</span><span class="p">)</span>
<span class="o">-</span> <span class="ss">`Raw`</span> <span class="p">(</span><span class="n">without</span> <span class="n">escaping</span><span class="p">,</span> <span class="n">similarly</span> <span class="k">to</span> <span class="ss">`TSVRaw`</span><span class="p">)</span>
<span class="o">-</span> <span class="ss">`None`</span> <span class="p">(</span><span class="n">no</span> <span class="n">escaping</span> <span class="n">rule</span><span class="p">,</span> <span class="n">see</span> <span class="n">further</span><span class="p">)</span>

<span class="k">If</span> <span class="n">escaping</span> <span class="n">rule</span> <span class="k">is</span> <span class="n">omitted</span><span class="p">,</span> <span class="k">then</span><span class="ss">`None`</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="p">.</span> <span class="ss">`XML`</span> <span class="k">and</span> <span class="ss">`Raw`</span> <span class="n">are</span> <span class="n">suitable</span> <span class="n">only</span> <span class="k">for</span> <span class="n">output</span><span class="p">.</span>

<span class="n">So</span><span class="p">,</span> <span class="k">for</span> <span class="n">the</span> <span class="n">following</span> <span class="n">format</span> <span class="n">string</span><span class="p">:</span>

  <span class="ss">`Search phrase: ${SearchPhrase:Quoted}, count: ${c:Escaped}, ad price: $$${price:JSON};`</span>

<span class="n">the</span> <span class="k">values</span> <span class="n">of</span> <span class="ss">`SearchPhrase`</span><span class="p">,</span> <span class="ss">`c`</span> <span class="k">and</span> <span class="ss">`price`</span> <span class="n">columns</span><span class="p">,</span> <span class="n">which</span> <span class="n">are</span> <span class="k">escaped</span> <span class="k">as</span> <span class="ss">`Quoted`</span><span class="p">,</span> <span class="ss">`Escaped`</span> <span class="k">and</span> <span class="ss">`JSON`</span> <span class="n">will</span> <span class="n">be</span> <span class="nf">printed</span> <span class="p">(</span><span class="k">for</span> <span class="k">select</span><span class="p">)</span> <span class="k">or</span> <span class="n">will</span> <span class="n">be</span> <span class="nf">expected</span> <span class="p">(</span><span class="k">for</span> <span class="k">insert</span><span class="p">)</span> <span class="k">between</span> <span class="ss">`Search phrase: `</span><span class="p">,</span> <span class="ss">`, count: `</span><span class="p">,</span> <span class="ss">`, ad price: $`</span> <span class="k">and</span> <span class="ss">`;`</span> <span class="n">delimiters</span> <span class="n">respectively</span><span class="p">.</span> <span class="k">For</span> <span class="n">example</span><span class="p">:</span>

<span class="ss">`Search phrase: 'bathroom interior design', count: 2166, ad price: $3;`</span>
</code></pre></div>
<p>该 <code class="syntax">format_schema_rows_between_delimiter</code> setting指定行之间的分隔符，该分隔符在除最后一行之外的每一行之后打印（或预期） (<code class="syntax">\n</code> 默认情况下)</p>
<p>格式字符串 <code class="syntax">format_schema</code> 具有相同的语法 <code class="syntax">format_schema_rows</code> 并允许指定前缀，后缀和打印一些附加信息的方式。 它包含以下占位符而不是列名:</p>
<ul>
<li><code class="syntax">data</code> 包含数据的行 <code class="syntax">format_schema_rows</code> 格式，由分隔 <code class="syntax">format_schema_rows_between_delimiter</code>. 此占位符必须是格式字符串中的第一个占位符。</li>
<li><code class="syntax">totals</code> 是包含总值的行 <code class="syntax">format_schema_rows</code> 格式（与总计一起使用时)</li>
<li><code class="syntax">min</code> 是具有最小值的行 <code class="syntax">format_schema_rows</code> 格式（当极值设置为1时)</li>
<li><code class="syntax">max</code> 是具有最大值的行 <code class="syntax">format_schema_rows</code> 格式（当极值设置为1时)</li>
<li><code class="syntax">rows</code> 输出行总数</li>
<li><code class="syntax">rows_before_limit</code> 是没有限制的最小行数。 仅当查询包含LIMIT时输出。 如果查询包含GROUP BY，则rows_before_limit_at_least是没有限制的确切行数。</li>
<li><code class="syntax">time</code> 请求执行时间以秒为单位</li>
<li><code class="syntax">rows_read</code> 已读取的行数</li>
<li><code class="syntax">bytes_read</code> 被读取的字节数（未压缩）</li>
</ul>
<p>占位符 <code class="syntax">data</code>, <code class="syntax">totals</code>, <code class="syntax">min</code> 和 <code class="syntax">max</code> 必须没有指定转义规则（或 <code class="syntax">None</code> 必须明确指定）。 其余的占位符可能具有指定的任何转义规则。<br/>
如果 <code class="syntax">format_schema</code> 设置为空字符串, <code class="syntax">${data}</code> 用作默认值。<br/>
对于插入查询格式允许跳过一些列或一些字段，如果前缀或后缀（见示例）。</p>
<p><code class="syntax">Select</code> 示例:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">SearchPhrase</span><span class="p">,</span> <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">SearchPhrase</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">c</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">5</span>
<span class="n">FORMAT</span> <span class="k">Template</span>
<span class="n">SETTINGS</span> <span class="n">format_schema</span> <span class="o">=</span> <span class="s1">'&lt;!DOCTYPE HTML&gt;</span>
<span class="s1">&lt;html&gt; &lt;head&gt; &lt;title&gt;Search phrases&lt;/title&gt; &lt;/head&gt;</span>
<span class="s1"> &lt;body&gt;</span>
<span class="s1">  &lt;table border="1"&gt; &lt;caption&gt;Search phrases&lt;/caption&gt;</span>
<span class="s1">    &lt;tr&gt; &lt;th&gt;Search phrase&lt;/th&gt; &lt;th&gt;Count&lt;/th&gt; &lt;/tr&gt;</span>
<span class="s1">    ${data}</span>
<span class="s1">  &lt;/table&gt;</span>
<span class="s1">  &lt;table border="1"&gt; &lt;caption&gt;Max&lt;/caption&gt;</span>
<span class="s1">    ${max}</span>
<span class="s1">  &lt;/table&gt;</span>
<span class="s1">  &lt;b&gt;Processed ${rows_read:XML} rows in ${time:XML} sec&lt;/b&gt;</span>
<span class="s1"> &lt;/body&gt;</span>
<span class="s1">&lt;/html&gt;'</span><span class="p">,</span>
<span class="n">format_schema_rows</span> <span class="o">=</span> <span class="s1">'&lt;tr&gt; &lt;td&gt;${SearchPhrase:XML}&lt;/td&gt; &lt;td&gt;${с:XML}&lt;/td&gt; &lt;/tr&gt;'</span><span class="p">,</span>
<span class="n">format_schema_rows_between_delimiter</span> <span class="o">=</span> <span class="s1">'\n    '</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Search phrases<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">table</span> <span class="na">border</span><span class="o">=</span><span class="s">"1"</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">caption</span><span class="p">&gt;</span>Search phrases<span class="p">&lt;/</span><span class="nt">caption</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Search phrase<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Count<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>8267016<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>bathroom interior design<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2166<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>yandex<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>1655<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>spring 2014 fashion<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>1549<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>freeform photos<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>1480<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">table</span> <span class="na">border</span><span class="o">=</span><span class="s">"1"</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">caption</span><span class="p">&gt;</span>Max<span class="p">&lt;/</span><span class="nt">caption</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>8873898<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Processed 3095973 rows in 0.1569913 sec<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span>
 <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p><code class="syntax">Insert</code> 示例:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">Some header</span>
<span class="err">Page views: 5, User id: 4324182021466249494, Useless field: hello, Duration: 146, Sign: -1</span>
<span class="err">Page views: 6, User id: 4324182021466249494, Useless field: world, Duration: 185, Sign: 1</span>
<span class="err">Total rows: 2</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">UserActivity</span> <span class="n">FORMAT</span> <span class="k">Template</span> <span class="n">SETTINGS</span>
<span class="n">format_schema</span> <span class="o">=</span> <span class="s1">'Some header\n${data}\nTotal rows: ${:CSV}\n'</span><span class="p">,</span>
<span class="n">format_schema_rows</span> <span class="o">=</span> <span class="s1">'Page views: ${PageViews:CSV}, User id: ${UserID:CSV}, Useless field: ${:CSV}, Duration: ${Duration:CSV}, Sign: ${Sign:CSV}'</span>
</code></pre></div>
<p><code class="syntax">PageViews</code>, <code class="syntax">UserID</code>, <code class="syntax">Duration</code> 和 <code class="syntax">Sign</code> 占位符内部是表中列的名称。 值后 <code class="syntax">Useless field</code> 在行和之后 <code class="syntax">\nTotal rows:</code> in后缀将被忽略。<br/>
输入数据中的所有分隔符必须严格等于指定格式字符串中的分隔符。</p>
<h2 id="templateignorespaces">TemplateIgnoreSpaces<a class="headerlink" href="#templateignorespaces" title="Permanent link"> </a></h2>
<p>此格式仅适用于输入。<br/>
类似于 <code class="syntax">Template</code>，但跳过输入流中的分隔符和值之间的空格字符。 但是，如果格式字符串包含空格字符，则在输入流中将需要这些字符。 还允许指定空占位符 (<code class="syntax">${}</code> 或 <code class="syntax">${:None}</code>）将一些分隔符分成单独的部分，以忽略它们之间的空格。 此类占位符仅用于跳过空格字符。<br/>
可以阅读 <code class="syntax">JSON</code> 如果列的值在所有行中具有相同的顺序，则使用此格式。 例如，以下请求可用于从格式的输出示例中插入数据 <a href="#json">JSON</a>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="k">table_name</span> <span class="n">FORMAT</span> <span class="n">TemplateIgnoreSpaces</span> <span class="n">SETTINGS</span>
<span class="n">format_schema</span> <span class="o">=</span> <span class="s1">'{${}"meta"${}:${:JSON},${}"data"${}:${}[${data}]${},${}"totals"${}:${:JSON},${}"extremes"${}:${:JSON},${}"rows"${}:${:JSON},${}"rows_before_limit_at_least"${}:${:JSON}${}}'</span><span class="p">,</span>
<span class="n">format_schema_rows</span> <span class="o">=</span> <span class="s1">'{${}"SearchPhrase"${}:${}${phrase:JSON}${},${}"c"${}:${}${cnt:JSON}${}}'</span><span class="p">,</span>
<span class="n">format_schema_rows_between_delimiter</span> <span class="o">=</span> <span class="s1">','</span>
</code></pre></div>
<h2 id="tskv">TSKV<a class="headerlink" href="#tskv" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">TabSeparated</code> 格式类似，但它输出的是 <code class="syntax">name=value</code> 的格式。名称会和 <code class="syntax">TabSeparated</code> 格式一样被转义，<code class="syntax">=</code> 字符也会被转义。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">SearchPhrase=   count()=8267016</span>
<span class="err">SearchPhrase=bathroom interior design    count()=2166</span>
<span class="err">SearchPhrase=yandex     count()=1655</span>
<span class="err">SearchPhrase=2014 spring fashion    count()=1549</span>
<span class="err">SearchPhrase=freeform photos       count()=1480</span>
<span class="err">SearchPhrase=angelina jolie    count()=1245</span>
<span class="err">SearchPhrase=omsk       count()=1112</span>
<span class="err">SearchPhrase=photos of dog breeds    count()=1091</span>
<span class="err">SearchPhrase=curtain designs        count()=1064</span>
<span class="err">SearchPhrase=baku       count()=1000</span>
</code></pre></div>
<p><a href="../../sql-reference/syntax/">NULL</a> 输出为 <code class="syntax">\N</code>。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_null</span> <span class="n">FORMAT</span> <span class="n">TSKV</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">x=1 y=\N</span>
</code></pre></div>
<p>当有大量的小列时，这种格式是低效的，通常没有理由使用它。它被用于 Yandex 公司的一些部门。</p>
<p>数据的输出和解析都支持这种格式。对于解析，任何顺序都支持不同列的值。可以省略某些值，用 <code class="syntax">-</code> 表示， 它们被视为等于它们的默认值。在这种情况下，零和空行被用作默认值。作为默认值，不支持表中指定的复杂值。</p>
<p>对于不带等号或值，可以用附加字段 <code class="syntax">tskv</code> 来表示，这种在解析上是被允许的。这样的话该字段被忽略。</p>
<h2 id="csv">CSV<a class="headerlink" href="#csv" title="Permanent link"> </a></h2>
<p>按逗号分隔的数据格式(<a href="https://tools.ietf.org/html/rfc4180" rel="external nofollow noreferrer" target="_blank">RFC</a>)。</p>
<p>格式化的时候，行是用双引号括起来的。字符串中的双引号会以两个双引号输出，除此之外没有其他规则来做字符转义了。日期和时间也会以双引号包括。数字的输出不带引号。值由一个单独的字符隔开，这个字符默认是 <code class="syntax">,</code>。行使用 Unix 换行符（LF）分隔。 数组序列化成 CSV 规则如下：首先将数组序列化为 TabSeparated 格式的字符串，然后将结果字符串用双引号包括输出到 CSV。CSV 格式的元组被序列化为单独的列（即它们在元组中的嵌套关系会丢失）。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">clickhouse-client --format_csv_delimiter="|" --query="INSERT INTO test.csv FORMAT CSV" &lt; data.csv</span>
</code></pre></div>
<p>*默认情况下间隔符是 <code class="syntax">,</code> ，在 <a href="../../operations/settings/settings/#settings-format_csv_delimiter">format_csv_delimiter</a> 中可以了解更多间隔符配置。</p>
<p>解析的时候，可以使用或不使用引号来解析所有值。支持双引号和单引号。行也可以不用引号排列。 在这种情况下，它们被解析为逗号或换行符（CR 或 LF）。在解析不带引号的行时，若违反 RFC 规则，会忽略前导和尾随的空格和制表符。 对于换行，全部支持 Unix（LF），Windows（CR LF）和 Mac OS Classic（CR LF）。</p>
<p><code class="syntax">NULL</code> 将输出为 <code class="syntax">\N</code>。</p>
<p>CSV 格式是和 TabSeparated 一样的方式输出总数和极值。</p>
<h2 id="csvwithnames">CSVWithNames<a class="headerlink" href="#csvwithnames" title="Permanent link"> </a></h2>
<p>会输出带头部行，和 <code class="syntax">TabSeparatedWithNames</code> 一样。</p>
<h2 id="format-customseparated">自定义分离<a class="headerlink" href="#format-customseparated" title="Permanent link"> </a></h2>
<p>类似于 <a href="#format-template">模板</a>，但它打印或读取所有列，并使用从设置转义规则 <code class="syntax">format_custom_escaping_rule</code> 从设置和分隔符 <code class="syntax">format_custom_field_delimiter</code>, <code class="syntax">format_custom_row_before_delimiter</code>, <code class="syntax">format_custom_row_after_delimiter</code>, <code class="syntax">format_custom_row_between_delimiter</code>, <code class="syntax">format_custom_result_before_delimiter</code> 和 <code class="syntax">format_custom_result_after_delimiter</code>，而不是从格式字符串。<br/>
也有 <code class="syntax">CustomSeparatedIgnoreSpaces</code> 格式，这是类似于 <code class="syntax">TemplateIgnoreSpaces</code>.</p>
<h2 id="json">JSON<a class="headerlink" href="#json" title="Permanent link"> </a></h2>
<p>以 JSON 格式输出数据。除了数据表之外，它还输出列名称和类型以及一些附加信息：输出行的总数以及在没有 LIMIT 时可以输出的行数。 例：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">SearchPhrase</span><span class="p">,</span> <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">SearchPhrase</span> <span class="k">WITH</span> <span class="n">TOTALS</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">c</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">5</span> <span class="n">FORMAT</span> <span class="n">JSON</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="p">{</span>
        <span class="nt">"meta"</span><span class="p">:</span>
        <span class="p">[</span>
                <span class="p">{</span>
                        <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"SearchPhrase"</span><span class="p">,</span>
                        <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"String"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                        <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"c"</span><span class="p">,</span>
                        <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"UInt64"</span>
                <span class="p">}</span>
        <span class="p">],</span>

        <span class="nt">"data"</span><span class="p">:</span>
        <span class="p">[</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"8267016"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">"bathroom interior design"</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"2166"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">"yandex"</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"1655"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">"spring 2014 fashion"</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"1549"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">"freeform photos"</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"1480"</span>
                <span class="p">}</span>
        <span class="p">],</span>

        <span class="nt">"totals"</span><span class="p">:</span>
        <span class="p">{</span>
                <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"8873898"</span>
        <span class="p">},</span>

        <span class="nt">"extremes"</span><span class="p">:</span>
        <span class="p">{</span>
                <span class="nt">"min"</span><span class="p">:</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"1480"</span>
                <span class="p">},</span>
                <span class="nt">"max"</span><span class="p">:</span>
                <span class="p">{</span>
                        <span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                        <span class="nt">"c"</span><span class="p">:</span> <span class="s2">"8267016"</span>
                <span class="p">}</span>
        <span class="p">},</span>

        <span class="nt">"rows"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>

        <span class="nt">"rows_before_limit_at_least"</span><span class="p">:</span> <span class="mi">141137</span>
<span class="p">}</span>
</code></pre></div>
<p>JSON 与 JavaScript 兼容。为了确保这一点，一些字符被另外转义：斜线<code class="syntax">/</code>被转义为<code class="syntax">\/</code>; 替代的换行符 <code class="syntax">U+2028</code> 和 <code class="syntax">U+2029</code> 会打断一些浏览器解析，它们会被转义为 <code class="syntax">\uXXXX</code>。 ASCII 控制字符被转义：退格，换页，换行，回车和水平制表符被替换为<code class="syntax">\b</code>，<code class="syntax">\f</code>，<code class="syntax">\n</code>，<code class="syntax">\r</code>，<code class="syntax">\t</code> 作为使用<code class="syntax">\uXXXX</code>序列的00-1F范围内的剩余字节。 无效的 UTF-8 序列更改为替换字符 ，因此输出文本将包含有效的 UTF-8 序列。 为了与 JavaScript 兼容，默认情况下，Int64 和 UInt64 整数用双引号引起来。要除去引号，可以将配置参数 output_format_json_quote_64bit_integers 设置为0。</p>
<p><code class="syntax">rows</code> – 结果输出的行数。</p>
<p><code class="syntax">rows_before_limit_at_least</code> 去掉 LIMIT 过滤后的最小行总数。 只会在查询包含 LIMIT 条件时输出。<br/>
若查询包含 GROUP BY，rows_before_limit_at_least 就是去掉 LIMIT 后过滤后的准确行数。</p>
<p><code class="syntax">totals</code> – 总值 （当使用 TOTALS 条件时）。</p>
<p><code class="syntax">extremes</code> – 极值 （当 extremes 设置为 1时）。</p>
<p>该格式仅适用于输出查询结果，但不适用于解析输入（将数据插入到表中）。</p>
<p>ClickHouse 支持 <a href="../../sql-reference/syntax/">NULL</a>, 在 JSON 格式中以 <code class="syntax">null</code> 输出来表示.</p>
<p>参考 JSONEachRow 格式。</p>
<h2 id="jsoncompact">JSONCompact<a class="headerlink" href="#jsoncompact" title="Permanent link"> </a></h2>
<p>与 JSON 格式不同的是它以数组的方式输出结果，而不是以结构体。</p>
<p>示例：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="p">{</span>
        <span class="nt">"meta"</span><span class="p">:</span>
        <span class="p">[</span>
                <span class="p">{</span>
                        <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"SearchPhrase"</span><span class="p">,</span>
                        <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"String"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                        <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"c"</span><span class="p">,</span>
                        <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"UInt64"</span>
                <span class="p">}</span>
        <span class="p">],</span>

        <span class="nt">"data"</span><span class="p">:</span>
        <span class="p">[</span>
                <span class="p">[</span><span class="s2">""</span><span class="p">,</span> <span class="s2">"8267016"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"bathroom interior design"</span><span class="p">,</span> <span class="s2">"2166"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"yandex"</span><span class="p">,</span> <span class="s2">"1655"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"fashion trends spring 2014"</span><span class="p">,</span> <span class="s2">"1549"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"freeform photo"</span><span class="p">,</span> <span class="s2">"1480"</span><span class="p">]</span>
        <span class="p">],</span>

        <span class="nt">"totals"</span><span class="p">:</span> <span class="p">[</span><span class="s2">""</span><span class="p">,</span><span class="s2">"8873898"</span><span class="p">],</span>

        <span class="nt">"extremes"</span><span class="p">:</span>
        <span class="p">{</span>
                <span class="nt">"min"</span><span class="p">:</span> <span class="p">[</span><span class="s2">""</span><span class="p">,</span><span class="s2">"1480"</span><span class="p">],</span>
                <span class="nt">"max"</span><span class="p">:</span> <span class="p">[</span><span class="s2">""</span><span class="p">,</span><span class="s2">"8267016"</span><span class="p">]</span>
        <span class="p">},</span>

        <span class="nt">"rows"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>

        <span class="nt">"rows_before_limit_at_least"</span><span class="p">:</span> <span class="mi">141137</span>
<span class="p">}</span>
</code></pre></div>
<p>这种格式仅仅适用于输出结果集，而不适用于解析（将数据插入到表中）。<br/>
参考 <code class="syntax">JSONEachRow</code> 格式。</p>
<h2 id="jsoneachrow">JSONEachRow<a class="headerlink" href="#jsoneachrow" title="Permanent link"> </a></h2>
<p>将数据结果每一行以 JSON 结构体输出（换行分割 JSON 结构体）。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"8267016"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span> <span class="s2">"bathroom interior design"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span> <span class="s2">"2166"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"yandex"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1655"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"2014 spring fashion"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1549"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"freeform photo"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1480"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"angelina jolie"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1245"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"omsk"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1112"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"photos of dog breeds"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1091"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"curtain designs"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1064"</span><span class="p">}</span>
<span class="p">{</span><span class="nt">"SearchPhrase"</span><span class="p">:</span><span class="s2">"baku"</span><span class="p">,</span><span class="nt">"count()"</span><span class="p">:</span><span class="s2">"1000"</span><span class="p">}</span>
</code></pre></div>
<p>与 JSON 格式不同的是，没有替换无效的UTF-8序列。任何一组字节都可以在行中输出。这是必要的，因为这样数据可以被格式化而不会丢失任何信息。值的转义方式与JSON相同。</p>
<p>对于解析，任何顺序都支持不同列的值。可以省略某些值 - 它们被视为等于它们的默认值。在这种情况下，零和空行被用作默认值。 作为默认值，不支持表中指定的复杂值。元素之间的空白字符被忽略。如果在对象之后放置逗号，它将被忽略。对象不一定必须用新行分隔。</p>
<h3 id="jsoneachrow-nested">嵌套结构的使用<a class="headerlink" href="#jsoneachrow-nested" title="Permanent link"> </a></h3>
<p>如果你有一张桌子 <a href="../../sql-reference/data-types/nested-data-structures/nested/">嵌套式</a> 数据类型列，可以插入具有相同结构的JSON数据。 启用此功能与 <a href="../../operations/settings/settings/#settings-input_format_import_nested_json">input_format_import_nested_json</a> 设置。</p>
<p>例如，请考虑下表:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">json_each_row_nested</span> <span class="p">(</span><span class="n">n</span> <span class="n">Nested</span> <span class="p">(</span><span class="n">s</span> <span class="n">String</span><span class="p">,</span> <span class="n">i</span> <span class="n">Int32</span><span class="p">)</span> <span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Memory</span>
</code></pre></div>
<p>正如你可以在找到 <code class="syntax">Nested</code> 数据类型说明，ClickHouse将嵌套结构的每个组件视为单独的列, <code class="syntax">n.s</code> 和 <code class="syntax">n.i</code> 为了我们的桌子 所以你可以通过以下方式插入数据:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">json_each_row_nested</span> <span class="n">FORMAT</span> <span class="n">JSONEachRow</span> <span class="err">{</span><span class="ss">"n.s"</span><span class="p">:</span> <span class="p">[</span><span class="ss">"abc"</span><span class="p">,</span> <span class="ss">"def"</span><span class="p">],</span> <span class="ss">"n.i"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span><span class="err">}</span>
</code></pre></div>
<p>将数据作为分层JSON对象集插入 <a href="../../operations/settings/settings/#settings-input_format_import_nested_json">input_format_import_nested_json=1</a>.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="p">{</span>
    <span class="nt">"n"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"s"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"abc"</span><span class="p">,</span> <span class="s2">"def"</span><span class="p">],</span>
        <span class="nt">"i"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>如果没有此设置，ClickHouse将引发异常。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="k">FROM</span> <span class="k">system</span><span class="p">.</span><span class="n">settings</span> <span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'input_format_import_nested_json'</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax">┌─name────────────────────────────┬─value─┐
│ input_format_import_nested_json │ 0     │
└─────────────────────────────────┴───────┘
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">json_each_row_nested</span> <span class="n">FORMAT</span> <span class="n">JSONEachRow</span> <span class="err">{</span><span class="ss">"n"</span><span class="p">:</span> <span class="err">{</span><span class="ss">"s"</span><span class="p">:</span> <span class="p">[</span><span class="ss">"abc"</span><span class="p">,</span> <span class="ss">"def"</span><span class="p">],</span> <span class="ss">"i"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span><span class="err">}}</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax">Code: 117. DB::Exception: Unknown field found while parsing JSONEachRow format: n: (at row 1)
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SET</span> <span class="n">input_format_import_nested_json</span><span class="o">=</span><span class="mi">1</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">json_each_row_nested</span> <span class="n">FORMAT</span> <span class="n">JSONEachRow</span> <span class="err">{</span><span class="ss">"n"</span><span class="p">:</span> <span class="err">{</span><span class="ss">"s"</span><span class="p">:</span> <span class="p">[</span><span class="ss">"abc"</span><span class="p">,</span> <span class="ss">"def"</span><span class="p">],</span> <span class="ss">"i"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span><span class="err">}}</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">json_each_row_nested</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax">┌─n.s───────────┬─n.i────┐
│ ['abc','def'] │ [1,23] │
└───────────────┴────────┘
</code></pre></div>
<h2 id="native">本地人<a class="headerlink" href="#native" title="Permanent link"> </a></h2>
<p>最高性能的格式。 据通过二进制格式的块进行写入和读取。对于每个块，该块中的行数，列数，列名称和类型以及列的部分将被相继记录。 换句话说，这种格式是 «列式»的 - 它不会将列转换为行。 这是用于在服务器之间进行交互的本地界面中使用的格式，用于使用命令行客户端和 C++ 客户端。</p>
<p>您可以使用此格式快速生成只能由 ClickHouse DBMS 读取的格式。但自己处理这种格式是没有意义的。</p>
<h2 id="null">Null<a class="headerlink" href="#null" title="Permanent link"> </a></h2>
<p>没有输出。但是，查询已处理完毕，并且在使用命令行客户端时，数据将传输到客户端。这仅用于测试，包括生产力测试。<br/>
显然，这种格式只适用于输出，不适用于解析。</p>
<h2 id="pretty">漂亮<a class="headerlink" href="#pretty" title="Permanent link"> </a></h2>
<p>将数据以表格形式输出，也可以使用 ANSI 转义字符在终端中设置颜色。<br/>
它会绘制一个完整的表格，每行数据在终端中占用两行。<br/>
每一个结果块都会以单独的表格输出。这是很有必要的，以便结果块不用缓冲结果输出（缓冲在可以预见结果集宽度的时候是很有必要的）。</p>
<p><a href="../../sql-reference/syntax/">NULL</a> 输出为 <code class="syntax">ᴺᵁᴸᴸ</code>。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_null</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">┌─x─┬────y─┐</span>
<span class="err">│ 1 │ ᴺᵁᴸᴸ │</span>
<span class="err">└───┴──────┘</span>
</code></pre></div>
<p>为避免将太多数据传输到终端，只打印前10,000行。 如果行数大于或等于10,000，则会显示消息«Showed first 10 000»。<br/>
该格式仅适用于输出查询结果，但不适用于解析输入（将数据插入到表中）。</p>
<p>Pretty格式支持输出总值（当使用 WITH TOTALS 时）和极值（当 <code class="syntax">extremes</code> 设置为1时）。 在这些情况下，总数值和极值在主数据之后以单独的表格形式输出。 示例（以 PrettyCompact 格式显示）：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">EventDate</span><span class="p">,</span> <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">EventDate</span> <span class="k">WITH</span> <span class="n">TOTALS</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">EventDate</span> <span class="n">FORMAT</span> <span class="n">PrettyCompact</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">┌──</span><span class="n">EventDate</span><span class="err">─┬───────</span><span class="k">c</span><span class="err">─┐</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">17</span> <span class="err">│</span> <span class="mi">1406958</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">18</span> <span class="err">│</span> <span class="mi">1383658</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">19</span> <span class="err">│</span> <span class="mi">1405797</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">20</span> <span class="err">│</span> <span class="mi">1353623</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">21</span> <span class="err">│</span> <span class="mi">1245779</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">22</span> <span class="err">│</span> <span class="mi">1031592</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">23</span> <span class="err">│</span> <span class="mi">1046491</span> <span class="err">│</span>
<span class="err">└────────────┴─────────┘</span>

<span class="n">Totals</span><span class="p">:</span>
<span class="err">┌──</span><span class="n">EventDate</span><span class="err">─┬───────</span><span class="k">c</span><span class="err">─┐</span>
<span class="err">│</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="err">│</span> <span class="mi">8873898</span> <span class="err">│</span>
<span class="err">└────────────┴─────────┘</span>

<span class="n">Extremes</span><span class="p">:</span>
<span class="err">┌──</span><span class="n">EventDate</span><span class="err">─┬───────</span><span class="k">c</span><span class="err">─┐</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">17</span> <span class="err">│</span> <span class="mi">1031592</span> <span class="err">│</span>
<span class="err">│</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">23</span> <span class="err">│</span> <span class="mi">1406958</span> <span class="err">│</span>
<span class="err">└────────────┴─────────┘</span>
</code></pre></div>
<h2 id="prettycompact">PrettyCompact<a class="headerlink" href="#prettycompact" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">Pretty</code> 格式不一样的是，<code class="syntax">PrettyCompact</code> 去掉了行之间的表格分割线，这样使得结果更加紧凑。这种格式会在交互命令行客户端下默认使用。</p>
<h2 id="prettycompactmonoblock">PrettyCompactMonoBlock<a class="headerlink" href="#prettycompactmonoblock" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">PrettyCompact</code> 格式不一样的是，它支持 10,000 行数据缓冲，然后输出在一个表格中，不会按照块来区分</p>
<h2 id="prettynoescapes">PrettyNoEscapes<a class="headerlink" href="#prettynoescapes" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">Pretty</code> 格式不一样的是，它不使用 ANSI 字符转义， 这在浏览器显示数据以及在使用 <code class="syntax">watch</code> 命令行工具是有必要的。</p>
<p>示例：</p>
<div class="codehilite"><pre><span></span><code class="syntax">watch -n1 <span class="s2">"clickhouse-client --query='SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes'"</span>
</code></pre></div>
<p>您可以使用 HTTP 接口来获取数据，显示在浏览器中。</p>
<h3 id="prettycompactnoescapes">PrettyCompactNoEscapes<a class="headerlink" href="#prettycompactnoescapes" title="Permanent link"> </a></h3>
<p>用法类似上述。</p>
<h3 id="prettyspacenoescapes">PrettySpaceNoEscapes<a class="headerlink" href="#prettyspacenoescapes" title="Permanent link"> </a></h3>
<p>用法类似上述。</p>
<h2 id="prettyspace">PrettySpace<a class="headerlink" href="#prettyspace" title="Permanent link"> </a></h2>
<p>与 <code class="syntax">PrettyCompact</code>(#prettycompact) 格式不一样的是，它使用空格来代替网格来显示数据。</p>
<h2 id="rowbinary">RowBinary<a class="headerlink" href="#rowbinary" title="Permanent link"> </a></h2>
<p>以二进制格式逐行格式化和解析数据。行和值连续列出，没有分隔符。<br/>
这种格式比 Native 格式效率低，因为它是基于行的。</p>
<p>整数使用固定长度的小端表示法。 例如，UInt64 使用8个字节。<br/>
DateTime 被表示为 UInt32 类型的Unix 时间戳值。<br/>
Date 被表示为 UInt16 对象，它的值为 1970-01-01以来的天数。<br/>
字符串表示为 varint 长度（无符号 <a href="https://en.wikipedia.org/wiki/LEB128" rel="external nofollow noreferrer" target="_blank">LEB128</a>），后跟字符串的字节数。<br/>
FixedString 被简单地表示为一个字节序列。</p>
<p>数组表示为 varint 长度（无符号 <a href="https://en.wikipedia.org/wiki/LEB128" rel="external nofollow noreferrer" target="_blank">LEB128</a>），后跟有序的数组元素。</p>
<p>对于 <a href="../../sql-reference/syntax/#null-literal">NULL</a> 的支持， 一个为 1 或 0 的字节会加在每个 <a href="../../sql-reference/data-types/nullable/">可为空</a> 值前面。如果为 1, 那么该值就是 <code class="syntax">NULL</code>。 如果为 0，则不为 <code class="syntax">NULL</code>。</p>
<h2 id="rowbinarywithnamesandtypes">RowBinaryWithNamesAndTypes<a class="headerlink" href="#rowbinarywithnamesandtypes" title="Permanent link"> </a></h2>
<p>类似于 <a href="#rowbinary">RowBinary</a>，但添加了标题:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/LEB128" rel="external nofollow noreferrer" target="_blank">LEB128</a>-编码列数（N)</li>
<li>N <code class="syntax">String</code>s指定列名</li>
<li>N <code class="syntax">String</code>s指定列类型</li>
</ul>
<h2 id="data-format-values">值<a class="headerlink" href="#data-format-values" title="Permanent link"> </a></h2>
<p>在括号中打印每一行。行由逗号分隔。最后一行之后没有逗号。括号内的值也用逗号分隔。数字以十进制格式输出，不含引号。 数组以方括号输出。带有时间的字符串，日期和时间用引号包围输出。转义字符的解析规则与 <a href="#tabseparated">TabSeparated</a> 格式类似。 在格式化过程中，不插入额外的空格，但在解析过程中，空格是被允许并跳过的（除了数组值之外的空格，这是不允许的）。<a href="../../sql-reference/syntax/">NULL</a> 为 <code class="syntax">NULL</code>。</p>
<p>以 Values 格式传递数据时需要转义的最小字符集是：单引号和反斜线。</p>
<p>这是 <code class="syntax">INSERT INTO t VALUES ...</code> 中可以使用的格式，但您也可以将其用于查询结果。</p>
<h2 id="vertical">垂直<a class="headerlink" href="#vertical" title="Permanent link"> </a></h2>
<p>使用指定的列名在单独的行上打印每个值。如果每行都包含大量列，则此格式便于打印一行或几行。</p>
<p><a href="../../sql-reference/syntax/">NULL</a> 输出为 <code class="syntax">ᴺᵁᴸᴸ</code>。</p>
<p>示例:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">t_null</span> <span class="n">FORMAT</span> <span class="n">Vertical</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">Row 1:</span>
<span class="err">──────</span>
<span class="c">x: 1</span>
<span class="c">y: ᴺᵁᴸᴸ</span>
</code></pre></div>
<p>该格式仅适用于输出查询结果，但不适用于解析输入（将数据插入到表中）。</p>
<h2 id="verticalraw">VerticalRaw<a class="headerlink" href="#verticalraw" title="Permanent link"> </a></h2>
<p>和 <code class="syntax">Vertical</code> 格式不同点在于，行是不会被转义的。<br/>
这种格式仅仅适用于输出，但不适用于解析输入（将数据插入到表中）。</p>
<p>示例:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="p">:)</span> <span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">geonames</span> <span class="n">FORMAT</span> <span class="n">VerticalRaw</span><span class="p">;</span>
<span class="k">Row</span> <span class="mi">1</span><span class="p">:</span>
<span class="err">──────</span>
<span class="k">statement</span><span class="p">:</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">default</span><span class="p">.</span><span class="n">geonames</span> <span class="p">(</span> <span class="n">geonameid</span> <span class="n">UInt32</span><span class="p">,</span> <span class="nb">date</span> <span class="nb">Date</span> <span class="k">DEFAULT</span> <span class="k">CAST</span><span class="p">(</span><span class="s1">'2017-12-08'</span> <span class="k">AS</span> <span class="nb">Date</span><span class="p">))</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span><span class="p">(</span><span class="nb">date</span><span class="p">,</span> <span class="n">geonameid</span><span class="p">,</span> <span class="mi">8192</span><span class="p">)</span>

<span class="p">:)</span> <span class="k">SELECT</span> <span class="s1">'string with \'</span><span class="n">quotes</span><span class="err">\</span><span class="s1">' and \t with some special \n characters'</span> <span class="k">AS</span> <span class="n">test</span> <span class="n">FORMAT</span> <span class="n">VerticalRaw</span><span class="p">;</span>
<span class="k">Row</span> <span class="mi">1</span><span class="p">:</span>
<span class="err">──────</span>
<span class="n">test</span><span class="p">:</span> <span class="n">string</span> <span class="k">with</span> <span class="s1">'quotes'</span> <span class="k">and</span>   <span class="k">with</span> <span class="k">some</span> <span class="n">special</span>
 <span class="n">characters</span>
</code></pre></div>
<p>和 Vertical 格式相比：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">:) SELECT 'string with \'quotes\' and \t with some special \n characters' AS test FORMAT Vertical;</span>
<span class="err">Row 1:</span>
<span class="err">──────</span>
<span class="c">test: string with \'quotes\' and \t with some special \n characters</span>
</code></pre></div>
<h2 id="xml">XML<a class="headerlink" href="#xml" title="Permanent link"> </a></h2>
<p>该格式仅适用于输出查询结果，但不适用于解析输入，示例：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="cp">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;</span>
<span class="nt">&lt;result&gt;</span>
        <span class="nt">&lt;meta&gt;</span>
                <span class="nt">&lt;columns&gt;</span>
                        <span class="nt">&lt;column&gt;</span>
                                <span class="nt">&lt;name&gt;</span>SearchPhrase<span class="nt">&lt;/name&gt;</span>
                                <span class="nt">&lt;type&gt;</span>String<span class="nt">&lt;/type&gt;</span>
                        <span class="nt">&lt;/column&gt;</span>
                        <span class="nt">&lt;column&gt;</span>
                                <span class="nt">&lt;name&gt;</span>count()<span class="nt">&lt;/name&gt;</span>
                                <span class="nt">&lt;type&gt;</span>UInt64<span class="nt">&lt;/type&gt;</span>
                        <span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;/columns&gt;</span>
        <span class="nt">&lt;/meta&gt;</span>
        <span class="nt">&lt;data&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>8267016<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>bathroom interior design<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>2166<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>yandex<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1655<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>2014 spring fashion<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1549<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>freeform photos<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1480<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>angelina jolie<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1245<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>omsk<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1112<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>photos of dog breeds<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1091<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>curtain designs<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1064<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
                <span class="nt">&lt;row&gt;</span>
                        <span class="nt">&lt;SearchPhrase&gt;</span>baku<span class="nt">&lt;/SearchPhrase&gt;</span>
                        <span class="nt">&lt;field&gt;</span>1000<span class="nt">&lt;/field&gt;</span>
                <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;/data&gt;</span>
        <span class="nt">&lt;rows&gt;</span>10<span class="nt">&lt;/rows&gt;</span>
        <span class="nt">&lt;rows_before_limit_at_least&gt;</span>141137<span class="nt">&lt;/rows_before_limit_at_least&gt;</span>
<span class="nt">&lt;/result&gt;</span>
</code></pre></div>
<p>如果列名称没有可接受的格式，则仅使用 <code class="syntax">field</code> 作为元素名称。 通常，XML 结构遵循 JSON 结构。<br/>
就像JSON一样，将无效的 UTF-8 字符都作替换，以便输出文本将包含有效的 UTF-8 字符序列。</p>
<p>在字符串值中，字符 <code class="syntax">&lt;</code> 和 <code class="syntax">＆</code> 被转义为 <code class="syntax">&lt;</code> 和 <code class="syntax">＆</code>。</p>
<p>数组输出为 <code class="syntax">&lt;array&gt; &lt;elem&gt; Hello &lt;/ elem&gt; &lt;elem&gt; World &lt;/ elem&gt; ... &lt;/ array&gt;</code>，元组输出为 <code class="syntax">&lt;tuple&gt; &lt;elem&gt; Hello &lt;/ elem&gt; &lt;elem&gt; World &lt;/ ELEM&gt; ... &lt;/tuple&gt;</code> 。</p>
<h2 id="capnproto">CapnProto<a class="headerlink" href="#capnproto" title="Permanent link"> </a></h2>
<p>Cap’n Proto 是一种二进制消息格式，类似 Protocol Buffers 和 Thriftis，但与 JSON 或 MessagePack 格式不一样。</p>
<p>Cap’n Proto 消息格式是严格类型的，而不是自我描述，这意味着它们不需要外部的描述。这种格式可以实时地应用，并针对每个查询进行缓存。</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">SearchPhrase</span><span class="p">,</span> <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="k">c</span> <span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span>
       <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">SearchPhrase</span> <span class="n">FORMAT</span> <span class="n">CapnProto</span> <span class="n">SETTINGS</span> <span class="k">schema</span> <span class="o">=</span> <span class="s1">'schema:Message'</span>
</code></pre></div>
<p>其中 <code class="syntax">schema.capnp</code> 描述如下：</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">struct</span> <span class="n">Message</span> <span class="p">{</span>
  <span class="n">SearchPhrase</span> <span class="mi">@0</span> <span class="o">:</span><span class="n">Text</span><span class="p">;</span>
  <span class="n">c</span> <span class="mi">@1</span> <span class="o">:</span><span class="n">Uint64</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>格式文件存储的目录可以在服务配置中的 <a href="../../operations/server-configuration-parameters/settings/">format_schema_path</a> 指定。</p>
<p>Cap’n Proto 反序列化是很高效的，通常不会增加系统的负载。</p>
<h2 id="protobuf">Protobuf<a class="headerlink" href="#protobuf" title="Permanent link"> </a></h2>
<p>Protobuf-是一个 <a href="https://developers.google.com/protocol-buffers/" rel="external nofollow noreferrer" target="_blank">协议缓冲区</a> 格式。</p>
<p>此格式需要外部格式架构。 在查询之间缓存架构。<br/>
ClickHouse支持 <code class="syntax">proto2</code> 和 <code class="syntax">proto3</code> 语法 支持重复/可选/必填字段。</p>
<p>使用示例:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="k">table</span> <span class="n">FORMAT</span> <span class="n">Protobuf</span> <span class="n">SETTINGS</span> <span class="n">format_schema</span> <span class="o">=</span> <span class="s1">'schemafile:MessageType'</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code class="syntax">cat protobuf_messages.bin <span class="p">|</span> clickhouse-client --query <span class="s2">"INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema='schemafile:MessageType'"</span>
</code></pre></div>
<p>哪里的文件 <code class="syntax">schemafile.proto</code> 看起来像这样:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">syntax</span> <span class="l">= "proto3"</span>;

<span class="n">message</span> <span class="n">MessageType</span> {
  <span class="n">string</span> <span class="n">name</span> <span class="l">= 1</span>;
  <span class="n">string</span> <span class="n">surname</span> <span class="l">= 2</span>;
  <span class="n">uint32</span> <span class="n">birthDate</span> <span class="l">= 3</span>;
  <span class="n">repeated</span> <span class="n">string</span> <span class="n">phoneNumbers</span> <span class="l">= 4</span>;
};
</code></pre></div>
<p>要查找协议缓冲区的消息类型的表列和字段之间的对应关系，ClickHouse比较它们的名称。<br/>
这种比较是不区分大小写和字符 <code class="syntax">_</code> (下划线)和 <code class="syntax">.</code> （点）被认为是相等的。<br/>
如果协议缓冲区消息的列和字段的类型不同，则应用必要的转换。</p>
<p>支持嵌套消息。 例如，对于字段 <code class="syntax">z</code> 在下面的消息类型</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">message</span> <span class="n">MessageType</span> {
  <span class="n">message</span> <span class="n">XType</span> {
    <span class="n">message</span> <span class="n">YType</span> {
      <span class="n">int32</span> <span class="n">z</span>;
    };
    <span class="n">repeated</span> <span class="n">YType</span> <span class="n">y</span>;
  };
  <span class="n">XType</span> <span class="n">x</span>;
};
</code></pre></div>
<p>ClickHouse尝试找到一个名为 <code class="syntax">x.y.z</code> （或 <code class="syntax">x_y_z</code> 或 <code class="syntax">X.y_Z</code> 等）。<br/>
嵌套消息适用于输入或输出一个 <a href="../../sql-reference/data-types/nested-data-structures/nested/">嵌套数据结构</a>.</p>
<p>在protobuf模式中定义的默认值，如下所示</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">syntax</span> <span class="l">= "proto2"</span>;

<span class="n">message</span> <span class="n">MessageType</span> {
  <span class="n">optional</span> <span class="n">int32</span> <span class="n">result_per_page</span> <span class="l">= 3 [default = 10]</span>;
}
</code></pre></div>
<p>不应用;该 <a href="../../sql-reference/statements/create/#create-default-values">表默认值</a> 用来代替它们。</p>
<p>ClickHouse在输入和输出protobuf消息 <code class="syntax">length-delimited</code> 格式。<br/>
这意味着每个消息之前，应该写它的长度作为一个 <a href="https://developers.google.com/protocol-buffers/docs/encoding#varints" rel="external nofollow noreferrer" target="_blank">varint</a>.<br/>
另请参阅 <a href="https://cwiki.apache.org/confluence/display/GEODE/Delimiting+Protobuf+Messages" rel="external nofollow noreferrer" target="_blank">如何在流行语言中读取/写入长度分隔的protobuf消息</a>.</p>
<h2 id="data-format-avro">Avro<a class="headerlink" href="#data-format-avro" title="Permanent link"> </a></h2>
<p><a href="http://avro.apache.org/" rel="external nofollow noreferrer" target="_blank">Apache Avro</a> 是在Apache Hadoop项目中开发的面向行的数据序列化框架。</p>
<p>ClickHouse Avro格式支持读取和写入 <a href="http://avro.apache.org/docs/current/spec.html#Object+Container+Files" rel="external nofollow noreferrer" target="_blank">Avro数据文件</a>.</p>
<h3 id="data-types-matching-sql_referencedata_types-matching">数据类型匹配{#sql_reference/data_types-matching}<a class="headerlink" href="#data-types-matching-sql_referencedata_types-matching" title="Permanent link"> </a></h3>
<p>下表显示了支持的数据类型以及它们如何匹配ClickHouse <a href="../../sql-reference/data-types/">数据类型</a> 在 <code class="syntax">INSERT</code> 和 <code class="syntax">SELECT</code> 查询。</p>
<table>
<thead>
<tr>
<th>Avro数据类型 <code class="syntax">INSERT</code></th>
<th>ClickHouse数据类型</th>
<th>Avro数据类型 <code class="syntax">SELECT</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="syntax">boolean</code>, <code class="syntax">int</code>, <code class="syntax">long</code>, <code class="syntax">float</code>, <code class="syntax">double</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int(8/16/32)</a>, <a href="../../sql-reference/data-types/int-uint/">UInt(8/16/32)</a></td>
<td><code class="syntax">int</code></td>
</tr>
<tr>
<td><code class="syntax">boolean</code>, <code class="syntax">int</code>, <code class="syntax">long</code>, <code class="syntax">float</code>, <code class="syntax">double</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int64</a>, <a href="../../sql-reference/data-types/int-uint/">UInt64</a></td>
<td><code class="syntax">long</code></td>
</tr>
<tr>
<td><code class="syntax">boolean</code>, <code class="syntax">int</code>, <code class="syntax">long</code>, <code class="syntax">float</code>, <code class="syntax">double</code></td>
<td><a href="../../sql-reference/data-types/float/">Float32</a></td>
<td><code class="syntax">float</code></td>
</tr>
<tr>
<td><code class="syntax">boolean</code>, <code class="syntax">int</code>, <code class="syntax">long</code>, <code class="syntax">float</code>, <code class="syntax">double</code></td>
<td><a href="../../sql-reference/data-types/float/">Float64</a></td>
<td><code class="syntax">double</code></td>
</tr>
<tr>
<td><code class="syntax">bytes</code>, <code class="syntax">string</code>, <code class="syntax">fixed</code>, <code class="syntax">enum</code></td>
<td><a href="../../sql-reference/data-types/string/">字符串</a></td>
<td><code class="syntax">bytes</code></td>
</tr>
<tr>
<td><code class="syntax">bytes</code>, <code class="syntax">string</code>, <code class="syntax">fixed</code></td>
<td><a href="../../sql-reference/data-types/fixedstring/">固定字符串(N)</a></td>
<td><code class="syntax">fixed(N)</code></td>
</tr>
<tr>
<td><code class="syntax">enum</code></td>
<td><a href="../../sql-reference/data-types/enum/">枚举(8/16)</a></td>
<td><code class="syntax">enum</code></td>
</tr>
<tr>
<td><code class="syntax">array(T)</code></td>
<td><a href="../../sql-reference/data-types/array/">阵列(T)</a></td>
<td><code class="syntax">array(T)</code></td>
</tr>
<tr>
<td><code class="syntax">union(null, T)</code>, <code class="syntax">union(T, null)</code></td>
<td><a href="../../sql-reference/data-types/date/">可为空(T)</a></td>
<td><code class="syntax">union(null, T)</code></td>
</tr>
<tr>
<td><code class="syntax">null</code></td>
<td><a href="../../sql-reference/data-types/special-data-types/nothing/">可为空（无)</a></td>
<td><code class="syntax">null</code></td>
</tr>
<tr>
<td><code class="syntax">int (date)</code> *</td>
<td><a href="../../sql-reference/data-types/date/">日期</a></td>
<td><code class="syntax">int (date)</code> *</td>
</tr>
<tr>
<td><code class="syntax">long (timestamp-millis)</code> *</td>
<td><a href="../../sql-reference/data-types/datetime/">DateTime64(3)</a></td>
<td><code class="syntax">long (timestamp-millis)</code> *</td>
</tr>
<tr>
<td><code class="syntax">long (timestamp-micros)</code> *</td>
<td><a href="../../sql-reference/data-types/datetime/">DateTime64(6)</a></td>
<td><code class="syntax">long (timestamp-micros)</code> *</td>
</tr>
</tbody>
</table>
<p>* <a href="http://avro.apache.org/docs/current/spec.html#Logical+Types" rel="external nofollow noreferrer" target="_blank">Avro逻辑类型</a></p>
<p>不支持的Avro数据类型: <code class="syntax">record</code> （非根), <code class="syntax">map</code></p>
<p>不支持的Avro逻辑数据类型: <code class="syntax">uuid</code>, <code class="syntax">time-millis</code>, <code class="syntax">time-micros</code>, <code class="syntax">duration</code></p>
<h3 id="inserting-data">插入数据<a class="headerlink" href="#inserting-data" title="Permanent link"> </a></h3>
<p>将Avro文件中的数据插入ClickHouse表:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ cat file.avro <span class="p">|</span> clickhouse-client --query<span class="o">=</span><span class="s2">"INSERT INTO {some_table} FORMAT Avro"</span>
</code></pre></div>
<p>输入Avro文件的根模式必须是 <code class="syntax">record</code> 类型。</p>
<p>要查找Avro schema的表列和字段之间的对应关系，ClickHouse比较它们的名称。 此比较区分大小写。<br/>
跳过未使用的字段。</p>
<p>ClickHouse表列的数据类型可能与插入的Avro数据的相应字段不同。 插入数据时，ClickHouse根据上表解释数据类型，然后 <a href="../query_language/functions/type_conversion_functions/#type_conversion_function-cast">投</a> 将数据转换为相应的列类型。</p>
<h3 id="selecting-data">选择数据<a class="headerlink" href="#selecting-data" title="Permanent link"> </a></h3>
<p>从ClickHouse表中选择数据到Avro文件:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ clickhouse-client --query<span class="o">=</span><span class="s2">"SELECT * FROM {some_table} FORMAT Avro"</span> &gt; file.avro
</code></pre></div>
<p>列名必须:</p>
<ul>
<li>名,名,名,名 <code class="syntax">[A-Za-z_]</code></li>
<li>随后只包含 <code class="syntax">[A-Za-z0-9_]</code></li>
</ul>
<p>输出Avro文件压缩和同步间隔可以配置 <a href="../../operations/settings/settings/#settings-output_format_avro_codec">output_format_avro_codec</a> 和 <a href="../../operations/settings/settings/#settings-output_format_avro_sync_interval">output_format_avro_sync_interval</a> 分别。</p>
<h2 id="data-format-avro-confluent">AvroConfluent<a class="headerlink" href="#data-format-avro-confluent" title="Permanent link"> </a></h2>
<p>AvroConfluent支持解码单对象Avro消息常用于 <a href="https://kafka.apache.org/" rel="external nofollow noreferrer" target="_blank">卡夫卡</a> 和 <a href="https://docs.confluent.io/current/schema-registry/index.html" rel="external nofollow noreferrer" target="_blank">汇合的模式注册表</a>.</p>
<p>每个Avro消息都嵌入了一个架构id，该架构id可以在架构注册表的帮助下解析为实际架构。</p>
<p>模式解析后会进行缓存。</p>
<p>架构注册表URL配置为 <a href="../../operations/settings/settings/#settings-format_avro_schema_registry_url">format_avro_schema_registry_url</a></p>
<h3 id="data-types-matching-sql_referencedata_types-matching-1">数据类型匹配{#sql_reference/data_types-matching-1}<a class="headerlink" href="#data-types-matching-sql_referencedata_types-matching-1" title="Permanent link"> </a></h3>
<p>和 <a href="#data-format-avro">Avro</a></p>
<h3 id="usage">用途<a class="headerlink" href="#usage" title="Permanent link"> </a></h3>
<p>要快速验证架构解析，您可以使用 <a href="https://github.com/edenhill/kafkacat" rel="external nofollow noreferrer" target="_blank">kafkacat</a> 与 <a href="../../operations/utilities/clickhouse-local/">ﾂ环板-ｮﾂ嘉ｯﾂ偲</a>:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ kafkacat -b kafka-broker  -C -t topic1 -o beginning -f <span class="s1">'%s'</span> -c <span class="m">3</span> <span class="p">|</span> clickhouse-local   --input-format AvroConfluent --format_avro_schema_registry_url <span class="s1">'http://schema-registry'</span> -S <span class="s2">"field1 Int64, field2 String"</span>  -q <span class="s1">'select *  from table'</span>
<span class="m">1</span> a
<span class="m">2</span> b
<span class="m">3</span> c
</code></pre></div>
<p>使用 <code class="syntax">AvroConfluent</code> 与 <a href="../../engines/table-engines/integrations/kafka/">卡夫卡</a>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">topic1_stream</span>
<span class="p">(</span>
    <span class="n">field1</span> <span class="n">String</span><span class="p">,</span>
    <span class="n">field2</span> <span class="n">String</span>
<span class="p">)</span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Kafka</span><span class="p">()</span>
<span class="n">SETTINGS</span>
<span class="n">kafka_broker_list</span> <span class="o">=</span> <span class="s1">'kafka-broker'</span><span class="p">,</span>
<span class="n">kafka_topic_list</span> <span class="o">=</span> <span class="s1">'topic1'</span><span class="p">,</span>
<span class="n">kafka_group_name</span> <span class="o">=</span> <span class="s1">'group1'</span><span class="p">,</span>
<span class="n">kafka_format</span> <span class="o">=</span> <span class="s1">'AvroConfluent'</span><span class="p">;</span>

<span class="k">SET</span> <span class="n">format_avro_schema_registry_url</span> <span class="o">=</span> <span class="s1">'http://schema-registry'</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">topic1_stream</span><span class="p">;</span>
</code></pre></div>
<div class="admonition note alert pb-0 mb-4 alert-primary" role="alert">
<p class="admonition-title alert-heading display-6 mb-2">警告</p>
<p>设置 <code class="syntax">format_avro_schema_registry_url</code> 需要在配置 <code class="syntax">users.xml</code> restart动后保持它的价值。</p>
</div>
<h2 id="data-format-parquet">镶木地板<a class="headerlink" href="#data-format-parquet" title="Permanent link"> </a></h2>
<p><a href="http://parquet.apache.org/" rel="external nofollow noreferrer" target="_blank">阿帕奇地板</a> 是Hadoop生态系统中普遍存在的列式存储格式。 ClickHouse支持此格式的读写操作。</p>
<h3 id="data-types-matching-sql_referencedata_types-matching-2">数据类型匹配{#sql_reference/data_types-matching-2}<a class="headerlink" href="#data-types-matching-sql_referencedata_types-matching-2" title="Permanent link"> </a></h3>
<p>下表显示了支持的数据类型以及它们如何匹配ClickHouse <a href="../../sql-reference/data-types/">数据类型</a> 在 <code class="syntax">INSERT</code> 和 <code class="syntax">SELECT</code> 查询。</p>
<table>
<thead>
<tr>
<th>Parquet数据类型 (<code class="syntax">INSERT</code>)</th>
<th>ClickHouse数据类型</th>
<th>Parquet数据类型 (<code class="syntax">SELECT</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="syntax">UINT8</code>, <code class="syntax">BOOL</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt8</a></td>
<td><code class="syntax">UINT8</code></td>
</tr>
<tr>
<td><code class="syntax">INT8</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int8</a></td>
<td><code class="syntax">INT8</code></td>
</tr>
<tr>
<td><code class="syntax">UINT16</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt16</a></td>
<td><code class="syntax">UINT16</code></td>
</tr>
<tr>
<td><code class="syntax">INT16</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int16</a></td>
<td><code class="syntax">INT16</code></td>
</tr>
<tr>
<td><code class="syntax">UINT32</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt32</a></td>
<td><code class="syntax">UINT32</code></td>
</tr>
<tr>
<td><code class="syntax">INT32</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int32</a></td>
<td><code class="syntax">INT32</code></td>
</tr>
<tr>
<td><code class="syntax">UINT64</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt64</a></td>
<td><code class="syntax">UINT64</code></td>
</tr>
<tr>
<td><code class="syntax">INT64</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int64</a></td>
<td><code class="syntax">INT64</code></td>
</tr>
<tr>
<td><code class="syntax">FLOAT</code>, <code class="syntax">HALF_FLOAT</code></td>
<td><a href="../../sql-reference/data-types/float/">Float32</a></td>
<td><code class="syntax">FLOAT</code></td>
</tr>
<tr>
<td><code class="syntax">DOUBLE</code></td>
<td><a href="../../sql-reference/data-types/float/">Float64</a></td>
<td><code class="syntax">DOUBLE</code></td>
</tr>
<tr>
<td><code class="syntax">DATE32</code></td>
<td><a href="../../sql-reference/data-types/date/">日期</a></td>
<td><code class="syntax">UINT16</code></td>
</tr>
<tr>
<td><code class="syntax">DATE64</code>, <code class="syntax">TIMESTAMP</code></td>
<td><a href="../../sql-reference/data-types/datetime/">日期时间</a></td>
<td><code class="syntax">UINT32</code></td>
</tr>
<tr>
<td><code class="syntax">STRING</code>, <code class="syntax">BINARY</code></td>
<td><a href="../../sql-reference/data-types/string/">字符串</a></td>
<td><code class="syntax">STRING</code></td>
</tr>
<tr>
<td>—</td>
<td><a href="../../sql-reference/data-types/fixedstring/">固定字符串</a></td>
<td><code class="syntax">STRING</code></td>
</tr>
<tr>
<td><code class="syntax">DECIMAL</code></td>
<td><a href="../../sql-reference/data-types/decimal/">十进制</a></td>
<td><code class="syntax">DECIMAL</code></td>
</tr>
</tbody>
</table>
<p>ClickHouse支持可配置的精度 <code class="syntax">Decimal</code> 类型。 该 <code class="syntax">INSERT</code> 查询对待实木复合地板 <code class="syntax">DECIMAL</code> 键入为ClickHouse <code class="syntax">Decimal128</code> 类型。</p>
<p>不支持的Parquet数据类型: <code class="syntax">DATE32</code>, <code class="syntax">TIME32</code>, <code class="syntax">FIXED_SIZE_BINARY</code>, <code class="syntax">JSON</code>, <code class="syntax">UUID</code>, <code class="syntax">ENUM</code>.</p>
<p>ClickHouse表列的数据类型可能与插入的Parquet数据的相应字段不同。 插入数据时，ClickHouse根据上表解释数据类型，然后 <a href="../query_language/functions/type_conversion_functions/#type_conversion_function-cast">投</a> 为ClickHouse表列设置的数据类型的数据。</p>
<h3 id="inserting-and-selecting-data">插入和选择数据<a class="headerlink" href="#inserting-and-selecting-data" title="Permanent link"> </a></h3>
<p>您可以通过以下命令将Parquet数据从文件插入到ClickHouse表中:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ cat <span class="o">{</span>filename<span class="o">}</span> <span class="p">|</span> clickhouse-client --query<span class="o">=</span><span class="s2">"INSERT INTO {some_table} FORMAT Parquet"</span>
</code></pre></div>
<p>您可以从ClickHouse表中选择数据，并通过以下命令将它们保存到Parquet格式的某个文件中:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ clickhouse-client --query<span class="o">=</span><span class="s2">"SELECT * FROM {some_table} FORMAT Parquet"</span> &gt; <span class="o">{</span>some_file.pq<span class="o">}</span>
</code></pre></div>
<p>要与Hadoop交换数据，您可以使用 <a href="../../engines/table-engines/integrations/hdfs/">HDFS表引擎</a>.</p>
<h2 id="data-format-orc">ORC<a class="headerlink" href="#data-format-orc" title="Permanent link"> </a></h2>
<p><a href="https://orc.apache.org/" rel="external nofollow noreferrer" target="_blank">阿帕奇兽人</a> 是Hadoop生态系统中普遍存在的列式存储格式。 您只能将此格式的数据插入ClickHouse。</p>
<h3 id="data-types-matching-sql_referencedata_types-matching-3">数据类型匹配{#sql_reference/data_types-matching-3}<a class="headerlink" href="#data-types-matching-sql_referencedata_types-matching-3" title="Permanent link"> </a></h3>
<p>下表显示了支持的数据类型以及它们如何匹配ClickHouse <a href="../../sql-reference/data-types/">数据类型</a> 在 <code class="syntax">INSERT</code> 查询。</p>
<table>
<thead>
<tr>
<th>ORC数据类型 (<code class="syntax">INSERT</code>)</th>
<th>ClickHouse数据类型</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="syntax">UINT8</code>, <code class="syntax">BOOL</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt8</a></td>
</tr>
<tr>
<td><code class="syntax">INT8</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int8</a></td>
</tr>
<tr>
<td><code class="syntax">UINT16</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt16</a></td>
</tr>
<tr>
<td><code class="syntax">INT16</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int16</a></td>
</tr>
<tr>
<td><code class="syntax">UINT32</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt32</a></td>
</tr>
<tr>
<td><code class="syntax">INT32</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int32</a></td>
</tr>
<tr>
<td><code class="syntax">UINT64</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">UInt64</a></td>
</tr>
<tr>
<td><code class="syntax">INT64</code></td>
<td><a href="../../sql-reference/data-types/int-uint/">Int64</a></td>
</tr>
<tr>
<td><code class="syntax">FLOAT</code>, <code class="syntax">HALF_FLOAT</code></td>
<td><a href="../../sql-reference/data-types/float/">Float32</a></td>
</tr>
<tr>
<td><code class="syntax">DOUBLE</code></td>
<td><a href="../../sql-reference/data-types/float/">Float64</a></td>
</tr>
<tr>
<td><code class="syntax">DATE32</code></td>
<td><a href="../../sql-reference/data-types/date/">日期</a></td>
</tr>
<tr>
<td><code class="syntax">DATE64</code>, <code class="syntax">TIMESTAMP</code></td>
<td><a href="../../sql-reference/data-types/datetime/">日期时间</a></td>
</tr>
<tr>
<td><code class="syntax">STRING</code>, <code class="syntax">BINARY</code></td>
<td><a href="../../sql-reference/data-types/string/">字符串</a></td>
</tr>
<tr>
<td><code class="syntax">DECIMAL</code></td>
<td><a href="../../sql-reference/data-types/decimal/">十进制</a></td>
</tr>
</tbody>
</table>
<p>ClickHouse支持的可配置精度 <code class="syntax">Decimal</code> 类型。 该 <code class="syntax">INSERT</code> 查询对待兽人 <code class="syntax">DECIMAL</code> 键入为ClickHouse <code class="syntax">Decimal128</code> 类型。</p>
<p>不支持的ORC数据类型: <code class="syntax">DATE32</code>, <code class="syntax">TIME32</code>, <code class="syntax">FIXED_SIZE_BINARY</code>, <code class="syntax">JSON</code>, <code class="syntax">UUID</code>, <code class="syntax">ENUM</code>.</p>
<p>ClickHouse表列的数据类型不必匹配相应的ORC数据字段。 插入数据时，ClickHouse根据上表解释数据类型，然后 <a href="../query_language/functions/type_conversion_functions/#type_conversion_function-cast">投</a> 将数据转换为ClickHouse表列的数据类型集。</p>
<h3 id="inserting-data-1">插入数据<a class="headerlink" href="#inserting-data-1" title="Permanent link"> </a></h3>
<p>您可以通过以下命令将文件中的ORC数据插入到ClickHouse表中:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ cat filename.orc <span class="p">|</span> clickhouse-client --query<span class="o">=</span><span class="s2">"INSERT INTO some_table FORMAT ORC"</span>
</code></pre></div>
<p>要与Hadoop交换数据，您可以使用 <a href="../../engines/table-engines/integrations/hdfs/">HDFS表引擎</a>.</p>
<h2 id="formatschema">格式架构<a class="headerlink" href="#formatschema" title="Permanent link"> </a></h2>
<p>包含格式架构的文件名由该设置设置 <code class="syntax">format_schema</code>.<br/>
当使用其中一种格式时，需要设置此设置 <code class="syntax">Cap'n Proto</code> 和 <code class="syntax">Protobuf</code>.<br/>
格式架构是文件名和此文件中消息类型的名称的组合，用冒号分隔,<br/>
e.g. <code class="syntax">schemafile.proto:MessageType</code>.<br/>
如果文件具有格式的标准扩展名（例如, <code class="syntax">.proto</code> 为 <code class="syntax">Protobuf</code>),<br/>
它可以被省略，在这种情况下，格式模式如下所示 <code class="syntax">schemafile:MessageType</code>.</p>
<p>如果您通过输入或输出数据 <a href="../cli/">客户</a> 在交互模式下，格式架构中指定的文件名<br/>
可以包含绝对路径或相对于客户端上当前目录的路径。<br/>
如果在批处理模式下使用客户端，则由于安全原因，架构的路径必须是相对的。</p>
<p>如果您通过输入或输出数据 <a href="../http/">HTTP接口</a> 格式架构中指定的文件名<br/>
应该位于指定的目录中 <a href="../../operations/server-configuration-parameters/settings/#server_configuration_parameters-format_schema_path">format_schema_path</a><br/>
在服务器配置中。</p>
<p><a href="https://clickhouse.tech/docs/en/interfaces/formats/" target="_blank">原始文章</a> <!--hide--></p>
<h2 id="skippingerrors">跳过错误<a class="headerlink" href="#skippingerrors" title="Permanent link"> </a></h2>
<p>一些格式，如 <code class="syntax">CSV</code>, <code class="syntax">TabSeparated</code>, <code class="syntax">TSKV</code>, <code class="syntax">JSONEachRow</code>, <code class="syntax">Template</code>, <code class="syntax">CustomSeparated</code> 和 <code class="syntax">Protobuf</code> 如果发生解析错误，可以跳过断开的行，并从下一行开始继续解析。 看 <a href="../../operations/settings/settings/#settings-input_format_allow_errors_num">input_format_allow_errors_num</a> 和<br/>
<a href="../../operations/settings/settings/#settings-input_format_allow_errors_ratio">input_format_allow_errors_ratio</a> 设置。<br/>
限制:<br/>
-在解析错误的情况下 <code class="syntax">JSONEachRow</code> 跳过所有数据，直到新行（或EOF），所以行必须由 <code class="syntax">\n</code> 正确计算错误。<br/>
- <code class="syntax">Template</code> 和 <code class="syntax">CustomSeparated</code> 在最后一列之后使用分隔符，并在行之间使用分隔符来查找下一行的开头，所以跳过错误只有在其中至少有一个不为空时才有效。</p>
<p><a href="https://clickhouse.tech/docs/zh/interfaces/formats/" target="_blank">来源文章</a> <!--hide--></p>
        

        
    </div>

    
<div class="alert alert-light my-3">
  <p class="float-right mb-0">评分: RATING_VALUE - RATING_COUNT 所得票数</p>
  <span class="alert-heading display-6">这个内容有帮助?？</span>
  <div id="rating-stars" class="display-6 mb-0"
     
     data-titles="['无法使用', '差', 'OK', '很好', '善乎哉！']"
     data-documentation="文件"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>建于 <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, 发表于 <span title="2018-10-05T19:20:31+03:00">2018-10-05</span>, 修改于 <span title="2020-04-30T21:19:18+03:00">2020-04-30</span>
    
    </div>
</div>

</div>

                
                    <div id="toc" class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5">
    
    
        
    
    <nav class="nav flex-column text-wrap">
    
        <label for="toc">目录</label>
    
    
        
        
        <a href="#tabseparated" title="TabSeparated" class="nav-link text-wrap d-inline-block w-100">
    TabSeparated
</a>

<nav id="toc-toc-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#shu-ju-jie-xi-fang-shi" title="数据解析方式" class="nav-link text-wrap d-inline-block w-100">
    数据解析方式
</a>

    
</nav>

    
        
        
        <a href="#tabseparatedraw" title="TabSeparatedRaw" class="nav-link text-wrap d-inline-block w-100">
    TabSeparatedRaw
</a>

    
        
        
        <a href="#tabseparatedwithnames" title="TabSeparatedWithNames" class="nav-link text-wrap d-inline-block w-100">
    TabSeparatedWithNames
</a>

    
        
        
        <a href="#tabseparatedwithnamesandtypes" title="TabSeparatedWithNamesAndTypes" class="nav-link text-wrap d-inline-block w-100">
    TabSeparatedWithNamesAndTypes
</a>

    
        
        
        <a href="#format-template" title="模板" class="nav-link text-wrap d-inline-block w-100">
    模板
</a>

    
        
        
        <a href="#templateignorespaces" title="TemplateIgnoreSpaces" class="nav-link text-wrap d-inline-block w-100">
    TemplateIgnoreSpaces
</a>

    
        
        
        <a href="#tskv" title="TSKV" class="nav-link text-wrap d-inline-block w-100">
    TSKV
</a>

    
        
        
        <a href="#csv" title="CSV" class="nav-link text-wrap d-inline-block w-100">
    CSV
</a>

    
        
        
        <a href="#csvwithnames" title="CSVWithNames" class="nav-link text-wrap d-inline-block w-100">
    CSVWithNames
</a>

    
        
        
        <a href="#format-customseparated" title="自定义分离" class="nav-link text-wrap d-inline-block w-100">
    自定义分离
</a>

    
        
        
        <a href="#json" title="JSON" class="nav-link text-wrap d-inline-block w-100">
    JSON
</a>

    
        
        
        <a href="#jsoncompact" title="JSONCompact" class="nav-link text-wrap d-inline-block w-100">
    JSONCompact
</a>

    
        
        
        <a href="#jsoneachrow" title="JSONEachRow" class="nav-link text-wrap d-inline-block w-100">
    JSONEachRow
</a>

<nav id="toc-toc-13" class="nav flex-column pl-2">
    
    
        
        
        <a href="#jsoneachrow-nested" title="嵌套结构的使用" class="nav-link text-wrap d-inline-block w-100">
    嵌套结构的使用
</a>

    
</nav>

    
        
        
        <a href="#native" title="本地人" class="nav-link text-wrap d-inline-block w-100">
    本地人
</a>

    
        
        
        <a href="#null" title="Null" class="nav-link text-wrap d-inline-block w-100">
    Null
</a>

    
        
        
        <a href="#pretty" title="漂亮" class="nav-link text-wrap d-inline-block w-100">
    漂亮
</a>

    
        
        
        <a href="#prettycompact" title="PrettyCompact" class="nav-link text-wrap d-inline-block w-100">
    PrettyCompact
</a>

    
        
        
        <a href="#prettycompactmonoblock" title="PrettyCompactMonoBlock" class="nav-link text-wrap d-inline-block w-100">
    PrettyCompactMonoBlock
</a>

    
        
        
        <a href="#prettynoescapes" title="PrettyNoEscapes" class="nav-link text-wrap d-inline-block w-100">
    PrettyNoEscapes
</a>

<nav id="toc-toc-19" class="nav flex-column pl-2">
    
    
        
        
        <a href="#prettycompactnoescapes" title="PrettyCompactNoEscapes" class="nav-link text-wrap d-inline-block w-100">
    PrettyCompactNoEscapes
</a>

    
        
        
        <a href="#prettyspacenoescapes" title="PrettySpaceNoEscapes" class="nav-link text-wrap d-inline-block w-100">
    PrettySpaceNoEscapes
</a>

    
</nav>

    
        
        
        <a href="#prettyspace" title="PrettySpace" class="nav-link text-wrap d-inline-block w-100">
    PrettySpace
</a>

    
        
        
        <a href="#rowbinary" title="RowBinary" class="nav-link text-wrap d-inline-block w-100">
    RowBinary
</a>

    
        
        
        <a href="#rowbinarywithnamesandtypes" title="RowBinaryWithNamesAndTypes" class="nav-link text-wrap d-inline-block w-100">
    RowBinaryWithNamesAndTypes
</a>

    
        
        
        <a href="#data-format-values" title="值" class="nav-link text-wrap d-inline-block w-100">
    值
</a>

    
        
        
        <a href="#vertical" title="垂直" class="nav-link text-wrap d-inline-block w-100">
    垂直
</a>

    
        
        
        <a href="#verticalraw" title="VerticalRaw" class="nav-link text-wrap d-inline-block w-100">
    VerticalRaw
</a>

    
        
        
        <a href="#xml" title="XML" class="nav-link text-wrap d-inline-block w-100">
    XML
</a>

    
        
        
        <a href="#capnproto" title="CapnProto" class="nav-link text-wrap d-inline-block w-100">
    CapnProto
</a>

    
        
        
        <a href="#protobuf" title="Protobuf" class="nav-link text-wrap d-inline-block w-100">
    Protobuf
</a>

    
        
        
        <a href="#data-format-avro" title="Avro" class="nav-link text-wrap d-inline-block w-100">
    Avro
</a>

<nav id="toc-toc-29" class="nav flex-column pl-2">
    
    
        
        
        <a href="#data-types-matching-sql_referencedata_types-matching" title="数据类型匹配{#sql_reference/data_types-matching}" class="nav-link text-wrap d-inline-block w-100">
    数据类型匹配{#sql_reference/data_types-matching}
</a>

    
        
        
        <a href="#inserting-data" title="插入数据" class="nav-link text-wrap d-inline-block w-100">
    插入数据
</a>

    
        
        
        <a href="#selecting-data" title="选择数据" class="nav-link text-wrap d-inline-block w-100">
    选择数据
</a>

    
</nav>

    
        
        
        <a href="#data-format-avro-confluent" title="AvroConfluent" class="nav-link text-wrap d-inline-block w-100">
    AvroConfluent
</a>

<nav id="toc-toc-30" class="nav flex-column pl-2">
    
    
        
        
        <a href="#data-types-matching-sql_referencedata_types-matching-1" title="数据类型匹配{#sql_reference/data_types-matching-1}" class="nav-link text-wrap d-inline-block w-100">
    数据类型匹配{#sql_reference/data_types-matching-1}
</a>

    
        
        
        <a href="#usage" title="用途" class="nav-link text-wrap d-inline-block w-100">
    用途
</a>

    
</nav>

    
        
        
        <a href="#data-format-parquet" title="镶木地板" class="nav-link text-wrap d-inline-block w-100">
    镶木地板
</a>

<nav id="toc-toc-31" class="nav flex-column pl-2">
    
    
        
        
        <a href="#data-types-matching-sql_referencedata_types-matching-2" title="数据类型匹配{#sql_reference/data_types-matching-2}" class="nav-link text-wrap d-inline-block w-100">
    数据类型匹配{#sql_reference/data_types-matching-2}
</a>

    
        
        
        <a href="#inserting-and-selecting-data" title="插入和选择数据" class="nav-link text-wrap d-inline-block w-100">
    插入和选择数据
</a>

    
</nav>

    
        
        
        <a href="#data-format-orc" title="ORC" class="nav-link text-wrap d-inline-block w-100">
    ORC
</a>

<nav id="toc-toc-32" class="nav flex-column pl-2">
    
    
        
        
        <a href="#data-types-matching-sql_referencedata_types-matching-3" title="数据类型匹配{#sql_reference/data_types-matching-3}" class="nav-link text-wrap d-inline-block w-100">
    数据类型匹配{#sql_reference/data_types-matching-3}
</a>

    
        
        
        <a href="#inserting-data-1" title="插入数据" class="nav-link text-wrap d-inline-block w-100">
    插入数据
</a>

    
</nav>

    
        
        
        <a href="#formatschema" title="格式架构" class="nav-link text-wrap d-inline-block w-100">
    格式架构
</a>

    
        
        
        <a href="#skippingerrors" title="跳过错误" class="nav-link text-wrap d-inline-block w-100">
    跳过错误
</a>

    
    </nav>
</div>
                
            </div>
        </div>
    

    

<script async type="text/javascript" src="/js/base.js?js_digest"></script>



<noscript>
    <div><img src="https://mc.yandex.ru/watch/18343495" alt="Yandex"/></div>
</noscript>
</body>
</html>