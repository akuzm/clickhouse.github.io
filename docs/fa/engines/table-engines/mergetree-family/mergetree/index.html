










    



    



    



    
    






    
        
        
    
    <!DOCTYPE html>
<html lang="fa" data-version="master" data-single-page="false">
<head>
    
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>ادغام | مستندات ClickHouse</title>

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180x180.png" />

<meta property="og:title" content="ادغام | مستندات ClickHouse"/>
<meta property="og:description" content="ادغام این MergeTree موتور و سایر موتورهای این خانواده (*MergeTree) موتورهای جدول کلیک قوی ترین. موتور در MergeTree خانوا" />
<meta property="og:type" content="article" />

<meta property="og:image" content="https://clickhouse.tech/images/logo.png" />

<meta property="og:url" content="https://clickhouse.tech/docs/fa/engines/table-engines/mergetree-family/mergetree/"/>
<link rel="canonical" href="https://clickhouse.tech/docs/fa/engines/table-engines/mergetree-family/mergetree/" />

<link rel="amphtml" href="https://clickhouse.tech/docs/fa/engines/table-engines/mergetree-family/mergetree/amp/" />

<link rel="search" href="/opensearch.xml" title="ClickHouse" type="application/opensearchdescription+xml" />

<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "ادغام | مستندات ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fa/engines/table-engines/mergetree-family/mergetree/",

"datePublished": "2020-04-04T12:15:31+03:00",
"dateModified": "2020-05-15T07:34:54+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "ادغام | مستندات ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>


<meta name="description" content="ادغام این MergeTree موتور و سایر موتورهای این خانواده (*MergeTree) موتورهای جدول کلیک قوی ترین. موتور در MergeTree خانوا" />

<meta name="keywords"
      content="ClickHouse, DBMS, OLAP, SQL, متن باز, رابطه, تجزیه و تحلیل, تحلیلی, داده های بزرگ, تجزیه و تحلیل وب سایت" />




    
    <link rel="alternate" hreflang="en" href="https://clickhouse.tech/docs/en/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="zh" href="https://clickhouse.tech/docs/zh/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="es" href="https://clickhouse.tech/docs/es/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="fr" href="https://clickhouse.tech/docs/fr/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="ru" href="https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="ja" href="https://clickhouse.tech/docs/ja/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="tr" href="https://clickhouse.tech/docs/tr/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="fa" href="https://clickhouse.tech/docs/fa/engines/table-engines/mergetree-family/mergetree/" />
    
    <link rel="alternate" hreflang="x-default" href="https://clickhouse.tech/docs/en/engines/table-engines/mergetree-family/mergetree/" />





    
    <link href="/css/base.css?css_digest" media="all" rel="stylesheet" />


</head>
<body dir="rtl" data-spy="scroll" data-target="#toc" data-offset="80">

    
        <nav id="top-nav" class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top">
    <div class="container-fluid justify-content-between">
        <a class="d-block navbar-brand mr-3" href="/">
            <img id="docs-logo-icon" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"/>
        </a>
        <div class="w-100 navbar-text text-left d-none d-md-block">
            <h1 class="h3 m-0 p-0 d-inline">
                <a href="#" class="text-white text-decoration-none">
                    
                        ادغام
                    
                </a>
            </h1>
        </div>

        <div class="d-none d-md-block">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end">
                
                    
                
                
                <li id="edit-wrapper" class="nav-item">
                    <a id="edit-link" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/fa/engines/table-engines/mergetree-family/mergetree.md" title="Edit this article" class="nav-link" rel="external nofollow noreferrer" target="_blank"><img src="/images/mkdocs/edit.svg" alt="Edit this article" class="mt-1" height="22" /></a>
                </li>
                
                <li class="nav-item">
                     <a class="nav-link" href="https://github.com/ClickHouse/ClickHouse" rel="external nofollow noreferrer">
                        <img src="/images/index/github.svg" alt="GitHub repository" title="Go to GitHub" height="32" />
                    </a>
                </li>
                <li id="languages-wrapper" class="nav-item dropdown">
                    <div id="languages-dropdown">
                        <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href="#" id="lang-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="/images/flags/fa.svg" alt="فارسی" title="فارسی" width="32" class="d-inline-block mt-n1" />
                        </a>
                        <div class="dropdown-menu bg-dark" aria-labelledby="lang-dropdown">
                            
                            <a class="dropdown-item"
                               href="/docs/en/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/en.svg" alt="" title="" width="32" class="d-inline-block mr-2" />English
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/zh/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/zh.svg" alt="" title="" width="32" class="d-inline-block mr-2" />中文
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/es/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/es.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Español
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fr/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/fr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Français
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ru/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/ru.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Русский
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ja/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/ja.svg" alt="" title="" width="32" class="d-inline-block mr-2" />日本語
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/tr/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/tr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Türkçe
                            </a>
                            
                            <a class="dropdown-item disabled"
                               href="/docs/fa/engines/table-engines/mergetree-family/mergetree/">
                                <img src="/images/flags/fa.svg" alt="" title="" width="32" class="d-inline-block mr-2" />فارسی
                            </a>
                            
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <form id="search-form" class="form-inline m-0">
            <div class="input-group">
                <div class="input-group-prepend w-100">
                    <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id="search-icon">
                        <img src="/images/mkdocs/search.svg" />
                    </span>
                    <input id="docsearch-input" class="form-control bg-secondary-alt text-muted border-0 pl-1" type="search" placeholder="Search" aria-label="Search">
                </div>
            </div>
        </form>

        <button id="navbar-toggler" class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
        <div class="container-fluid text-right">
            <div class="row justify-content-end justify-content-xl-center">
                <div id="sidebar" class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto">
    <div class="overflow-auto">
        <div id="single-page-switch" class="btn-group mb-2 float-right" role="group" aria-label="چند صفحه یا یک صفحه">
            <a href="../../../.." role="button" class="btn btn-dark active" aria-pressed="true">
                <img src="/images/mkdocs/multi.svg" alt="نسخه چند صفحه ای" title="نسخه چند صفحه ای" />
            </a>
            <a href="../../../../single/" role="button" class="btn btn-dark-alt active" aria-pressed="true">
                <img src="/images/mkdocs/single.svg" alt="نسخه تک صفحه ای" title="نسخه تک صفحه ای" />
            </a>
        </div>
        <div class="dropdown mb-3">
            <a class="btn btn-dark dropdown-toggle text-muted" href="#" role="button" id="select-version" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                نسخه: <span class="text-light">جدیدترین</span>
            </a>

            <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby="select-version">
                <a class="dropdown-item disable"
                   href="/docs/fa/">
                    <span class="text-light">جدیدترین</span>
                </a>

                
            </div>
        </div>
        
        <nav id="sidebar-nav" class="nav flex-column mb-5">
            
                
                
                


<a href="#sidebar-sidebar-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-1" title="معرفی شرکت" class="nav-link text-light text-wrap dropdown-toggle px-0">معرفی شرکت</a>
<div id="sidebar-sidebar-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../" title="ClickHouse چیست؟" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse چیست؟</a>


    
        
        
        

    
        
        
        


<a href="../../../../introduction/history/" title="تاریخچه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاریخچه</a>


    
        
        
        


<a href="../../../../introduction/adopters/" title="پذیرا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پذیرا</a>


    
        
        
        


<a href="../../../../introduction/performance/" title="Performance" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Performance</a>


    
        
        
        


<a href="../../../../introduction/distinctive-features/" title="ویژگی های برجسته ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ویژگی های برجسته ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2" title="شروع کار" class="nav-link text-light text-wrap dropdown-toggle px-0">شروع کار</a>
<div id="sidebar-sidebar-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../getting-started/install/" title="نصب و راه اندازی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نصب و راه اندازی</a>


    
        
        
        


<a href="../../../../getting-started/tutorial/" title="اموزش" class="nav-link text-light text-wrap d-inline-block w-100 px-0">اموزش</a>


    
        
        
        


<a href="#sidebar-sidebar-2-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-4" title="به عنوان مثال مجموعه داده" class="nav-link text-light text-wrap dropdown-toggle px-0">به عنوان مثال مجموعه داده</a>
<div id="sidebar-sidebar-2-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../getting-started/example-datasets/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/metrica/" title="یاندکساطلاعات متریکا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">یاندکساطلاعات متریکا</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/ontime/" title="به موقع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به موقع</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/nyc-taxi/" title="داده های تاکسی نیویورک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">داده های تاکسی نیویورک</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/amplab-benchmark/" title="معیار بزرگ داده های تقویت کننده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معیار بزرگ داده های تقویت کننده</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/wikistat/" title="ویکیستات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ویکیستات</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/criteo/" title="ترابایت کلیک سیاهههای مربوط از مخلوق" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ترابایت کلیک سیاهههای مربوط از مخلوق</a>


    
        
        
        


<a href="../../../../getting-started/example-datasets/star-schema/" title="معیار طرحواره ستاره" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معیار طرحواره ستاره</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../getting-started/playground/" title="زمین بازی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">زمین بازی</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3" title="واسط" class="nav-link text-light text-wrap dropdown-toggle px-0">واسط</a>
<div id="sidebar-sidebar-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../interfaces/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../interfaces/cli/" title="مشتری خط فرمان" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مشتری خط فرمان</a>


    
        
        
        


<a href="../../../../interfaces/tcp/" title="رابط کاربری بومی)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط کاربری بومی)</a>


    
        
        
        


<a href="../../../../interfaces/http/" title="رابط قام" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط قام</a>


    
        
        
        


<a href="../../../../interfaces/mysql/" title="رابط MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط MySQL</a>


    
        
        
        


<a href="../../../../interfaces/formats/" title="فرمت های ورودی و خروجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">فرمت های ورودی و خروجی</a>


    
        
        
        


<a href="../../../../interfaces/jdbc/" title="JDBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC Driver</a>


    
        
        
        


<a href="../../../../interfaces/odbc/" title="ODBC Driver" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC Driver</a>


    
        
        
        


<a href="../../../../interfaces/cpp/" title="ج++ کتابخانه مشتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ج++ کتابخانه مشتری</a>


    
        
        
        


<a href="#sidebar-sidebar-3-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-10" title="شخص ثالث" class="nav-link text-light text-wrap dropdown-toggle px-0">شخص ثالث</a>
<div id="sidebar-sidebar-3-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../interfaces/third-party/client-libraries/" title="کتابخانه های مشتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کتابخانه های مشتری</a>


    
        
        
        


<a href="../../../../interfaces/third-party/integrations/" title="یکپارچگی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">یکپارچگی</a>


    
        
        
        


<a href="../../../../interfaces/third-party/gui/" title="رابط های بصری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رابط های بصری</a>


    
        
        
        


<a href="../../../../interfaces/third-party/proxy/" title="پراکسی ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پراکسی ها</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4" title="موتورها" class="nav-link text-light text-wrap dropdown-toggle px-0">موتورها</a>
<div id="sidebar-sidebar-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-4-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2" title="موتورهای جدول" class="nav-link text-light text-wrap dropdown-toggle px-0">موتورهای جدول</a>
<div id="sidebar-sidebar-4-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../engines/table-engines/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="#sidebar-sidebar-4-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-2" title="ادغام خانواده" class="nav-link text-light text-wrap dropdown-toggle px-0">ادغام خانواده</a>
<div id="sidebar-sidebar-4-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/mergetree/" title="ادغام" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">ادغام</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/replication/" title="تکرار داده ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تکرار داده ها</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/custom-partitioning-key/" title="کلید پارتیشن بندی سفارشی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلید پارتیشن بندی سفارشی</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/replacingmergetree/" title="جایگزینی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">جایگزینی</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/summingmergetree/" title="سامینگمرگتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سامینگمرگتری</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/aggregatingmergetree/" title="ریزدانه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ریزدانه</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/collapsingmergetree/" title="سقوط غذای اصلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سقوط غذای اصلی</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/" title="در حال بارگذاری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">در حال بارگذاری</a>


    
        
        
        


<a href="../../../../engines/table-engines/mergetree-family/graphitemergetree/" title="نمودار" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نمودار</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-2-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-3" title="ثبت خانواده" class="nav-link text-light text-wrap dropdown-toggle px-0">ثبت خانواده</a>
<div id="sidebar-sidebar-4-2-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../engines/table-engines/log-family/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../engines/table-engines/log-family/stripelog/" title="خط زدن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">خط زدن</a>


    
        
        
        


<a href="../../../../engines/table-engines/log-family/log/" title="ثبت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ثبت</a>


    
        
        
        


<a href="../../../../engines/table-engines/log-family/tinylog/" title="جمع شدن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">جمع شدن</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-2-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-4" title="یکپارچگی" class="nav-link text-light text-wrap dropdown-toggle px-0">یکپارچگی</a>
<div id="sidebar-sidebar-4-2-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../engines/table-engines/integrations/kafka/" title="کافکا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کافکا</a>


    
        
        
        


<a href="../../../../engines/table-engines/integrations/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../../../engines/table-engines/integrations/jdbc/" title="JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a>


    
        
        
        


<a href="../../../../engines/table-engines/integrations/odbc/" title="ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a>


    
        
        
        


<a href="../../../../engines/table-engines/integrations/hdfs/" title="HDFS" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-2-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2-5" title="ویژه" class="nav-link text-light text-wrap dropdown-toggle px-0">ویژه</a>
<div id="sidebar-sidebar-4-2-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../engines/table-engines/special/distributed/" title="توزیع شده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توزیع شده</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/external-data/" title="دادههای خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">دادههای خارجی</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/dictionary/" title="واژهنامه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">واژهنامه</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/merge/" title="ادغام" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ادغام</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/file/" title="پرونده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پرونده</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/null/" title="خالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">خالی</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/set/" title="تنظیم" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیم</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/join/" title="پیوستن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پیوستن</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/url/" title="URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/view/" title="نما" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نما</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/materializedview/" title="ماده بینی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ماده بینی</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/memory/" title="حافظه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">حافظه</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/buffer/" title="بافر" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بافر</a>


    
        
        
        


<a href="../../../../engines/table-engines/special/generate/" title="ژنرال" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ژنرال</a>


    
    </nav>
</div>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3" title="موتورهای پایگاه داده" class="nav-link text-light text-wrap dropdown-toggle px-0">موتورهای پایگاه داده</a>
<div id="sidebar-sidebar-4-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../engines/database-engines/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../engines/database-engines/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../../../engines/database-engines/lazy/" title="تنبل" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنبل</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5" title="مرجع مربع" class="nav-link text-light text-wrap dropdown-toggle px-0">مرجع مربع</a>
<div id="sidebar-sidebar-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2" title="بیانیه ها" class="nav-link text-light text-wrap dropdown-toggle px-0">بیانیه ها</a>
<div id="sidebar-sidebar-5-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2-2" title="SELECT" class="nav-link text-light text-wrap dropdown-toggle px-0">SELECT</a>
<div id="sidebar-sidebar-5-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/statements/select/" title="SELECT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/order-by/" title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/union-all/" title="اتحادیه همه بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">اتحادیه همه بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/from/" title="از بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">از بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/with/" title="با بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">با بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/format/" title="بند فرمت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بند فرمت</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/distinct/" title="بند مجزا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بند مجزا</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/limit/" title="بند محدود" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بند محدود</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/sample/" title="بند نمونه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بند نمونه</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/where/" title="بند کجا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بند کجا</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/into-outfile/" title="به OUTFILE بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به OUTFILE بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/having/" title="داشتن بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">داشتن بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/prewhere/" title="در بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">در بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/array-join/" title="مجموعه پیوستن بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مجموعه پیوستن بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/limit-by/" title="محدود کردن بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">محدود کردن بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/join/" title="پیوستن بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پیوستن بند</a>


    
        
        
        


<a href="../../../../sql-reference/statements/select/group-by/" title="گروه بر اساس بند" class="nav-link text-light text-wrap d-inline-block w-100 px-0">گروه بر اساس بند</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../sql-reference/statements/insert-into/" title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a>


    
        
        
        


<a href="../../../../sql-reference/statements/create/" title="CREATE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a>


    
        
        
        


<a href="../../../../sql-reference/statements/alter/" title="ALTER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a>


    
        
        
        


<a href="../../../../sql-reference/statements/system/" title="SYSTEM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SYSTEM</a>


    
        
        
        


<a href="../../../../sql-reference/statements/show/" title="SHOW" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW</a>


    
        
        
        


<a href="../../../../sql-reference/statements/grant/" title="GRANT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a>


    
        
        
        


<a href="../../../../sql-reference/statements/revoke/" title="REVOKE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a>


    
        
        
        


<a href="../../../../sql-reference/statements/misc/" title="غیره" class="nav-link text-light text-wrap d-inline-block w-100 px-0">غیره</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../sql-reference/syntax/" title="نحو" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نحو</a>


    
        
        
        


<a href="#sidebar-sidebar-5-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-4" title="توابع" class="nav-link text-light text-wrap dropdown-toggle px-0">توابع</a>
<div id="sidebar-sidebar-5-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/functions/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../sql-reference/functions/arithmetic-functions/" title="حساب" class="nav-link text-light text-wrap d-inline-block w-100 px-0">حساب</a>


    
        
        
        


<a href="../../../../sql-reference/functions/comparison-functions/" title="مقایسه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مقایسه</a>


    
        
        
        


<a href="../../../../sql-reference/functions/logical-functions/" title="منطقی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">منطقی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/type-conversion-functions/" title="تبدیل نوع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تبدیل نوع</a>


    
        
        
        


<a href="../../../../sql-reference/functions/date-time-functions/" title="کار با تاریخ و زمان" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با تاریخ و زمان</a>


    
        
        
        


<a href="../../../../sql-reference/functions/string-functions/" title="کار با رشته ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با رشته ها</a>


    
        
        
        


<a href="../../../../sql-reference/functions/string-search-functions/" title="برای جستجوی رشتهها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">برای جستجوی رشتهها</a>


    
        
        
        


<a href="../../../../sql-reference/functions/string-replace-functions/" title="برای جایگزینی در رشتهها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">برای جایگزینی در رشتهها</a>


    
        
        
        


<a href="../../../../sql-reference/functions/conditional-functions/" title="شرطی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">شرطی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/math-functions/" title="ریاضی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ریاضی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/rounding-functions/" title="گرد کردن" class="nav-link text-light text-wrap d-inline-block w-100 px-0">گرد کردن</a>


    
        
        
        


<a href="../../../../sql-reference/functions/array-functions/" title="کار با ارریس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با ارریس</a>


    
        
        
        


<a href="../../../../sql-reference/functions/splitting-merging-functions/" title="تقسیم و ادغام رشته ها و ارریس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تقسیم و ادغام رشته ها و ارریس</a>


    
        
        
        


<a href="../../../../sql-reference/functions/bit-functions/" title="بیت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بیت</a>


    
        
        
        


<a href="../../../../sql-reference/functions/bitmap-functions/" title="نگاشت بیت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نگاشت بیت</a>


    
        
        
        


<a href="../../../../sql-reference/functions/hash-functions/" title="هش" class="nav-link text-light text-wrap d-inline-block w-100 px-0">هش</a>


    
        
        
        


<a href="../../../../sql-reference/functions/random-functions/" title="تولید اعداد شبه تصادفی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تولید اعداد شبه تصادفی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/encoding-functions/" title="کدبندی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کدبندی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/uuid-functions/" title="کار با یوید" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با یوید</a>


    
        
        
        


<a href="../../../../sql-reference/functions/ip-address-functions/" title="کار با نشانیهای اینترنتی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با نشانیهای اینترنتی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/json-functions/" title="کار با جانسون" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با جانسون</a>


    
        
        
        


<a href="../../../../sql-reference/functions/higher-order-functions/" title="بالاتر سفارش" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بالاتر سفارش</a>


    
        
        
        


<a href="../../../../sql-reference/functions/ext-dict-functions/" title="کار با واژهنامهها خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با واژهنامهها خارجی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/ym-dict-functions/" title="کار با یاندکس.واژهنامهها متریکا" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با یاندکس.واژهنامهها متریکا</a>


    
        
        
        


<a href="../../../../sql-reference/functions/in-functions/" title="اجرای اپراتور در" class="nav-link text-light text-wrap d-inline-block w-100 px-0">اجرای اپراتور در</a>


    
        
        
        


<a href="../../../../sql-reference/functions/array-join/" title="ارریجین" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ارریجین</a>


    
        
        
        


<a href="../../../../sql-reference/functions/geo/" title="کار با مختصات جغرافیایی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با مختصات جغرافیایی</a>


    
        
        
        


<a href="../../../../sql-reference/functions/functions-for-nulls/" title="کار با Nullable استدلال" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کار با Nullable استدلال</a>


    
        
        
        


<a href="../../../../sql-reference/functions/machine-learning-functions/" title="توابع یادگیری ماشین" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توابع یادگیری ماشین</a>


    
        
        
        


<a href="../../../../sql-reference/functions/introspection/" title="درون نگری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">درون نگری</a>


    
        
        
        


<a href="../../../../sql-reference/functions/other-functions/" title="غیره" class="nav-link text-light text-wrap d-inline-block w-100 px-0">غیره</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5" title="توابع مجموع" class="nav-link text-light text-wrap dropdown-toggle px-0">توابع مجموع</a>
<div id="sidebar-sidebar-5-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/aggregate-functions/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../sql-reference/aggregate-functions/reference/" title="مرجع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مرجع</a>


    
        
        
        


<a href="../../../../sql-reference/aggregate-functions/combinators/" title="ترکیب کنندهها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ترکیب کنندهها</a>


    
        
        
        


<a href="../../../../sql-reference/aggregate-functions/parametric-functions/" title="پارامتری" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پارامتری</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-6" title="توابع جدول" class="nav-link text-light text-wrap dropdown-toggle px-0">توابع جدول</a>
<div id="sidebar-sidebar-5-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/table-functions/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/file/" title="پرونده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پرونده</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/merge/" title="ادغام" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ادغام</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/numbers/" title="اعداد" class="nav-link text-light text-wrap d-inline-block w-100 px-0">اعداد</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/remote/" title="دور" class="nav-link text-light text-wrap d-inline-block w-100 px-0">دور</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/url/" title="نشانی وب" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نشانی وب</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/mysql/" title="خروجی زیر" class="nav-link text-light text-wrap d-inline-block w-100 px-0">خروجی زیر</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/jdbc/" title="jdbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/odbc/" title="جستجو" class="nav-link text-light text-wrap d-inline-block w-100 px-0">جستجو</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/hdfs/" title="hdfs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/input/" title="ورودی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ورودی</a>


    
        
        
        


<a href="../../../../sql-reference/table-functions/generate/" title="ژنرال" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ژنرال</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-7" title="واژهنامهها" class="nav-link text-light text-wrap dropdown-toggle px-0">واژهنامهها</a>
<div id="sidebar-sidebar-5-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/dictionaries/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="#sidebar-sidebar-5-7-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-7-2" title="واژهنامهها خارجی" class="nav-link text-light text-wrap dropdown-toggle px-0">واژهنامهها خارجی</a>
<div id="sidebar-sidebar-5-7-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts/" title="توضیحات کلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توضیحات کلی</a>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/" title="پیکربندی یک فرهنگ لغت خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پیکربندی یک فرهنگ لغت خارجی</a>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/" title="ذخیره واژهنامهها در حافظه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ذخیره واژهنامهها در حافظه</a>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/" title="به روز رسانی فرهنگ لغت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به روز رسانی فرهنگ لغت</a>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/" title="منابع لغت نامه های خارجی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">منابع لغت نامه های خارجی</a>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/" title="کلید فرهنگ لغت و زمینه های" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلید فرهنگ لغت و زمینه های</a>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/" title="لغتنامهها سلسله مراتبی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">لغتنامهها سلسله مراتبی</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../sql-reference/dictionaries/internal-dicts/" title="واژهنامهها داخلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">واژهنامهها داخلی</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8" title="انواع داده ها" class="nav-link text-light text-wrap dropdown-toggle px-0">انواع داده ها</a>
<div id="sidebar-sidebar-5-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/data-types/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/int-uint/" title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/float/" title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/decimal/" title="دهدهی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">دهدهی</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/boolean/" title="بولی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بولی</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/string/" title="رشته" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رشته</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/fixedstring/" title="رشته ثابت)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">رشته ثابت)</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/uuid/" title="UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/date/" title="تاریخ" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاریخ</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/datetime/" title="DateTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/datetime64/" title="طول تاریخ 64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">طول تاریخ 64</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/enum/" title="شمارشی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">شمارشی</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/array/" title="& توری)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">& توری)</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/aggregatefunction/" title="کارکرد(نام و نام خانوادگی..)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کارکرد(نام و نام خانوادگی..)</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/tuple/" title="تاپل (تی1, تی2,...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاپل (تی1, تی2,...)</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/nullable/" title="Nullable" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable</a>


    
        
        
        


<a href="#sidebar-sidebar-5-8-17" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8-17" title="ساختارهای داده تو در تو" class="nav-link text-light text-wrap dropdown-toggle px-0">ساختارهای داده تو در تو</a>
<div id="sidebar-sidebar-5-8-17" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../sql-reference/data-types/nested-data-structures/nested/" title="تو در تو(Name1 Type1, Name2 Type2, ...)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تو در تو(Name1 Type1, Name2 Type2, ...)</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-8-18" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8-18" title="انواع داده های ویژه" class="nav-link text-light text-wrap dropdown-toggle px-0">انواع داده های ویژه</a>
<div id="sidebar-sidebar-5-8-18" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../sql-reference/data-types/special-data-types/expression/" title="عبارت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">عبارت</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/special-data-types/set/" title="تنظیم" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیم</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/special-data-types/nothing/" title="هیچی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">هیچی</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/special-data-types/interval/" title="فاصله" class="nav-link text-light text-wrap d-inline-block w-100 px-0">فاصله</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-8-19" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8-19" title="دامنه" class="nav-link text-light text-wrap dropdown-toggle px-0">دامنه</a>
<div id="sidebar-sidebar-5-8-19" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/data-types/domains/" title="بررسی اجمالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/domains/ipv4/" title="IPv4" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a>


    
        
        
        


<a href="../../../../sql-reference/data-types/domains/ipv6/" title="IPv6" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../sql-reference/data-types/simpleaggregatefunction/" title="عملکرد پلاکتی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">عملکرد پلاکتی</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9" title="اپراتورها" class="nav-link text-light text-wrap dropdown-toggle px-0">اپراتورها</a>
<div id="sidebar-sidebar-5-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../sql-reference/operators/" title="اپراتورها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">اپراتورها</a>


    
        
        
        


<a href="../../../../sql-reference/operators/in/" title="در اپراتورها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">در اپراتورها</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../sql-reference/ansi/" title="سازگاری انسی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سازگاری انسی</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-6" title="راهنما" class="nav-link text-light text-wrap dropdown-toggle px-0">راهنما</a>
<div id="sidebar-sidebar-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../guides/" title="بررسی اجمالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی</a>


    
        
        
        


<a href="../../../../guides/apply-catboost-model/" title="استفاده از مدل های ادم کودن و احمق" class="nav-link text-light text-wrap d-inline-block w-100 px-0">استفاده از مدل های ادم کودن و احمق</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7" title="عملیات" class="nav-link text-light text-wrap dropdown-toggle px-0">عملیات</a>
<div id="sidebar-sidebar-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../operations/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../operations/requirements/" title="الزامات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">الزامات</a>


    
        
        
        


<a href="../../../../operations/monitoring/" title="نظارت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نظارت</a>


    
        
        
        


<a href="../../../../operations/troubleshooting/" title="عیب یابی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">عیب یابی</a>


    
        
        
        


<a href="../../../../operations/update/" title="به روز رسانی کلیک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">به روز رسانی کلیک</a>


    
        
        
        


<a href="../../../../operations/access-rights/" title="کنترل دسترسی و مدیریت حساب" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کنترل دسترسی و مدیریت حساب</a>


    
        
        
        


<a href="../../../../operations/backup/" title="پشتیبان گیری داده ها" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پشتیبان گیری داده ها</a>


    
        
        
        


<a href="../../../../operations/configuration-files/" title="پروندههای پیکربندی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروندههای پیکربندی</a>


    
        
        
        


<a href="../../../../operations/quotas/" title="سهمیه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سهمیه</a>


    
        
        
        


<a href="#sidebar-sidebar-7-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-10" title="بهینه سازی عملکرد" class="nav-link text-light text-wrap dropdown-toggle px-0">بهینه سازی عملکرد</a>
<div id="sidebar-sidebar-7-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../operations/optimizing-performance/sampling-query-profiler/" title="پروفایل پرس و جو" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروفایل پرس و جو</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../operations/system-tables/" title="جداول سیستم" class="nav-link text-light text-wrap d-inline-block w-100 px-0">جداول سیستم</a>


    
        
        
        


<a href="../../../../operations/performance-test/" title="سخت افزار تست" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سخت افزار تست</a>


    
        
        
        


<a href="#sidebar-sidebar-7-13" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-13" title="پارامترهای پیکربندی سرور" class="nav-link text-light text-wrap dropdown-toggle px-0">پارامترهای پیکربندی سرور</a>
<div id="sidebar-sidebar-7-13" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../operations/server-configuration-parameters/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../operations/server-configuration-parameters/settings/" title="تنظیمات کارگزار" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیمات کارگزار</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-14" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-14" title="تنظیمات" class="nav-link text-light text-wrap dropdown-toggle px-0">تنظیمات</a>
<div id="sidebar-sidebar-7-14" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../operations/settings/" title="معرفی شرکت" class="nav-link text-light text-wrap d-inline-block w-100 px-0">معرفی شرکت</a>


    
        
        
        


<a href="../../../../operations/settings/permissions-for-queries/" title="مجوز برای نمایش داده شد" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مجوز برای نمایش داده شد</a>


    
        
        
        


<a href="../../../../operations/settings/query-complexity/" title="محدودیت در پیچیدگی پرس و جو" class="nav-link text-light text-wrap d-inline-block w-100 px-0">محدودیت در پیچیدگی پرس و جو</a>


    
        
        
        


<a href="../../../../operations/settings/settings-profiles/" title="پروفایل تنظیمات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پروفایل تنظیمات</a>


    
        
        
        


<a href="../../../../operations/settings/constraints-on-settings/" title="محدودیت در تنظیمات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">محدودیت در تنظیمات</a>


    
        
        
        


<a href="../../../../operations/settings/settings-users/" title="تنظیمات کاربر" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیمات کاربر</a>


    
        
        
        


<a href="../../../../operations/settings/settings/" title="تنظیمات" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تنظیمات</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-15" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-15" title="تاسیسات" class="nav-link text-light text-wrap dropdown-toggle px-0">تاسیسات</a>
<div id="sidebar-sidebar-7-15" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../operations/utilities/" title="بررسی اجمالی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی</a>


    
        
        
        


<a href="../../../../operations/utilities/clickhouse-copier/" title="تاتر-کپی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تاتر-کپی</a>


    
        
        
        


<a href="../../../../operations/utilities/clickhouse-local/" title="کلیک-محلی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلیک-محلی</a>


    
        
        
        


<a href="../../../../operations/utilities/clickhouse-benchmark/" title="کلیک-معیار" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کلیک-معیار</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../operations/tips/" title="توصیه های استفاده" class="nav-link text-light text-wrap d-inline-block w-100 px-0">توصیه های استفاده</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-8" title="توسعه" class="nav-link text-light text-wrap dropdown-toggle px-0">توسعه</a>
<div id="sidebar-sidebar-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../development/developer-instruction/" title="دستورالعمل توسعه دهنده کلیک مبتدی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">دستورالعمل توسعه دهنده کلیک مبتدی</a>


    
        
        
        


<a href="../../../../development/architecture/" title="بررسی اجمالی از معماری کلیک" class="nav-link text-light text-wrap d-inline-block w-100 px-0">بررسی اجمالی از معماری کلیک</a>


    
        
        
        


<a href="../../../../development/browse-code/" title="مرور کد منبع" class="nav-link text-light text-wrap d-inline-block w-100 px-0">مرور کد منبع</a>


    
        
        
        


<a href="../../../../development/build/" title="نحوه ساخت کلیک در لینوکس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نحوه ساخت کلیک در لینوکس</a>


    
        
        
        


<a href="../../../../development/build-osx/" title="چگونه برای ساخت تاتر در سیستم عامل مک ایکس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای ساخت تاتر در سیستم عامل مک ایکس</a>


    
        
        
        


<a href="../../../../development/build-cross-osx/" title="چگونه برای ساخت تاتر در لینوکس برای سیستم عامل مک ایکس" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای ساخت تاتر در لینوکس برای سیستم عامل مک ایکس</a>


    
        
        
        


<a href="../../../../development/build-cross-arm/" title="چگونه برای ساخت ClickHouse در لینوکس برای AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای ساخت ClickHouse در لینوکس برای AARCH64 (ARM64)</a>


    
        
        
        


<a href="../../../../development/style/" title="چگونه برای نوشتن ج++ کد" class="nav-link text-light text-wrap d-inline-block w-100 px-0">چگونه برای نوشتن ج++ کد</a>


    
        
        
        


<a href="../../../../development/tests/" title="نحوه اجرای تست های کلیک خانه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نحوه اجرای تست های کلیک خانه</a>


    
        
        
        


<a href="../../../../development/contrib/" title="کتابخانه های شخص ثالث استفاده می شود" class="nav-link text-light text-wrap d-inline-block w-100 px-0">کتابخانه های شخص ثالث استفاده می شود</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-9" title="بازرگانی" class="nav-link text-light text-wrap dropdown-toggle px-0">بازرگانی</a>
<div id="sidebar-sidebar-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../commercial/cloud/" title="ابر" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ابر</a>


    
        
        
        


<a href="../../../../commercial/support/" title="پشتیبانی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">پشتیبانی</a>


    
        
        
        

    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10" title="چه جدید" class="nav-link text-light text-wrap dropdown-toggle px-0">چه جدید</a>
<div id="sidebar-sidebar-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-10-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10-2" title="تغییرات" class="nav-link text-light text-wrap dropdown-toggle px-0">تغییرات</a>
<div id="sidebar-sidebar-10-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../../whats-new/changelog/" title="2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a>


    
        
        
        


<a href="../../../../whats-new/changelog/2019/" title="2019" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a>


    
        
        
        


<a href="../../../../whats-new/changelog/2018/" title="2018" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a>


    
        
        
        


<a href="../../../../whats-new/changelog/2017/" title="2017" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../../whats-new/roadmap/" title="نقشه راه" class="nav-link text-light text-wrap d-inline-block w-100 px-0">نقشه راه</a>


    
        
        
        


<a href="../../../../whats-new/security-changelog/" title="تغییرات امنیتی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">تغییرات امنیتی</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-11" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-11" title="F.A.Q." class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a>
<div id="sidebar-sidebar-11" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../../faq/general/" title="سوالات عمومی" class="nav-link text-light text-wrap d-inline-block w-100 px-0">سوالات عمومی</a>


    
    </nav>
</div>


            
            <a href="../../../../single/clickhouse_fa.pdf" class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light">
                <img src="/images/mkdocs/pdf.svg" alt="نسخه PDF" title="نسخه PDF" height="24" class="d-block mr-1 float-left" /><div>نسخه PDF</div>
            </a>
        </nav>
        
    </div>
</div>
                <div id="content-wrapper" class="col-md-8 p-2 p-md-5">
    <div id="content" class="mt-md-n3">
        
            
            
            
                
                <nav class="text-muted" aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0">
                        
                        
                        
                        <li class="breadcrumb-item"><a href="../../../" class="text-reset">موتورها</a>
                            
                        </li>
                       
                        
                        
                        <li class="breadcrumb-item"><a href="../../" class="text-reset">موتورهای جدول</a>
                            
                        </li>
                       
                        
                        
                        <li class="breadcrumb-item"><a href="../" class="text-reset">ادغام خانواده</a>
                            
                        </li>
                       
                    </ol>
                </nav>
            

            
    <div class="alert alert-primary" role="alert">
      <p class="display-5 mb-2">راهنما می خواستم!</p>
      <p class="lead">محتوای زیر از این صفحه اسناد شده است ماشین ترجمه. اما بر خلاف وب سایت های دیگر, این است که در پرواز انجام نمی. این متن ترجمه شده در مخزن گیتهاب در کنار پایگاه داده اصلی خانه کلیک زندگی می کند و منتظر سخنرانان مادری همکار به انسان بیشتر قابل خواندن است. <a href="/docs/en/engines/table-engines/mergetree-family/mergetree/" class="alert-link">شما همچنین می توانید نسخه اصلی انگلیسی به عنوان یک مرجع استفاده کنید.</a></p>
      <p class="lead">
          <a class="btn btn-lg btn-primary text-white" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/fa/engines/table-engines/mergetree-family/mergetree.md" target="_blank" rel="external nofollow noreferrer">
              راهنما مستندات تاتر با ویرایش این صفحه
          </a>
      </p>
    </div>

            <h1 id="table_engines-mergetree">ادغام<a class="headerlink" href="#table_engines-mergetree" title="Permanent link"> </a></h1>
<p>این <code class="syntax">MergeTree</code> موتور و سایر موتورهای این خانواده (<code class="syntax">*MergeTree</code>) موتورهای جدول کلیک قوی ترین.</p>
<p>موتور در <code class="syntax">MergeTree</code> خانواده برای قرار دادن مقدار بسیار زیادی از داده ها را به یک جدول طراحی شده است. داده ها به سرعت به بخش جدول توسط بخش نوشته شده است, سپس قوانین برای ادغام قطعات در پس زمینه اعمال. این روش بسیار موثرتر از به طور مستمر بازنویسی داده ها در ذخیره سازی در درج است.</p>
<p>ویژگی های اصلی:</p>
<ul>
<li>
<p>فروشگاه داده طبقه بندی شده اند توسط کلید اصلی.</p>
<p>این اجازه می دهد تا به شما برای ایجاد یک شاخص پراکنده کوچک است که کمک می کند تا پیدا کردن اطلاعات سریع تر.</p>
</li>
<li>
<p>پارتیشن ها را می توان در صورت استفاده کرد <a href="../custom-partitioning-key/">کلید پارتیشن بندی</a> مشخص شده است.</p>
<p>تاتر پشتیبانی از عملیات خاص با پارتیشن که موثر تر از عملیات عمومی بر روی داده های مشابه با همان نتیجه. کلیک هاوس همچنین به طور خودکار داده های پارتیشن را که کلید پارتیشن بندی در پرس و جو مشخص شده است قطع می کند. این نیز باعث بهبود عملکرد پرس و جو.</p>
</li>
<li>
<p>پشتیبانی از تکرار داده ها.</p>
<p>خانواده <code class="syntax">ReplicatedMergeTree</code> جداول فراهم می کند تکرار داده ها. برای کسب اطلاعات بیشتر, دیدن <a href="../replication/">تکرار داده ها</a>.</p>
</li>
<li>
<p>پشتیبانی از نمونه برداری داده ها.</p>
<p>در صورت لزوم می توانید روش نمونه گیری داده ها را در جدول تنظیم کنید.</p>
</li>
</ul>
<div class="admonition info alert pb-0 mb-4 alert-primary" role="alert">
<p class="admonition-title alert-heading display-6 mb-2">اطلاعات</p>
<p>این <a class="alert-link" href="../../special/merge/#merge">ادغام</a> موتور به تعلق ندارد <code class="syntax">*MergeTree</code> خانواده</p>
</div>
<h2 id="table_engine-mergetree-creating-a-table">ایجاد یک جدول<a class="headerlink" href="#table_engine-mergetree-creating-a-table" title="Permanent link"> </a></h2>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span><span class="p">]</span>
<span class="p">(</span>
    <span class="n">name1</span> <span class="p">[</span><span class="n">type1</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr1</span><span class="p">]</span> <span class="p">[</span><span class="n">TTL</span> <span class="n">expr1</span><span class="p">],</span>
    <span class="n">name2</span> <span class="p">[</span><span class="n">type2</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr2</span><span class="p">]</span> <span class="p">[</span><span class="n">TTL</span> <span class="n">expr2</span><span class="p">],</span>
    <span class="p">...</span>
    <span class="k">INDEX</span> <span class="n">index_name1</span> <span class="n">expr1</span> <span class="k">TYPE</span> <span class="n">type1</span><span class="p">(...)</span> <span class="n">GRANULARITY</span> <span class="n">value1</span><span class="p">,</span>
    <span class="k">INDEX</span> <span class="n">index_name2</span> <span class="n">expr2</span> <span class="k">TYPE</span> <span class="n">type2</span><span class="p">(...)</span> <span class="n">GRANULARITY</span> <span class="n">value2</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span><span class="p">()</span>
<span class="p">[</span><span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">expr</span><span class="p">]</span>
<span class="p">[</span><span class="k">ORDER</span> <span class="k">BY</span> <span class="n">expr</span><span class="p">]</span>
<span class="p">[</span><span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">expr</span><span class="p">]</span>
<span class="p">[</span><span class="n">SAMPLE</span> <span class="k">BY</span> <span class="n">expr</span><span class="p">]</span>
<span class="p">[</span><span class="n">TTL</span> <span class="n">expr</span> <span class="p">[</span><span class="k">DELETE</span><span class="o">|</span><span class="k">TO</span> <span class="n">DISK</span> <span class="s1">'xxx'</span><span class="o">|</span><span class="k">TO</span> <span class="n">VOLUME</span> <span class="s1">'xxx'</span><span class="p">],</span> <span class="p">...]</span>
<span class="p">[</span><span class="n">SETTINGS</span> <span class="n">name</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="p">...]</span>
</code></pre></div>
<p>برای شرح پارامترها <a href="../../../../sql-reference/statements/create/">ایجاد توصیف پرسوجو</a>.</p>
<div class="admonition note alert pb-0 mb-4 alert-primary" role="alert">
<p class="admonition-title alert-heading display-6 mb-2">یادداشت</p>
<p><code class="syntax">INDEX</code> یک ویژگی تجربی است <a class="alert-link" href="#table_engine-mergetree-data_skipping-indexes">شاخص های داده پرش</a>.</p>
</div>
<h3 id="mergetree-query-clauses">بندهای پرسوجو<a class="headerlink" href="#mergetree-query-clauses" title="Permanent link"> </a></h3>
<ul>
<li>
<p><code class="syntax">ENGINE</code> — Name and parameters of the engine. <code class="syntax">ENGINE = MergeTree()</code>. این <code class="syntax">MergeTree</code> موتور پارامترهای ندارد.</p>
</li>
<li>
<p><code class="syntax">PARTITION BY</code> — The <a href="../custom-partitioning-key/">کلید پارتیشن بندی</a>.</p>
<p>برای تقسیم ماه از <code class="syntax">toYYYYMM(date_column)</code> عبارت, جایی که <code class="syntax">date_column</code> یک ستون با تاریخ از نوع است <a href="../../../../sql-reference/data-types/date/">تاریخ</a>. نام پارتیشن در اینجا <code class="syntax">"YYYYMM"</code> قالب.</p>
</li>
<li>
<p><code class="syntax">ORDER BY</code> — The sorting key.</p>
<p>یک تاپل از ستون ها و یا عبارات دلخواه. مثال: <code class="syntax">ORDER BY (CounterID, EventDate)</code>.</p>
</li>
<li>
<p><code class="syntax">PRIMARY KEY</code> — The primary key if it <a href="#choosing-a-primary-key-that-differs-from-the-sorting-key">متفاوت از کلید مرتب سازی</a>.</p>
<p>به طور پیش فرض کلید اصلی همان کلید مرتب سازی است (که توسط مشخص شده است <code class="syntax">ORDER BY</code> بند). بنابراین در اکثر موارد غیر ضروری است برای مشخص کردن یک جداگانه <code class="syntax">PRIMARY KEY</code> بند بند.</p>
</li>
<li>
<p><code class="syntax">SAMPLE BY</code> — An expression for sampling.</p>
<p>اگر یک عبارت نمونه برداری استفاده شده است, کلید اصلی باید باشد. مثال: <code class="syntax">SAMPLE BY intHash32(UserID) ORDER BY (CounterID, EventDate, intHash32(UserID))</code>.</p>
</li>
<li>
<p><code class="syntax">TTL</code> — A list of rules specifying storage duration of rows and defining logic of automatic parts movement <a href="#table_engine-mergetree-multiple-volumes">بین دیسک و حجم</a>.</p>
<p>بیان باید یکی داشته باشد <code class="syntax">Date</code> یا <code class="syntax">DateTime</code> ستون به عنوان یک نتیجه. مثال:<br/>
<code class="syntax">TTL date + INTERVAL 1 DAY</code></p>
<p>نوع قانون <code class="syntax">DELETE|TO DISK 'xxx'|TO VOLUME 'xxx'</code> مشخص یک عمل با بخش انجام می شود در صورتی که بیان راضی است (می رسد زمان فعلی): حذف ردیف منقضی شده, در حال حرکت بخشی (اگر بیان برای تمام ردیف در یک بخش راضی است) به دیسک مشخص (<code class="syntax">TO DISK 'xxx'</code>) یا به حجم (<code class="syntax">TO VOLUME 'xxx'</code>). نوع پیش فرض قانون حذف است (<code class="syntax">DELETE</code>). فهرست قوانین متعدد می توانید مشخص, اما باید بیش از یک وجود داشته باشد <code class="syntax">DELETE</code> قانون.</p>
<p>برای اطلاعات بیشتر, دیدن <a href="#table_engine-mergetree-ttl">ستون ها و جداول</a></p>
</li>
<li>
<p><code class="syntax">SETTINGS</code> — Additional parameters that control the behavior of the <code class="syntax">MergeTree</code>:</p>
<ul>
<li><code class="syntax">index_granularity</code> — Maximum number of data rows between the marks of an index. Default value: 8192. See <a href="#mergetree-data-storage">ذخیره سازی داده ها</a>.</li>
<li><code class="syntax">index_granularity_bytes</code> — Maximum size of data granules in bytes. Default value: 10Mb. To restrict the granule size only by number of rows, set to 0 (not recommended). See <a href="#mergetree-data-storage">ذخیره سازی داده ها</a>.</li>
<li><code class="syntax">enable_mixed_granularity_parts</code> — Enables or disables transitioning to control the granule size with the <code class="syntax">index_granularity_bytes</code> تنظیمات. قبل از نسخه 19.11, تنها وجود دارد <code class="syntax">index_granularity</code> تنظیم برای محدود کردن اندازه گرانول. این <code class="syntax">index_granularity_bytes</code> تنظیم را بهبود می بخشد عملکرد کلیک در هنگام انتخاب داده ها از جداول با ردیف بزرگ (ده ها و صدها مگابایت). اگر شما جداول با ردیف بزرگ, شما می توانید این تنظیمات را برای جداول را قادر به بهبود بهره وری از <code class="syntax">SELECT</code> نمایش داده شد.</li>
<li><code class="syntax">use_minimalistic_part_header_in_zookeeper</code> — Storage method of the data parts headers in ZooKeeper. If <code class="syntax">use_minimalistic_part_header_in_zookeeper=1</code>, سپس باغ وحش ذخیره داده های کمتر. برای کسب اطلاعات بیشتر, دیدن <a href="../../../../operations/server-configuration-parameters/settings/#server-settings-use_minimalistic_part_header_in_zookeeper">تنظیم توضیحات</a> داخل “Server configuration parameters”.</li>
<li><code class="syntax">min_merge_bytes_to_use_direct_io</code> — The minimum data volume for merge operation that is required for using direct I/O access to the storage disk. When merging data parts, ClickHouse calculates the total storage volume of all the data to be merged. If the volume exceeds <code class="syntax">min_merge_bytes_to_use_direct_io</code> بایت, تاتر می خواند و می نویسد داده ها به دیسک ذخیره سازی با استفاده از رابط من/ای مستقیم (<code class="syntax">O_DIRECT</code> گزینه). اگر <code class="syntax">min_merge_bytes_to_use_direct_io = 0</code>, سپس مستقیم من / ای غیر فعال است. مقدار پیشفرض: <code class="syntax">10 * 1024 * 1024 * 1024</code> بایت<br/>
<a name="mergetree_setting-merge_with_ttl_timeout"></a></li>
<li><code class="syntax">merge_with_ttl_timeout</code> — Minimum delay in seconds before repeating a merge with TTL. Default value: 86400 (1 day).</li>
<li><code class="syntax">write_final_mark</code> — Enables or disables writing the final index mark at the end of data part (after the last byte). Default value: 1. Don't turn it off.</li>
<li><code class="syntax">merge_max_block_size</code> — Maximum number of rows in block for merge operations. Default value: 8192.</li>
<li><code class="syntax">storage_policy</code> — Storage policy. See <a href="#table_engine-mergetree-multiple-volumes">با استفاده از دستگاه های بلوک های متعدد برای ذخیره سازی داده ها</a>.</li>
</ul>
</li>
</ul>
<p><strong>مثال تنظیمات بخش</strong></p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">ENGINE</span> <span class="n">MergeTree</span><span class="p">()</span> <span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">toYYYYMM</span><span class="p">(</span><span class="n">EventDate</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="p">(</span><span class="n">CounterID</span><span class="p">,</span> <span class="n">EventDate</span><span class="p">,</span> <span class="n">intHash32</span><span class="p">(</span><span class="n">UserID</span><span class="p">))</span> <span class="n">SAMPLE</span> <span class="k">BY</span> <span class="n">intHash32</span><span class="p">(</span><span class="n">UserID</span><span class="p">)</span> <span class="n">SETTINGS</span> <span class="n">index_granularity</span><span class="o">=</span><span class="mi">8192</span>
</code></pre></div>
<p>در مثال ما مجموعه پارتیشن بندی توسط ماه.</p>
<p>ما همچنین یک عبارت برای نمونه برداری به عنوان یک هش توسط شناسه کاربر تنظیم شده است. این اجازه می دهد تا شما را به نام مستعار داده ها در جدول برای هر <code class="syntax">CounterID</code> و <code class="syntax">EventDate</code>. اگر یک تعریف می کنید <a href="../../../../sql-reference/statements/select/sample/#select-sample-clause">SAMPLE</a> بند هنگام انتخاب داده ClickHouse را یک به طور مساوی pseudorandom داده های نمونه به صورت زیر مجموعه ای از کاربران است.</p>
<p>این <code class="syntax">index_granularity</code> تنظیم می تواند حذف شود زیرا 8192 مقدار پیش فرض است.</p>
<details><summary>روش منسوخ برای ایجاد یک جدول</summary>
<p></p>
<div class="admonition attention alert pb-0 mb-4 alert-warning" role="alert">
<p class="admonition-title alert-heading display-6 mb-2">توجه</p>
<p>از این روش در پروژه های جدید استفاده نکنید. در صورت امکان, تغییر پروژه های قدیمی به روش بالا توضیح.</p>
</div>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span><span class="p">]</span>
<span class="p">(</span>
    <span class="n">name1</span> <span class="p">[</span><span class="n">type1</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr1</span><span class="p">],</span>
    <span class="n">name2</span> <span class="p">[</span><span class="n">type2</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr2</span><span class="p">],</span>
    <span class="p">...</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">MergeTree</span><span class="p">(</span><span class="nb">date</span><span class="o">-</span><span class="k">column</span> <span class="p">[,</span> <span class="n">sampling_expression</span><span class="p">],</span> <span class="p">(</span><span class="k">primary</span><span class="p">,</span> <span class="k">key</span><span class="p">),</span> <span class="n">index_granularity</span><span class="p">)</span>
</code></pre></div>
<p><strong>پارامترهای ادغام() </strong></p>
<ul>
<li><code class="syntax">date-column</code> — The name of a column of the <a href="../../../../sql-reference/data-types/date/">تاریخ</a> نوع. تاتر به طور خودکار ایجاد پارتیشن های ماه بر اساس این ستون. نام پارتیشن در <code class="syntax">"YYYYMM"</code> قالب.</li>
<li><code class="syntax">sampling_expression</code> — An expression for sampling.</li>
<li><code class="syntax">(primary, key)</code> — Primary key. Type: <a href="../../../../sql-reference/data-types/tuple/">تاپل()</a></li>
<li><code class="syntax">index_granularity</code> — The granularity of an index. The number of data rows between the “marks” از یک شاخص. ارزش 8192 برای بسیاری از وظایف مناسب است.</li>
</ul>
<p><strong>مثال</strong></p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">MergeTree</span><span class="p">(</span><span class="n">EventDate</span><span class="p">,</span> <span class="n">intHash32</span><span class="p">(</span><span class="n">UserID</span><span class="p">),</span> <span class="p">(</span><span class="n">CounterID</span><span class="p">,</span> <span class="n">EventDate</span><span class="p">,</span> <span class="n">intHash32</span><span class="p">(</span><span class="n">UserID</span><span class="p">)),</span> <span class="mi">8192</span><span class="p">)</span>
</code></pre></div>
<p>این <code class="syntax">MergeTree</code> موتور در همان راه به عنوان مثال بالا برای روش پیکربندی موتور اصلی پیکربندی شده است.</p>
</details>
<h2 id="mergetree-data-storage">ذخیره سازی داده ها<a class="headerlink" href="#mergetree-data-storage" title="Permanent link"> </a></h2>
<p>جدول شامل قطعات داده مرتب شده بر اساس کلید اصلی.</p>
<p>هنگامی که داده ها در یک جدول قرار داده, قطعات داده های جداگانه ایجاد می شوند و هر یک از این واژه ها از لحاظ واژگان توسط کلید اصلی طبقه بندی شده اند. برای مثال اگر کلید اصلی است <code class="syntax">(CounterID, Date)</code> داده ها در بخش طبقه بندی شده اند <code class="syntax">CounterID</code> و در هر <code class="syntax">CounterID</code>, این است که توسط دستور داد <code class="syntax">Date</code>.</p>
<p>داده های متعلق به پارتیشن های مختلف به بخش های مختلف جدا می شوند. در پس زمینه, کلیکهاوس ادغام قطعات داده ها برای ذخیره سازی موثر تر. قطعات متعلق به پارتیشن های مختلف با هم ادغام شدند. مکانیزم ادغام تضمین نمی کند که تمام ردیف ها با همان کلید اصلی در بخش داده های مشابه باشد.</p>
<p>هر بخش داده منطقی به گرانول تقسیم شده است. گرانول کوچکترین مجموعه داده های تفکیک پذیر است که خانه می خواند در هنگام انتخاب داده ها است. خانه را کلیک می کند ردیف یا ارزش تقسیم نمی, بنابراین هر گرانول همیشه شامل یک عدد صحیح از ردیف. ردیف اول یک گرانول با ارزش کلید اصلی برای ردیف مشخص شده است. برای هر بخش داده, تاتر ایجاد یک فایل شاخص است که فروشگاه علامت. برای هر ستون, چه در کلید اصلی است یا نه, خانه رعیتی نیز علامت همان فروشگاه. این علامت به شما اجازه داده پیدا کردن به طور مستقیم در فایل های ستون.</p>
<p>اندازه گرانول توسط <code class="syntax">index_granularity</code> و <code class="syntax">index_granularity_bytes</code> تنظیمات موتور جدول. تعداد ردیف ها در یک گرانول در <code class="syntax">[1, index_granularity]</code> محدوده, بسته به اندازه ردیف. اندازه گرانول می تواند بیش از <code class="syntax">index_granularity_bytes</code> اگر اندازه یک ردیف بیشتر از ارزش تنظیم است. در این مورد, اندازه گرانول برابر اندازه ردیف.</p>
<h2 id="primary-keys-and-indexes-in-queries">کلید های اولیه و شاخص ها در نمایش داده شد<a class="headerlink" href="#primary-keys-and-indexes-in-queries" title="Permanent link"> </a></h2>
<p>نگاهی به <code class="syntax">(CounterID, Date)</code> کلید اصلی به عنوان مثال. در این مورد, مرتب سازی و شاخص را می توان به شرح زیر نشان داده شده:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="w">  </span><span class="n">Whole</span><span class="w"> </span><span class="k">data</span><span class="err">:</span><span class="w">     </span><span class="o">[</span><span class="n">---------------------------------------------</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="nl">CounterID</span><span class="p">:</span><span class="w">      </span><span class="o">[</span><span class="n">aaaaaaaaaaaaaaaaaabbbbcdeeeeeeeeeeeeefgggggggghhhhhhhhhiiiiiiiiikllllllll</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="nc">Date</span><span class="err">:</span><span class="w">           </span><span class="o">[</span><span class="n">1111111222222233331233211111222222333211111112122222223111112223311122333</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="nl">Marks</span><span class="p">:</span><span class="w">           </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w">      </span><span class="o">|</span><span class="w"></span>
<span class="w">                  </span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="w">    </span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="w">    </span><span class="n">a</span><span class="p">,</span><span class="mi">3</span><span class="w">    </span><span class="n">b</span><span class="p">,</span><span class="mi">3</span><span class="w">    </span><span class="n">e</span><span class="p">,</span><span class="mi">2</span><span class="w">    </span><span class="n">e</span><span class="p">,</span><span class="mi">3</span><span class="w">    </span><span class="n">g</span><span class="p">,</span><span class="mi">1</span><span class="w">    </span><span class="n">h</span><span class="p">,</span><span class="mi">2</span><span class="w">    </span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="w">    </span><span class="n">i</span><span class="p">,</span><span class="mi">3</span><span class="w">    </span><span class="n">l</span><span class="p">,</span><span class="mi">3</span><span class="w"></span>
<span class="w">  </span><span class="n">Marks</span><span class="w"> </span><span class="nl">numbers</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="w">      </span><span class="mi">1</span><span class="w">      </span><span class="mi">2</span><span class="w">      </span><span class="mi">3</span><span class="w">      </span><span class="mi">4</span><span class="w">      </span><span class="mi">5</span><span class="w">      </span><span class="mi">6</span><span class="w">      </span><span class="mi">7</span><span class="w">      </span><span class="mi">8</span><span class="w">      </span><span class="mi">9</span><span class="w">      </span><span class="mi">10</span><span class="w"></span>
</code></pre></div>
<p>اگر پرسوجوی داده مشخص شود:</p>
<ul>
<li><code class="syntax">CounterID in ('a', 'h')</code>, سرور بار خوانده شده داده ها در محدوده علامت <code class="syntax">[0, 3)</code> و <code class="syntax">[6, 8)</code>.</li>
<li><code class="syntax">CounterID IN ('a', 'h') AND Date = 3</code>, سرور بار خوانده شده داده ها در محدوده علامت <code class="syntax">[1, 3)</code> و <code class="syntax">[7, 8)</code>.</li>
<li><code class="syntax">Date = 3</code>, سرور می خواند داده ها در طیف وسیعی از علامت <code class="syntax">[1, 10]</code>.</li>
</ul>
<p>نمونه های فوق نشان می دهد که همیشه بیشتر موثر برای استفاده از شاخص از اسکن کامل است.</p>
<p>شاخص پراکنده اجازه می دهد تا داده های اضافی به عنوان خوانده شده. هنگام خواندن یک طیف وسیعی از کلید اصلی, تا <code class="syntax">index_granularity * 2</code> ردیف اضافی در هر بلوک داده را می توان به عنوان خوانده شده.</p>
<p>شاخص پراکنده اجازه می دهد شما را به کار با تعداد بسیار زیادی از ردیف جدول, چرا که در اکثر موارد, چنین شاخص در رم کامپیوتر مناسب.</p>
<p>کلیک یک کلید اصلی منحصر به فرد نیاز ندارد. شما می توانید ردیف های متعدد را با همان کلید اولیه وارد کنید.</p>
<h3 id="selecting-the-primary-key">انتخاب کلید اصلی<a class="headerlink" href="#selecting-the-primary-key" title="Permanent link"> </a></h3>
<p>تعداد ستون ها در کلید اصلی به صراحت محدود نمی شود. بسته به ساختار داده ها, شما می توانید ستون های بیشتر یا کمتر در کلید اصلی شامل. این ممکن است:</p>
<ul>
<li>
<p>بهبود عملکرد یک شاخص.</p>
<p>اگر کلید اصلی است <code class="syntax">(a, b)</code> سپس یک ستون دیگر اضافه کنید <code class="syntax">c</code> عملکرد را بهبود می بخشد اگر شرایط زیر رعایت شود:</p>
<ul>
<li>نمایش داده شد با یک شرط در ستون وجود دارد <code class="syntax">c</code>.</li>
<li>محدوده داده های طولانی (چندین بار طولانی تر از <code class="syntax">index_granularity</code>) با مقادیر یکسان برای <code class="syntax">(a, b)</code> شایع هستند. به عبارت دیگر, در هنگام اضافه کردن یک ستون دیگر اجازه می دهد تا شما را به جست و خیز محدوده داده بسیار طولانی.</li>
</ul>
</li>
<li>
<p>بهبود فشرده سازی داده ها.</p>
<p>خانه را کلیک کنید انواع داده ها توسط کلید اصلی, بنابراین بالاتر از ثبات, بهتر فشرده سازی.</p>
</li>
<li>
<p>فراهم می کند که منطق اضافی در هنگام ادغام قطعات داده در <a href="../collapsingmergetree/#table_engine-collapsingmergetree">سقوط غذای اصلی</a> و <a href="../summingmergetree/">سامینگمرگتری</a> موتورها.</p>
<p>در این مورد منطقی است که مشخص شود <em>کلید مرتب سازی</em> که متفاوت از کلید اصلی است.</p>
</li>
</ul>
<p>یک کلید اولیه طولانی منفی عملکرد درج و مصرف حافظه تاثیر می گذارد, اما ستون های اضافی در کلید اصلی انجام عملکرد تاتر در طول تاثیر نمی گذارد <code class="syntax">SELECT</code> نمایش داده شد.</p>
<h3 id="choosing-a-primary-key-that-differs-from-the-sorting-key">انتخاب کلید اصلی است که متفاوت از کلید مرتب سازی<a class="headerlink" href="#choosing-a-primary-key-that-differs-from-the-sorting-key" title="Permanent link"> </a></h3>
<p>ممکن است که به مشخص کردن یک کلید اولیه (بیان با ارزش هایی که در فایل شاخص برای هر علامت نوشته شده است) که متفاوت از کلید مرتب سازی (بیان برای مرتب سازی ردیف در بخش های داده). در این مورد تاپل عبارت کلیدی اولیه باید یک پیشوند از تاپل عبارت کلیدی مرتب سازی شود.</p>
<p>این ویژگی در هنگام استفاده از مفید است <a href="../summingmergetree/">سامینگمرگتری</a> و<br/>
<a href="../aggregatingmergetree/">ریزدانه</a> موتورهای جدول. در یک مورد مشترک در هنگام استفاده از این موتور جدول دو نوع ستون است: <em>ابعاد</em> و <em>اقدامات</em>. نمایش داده شد نمونه مقادیر کل ستون اندازه گیری با دلخواه <code class="syntax">GROUP BY</code> و فیلتر بر اساس ابعاد. چون SummingMergeTree و AggregatingMergeTree جمع ردیف با همان مقدار از مرتب سازی کلیدی است برای اضافه کردن همه ابعاد آن است. در نتیجه, بیان کلیدی شامل یک لیست طولانی از ستون ها و این لیست باید اغلب با ابعاد تازه اضافه شده به روز.</p>
<p>در این مورد منطقی است که تنها چند ستون در کلید اصلی را ترک کنید که اسکن های محدوده ای موثر را فراهم می کند و ستون های بعد باقی مانده را به دسته کلید مرتب سازی اضافه می کند.</p>
<p><a href="../../../../sql-reference/statements/alter/">ALTER</a> از کلید مرتب سازی یک عملیات سبک وزن است چرا که زمانی که یک ستون جدید به طور همزمان به جدول و به کلید مرتب سازی اضافه, قطعات داده های موجود لازم نیست به تغییر. از کلید مرتب سازی قدیمی یک پیشوند از کلید مرتب سازی جدید است و هیچ داده در ستون به تازگی اضافه شده وجود دارد, داده ها توسط هر دو کلید مرتب سازی قدیمی و جدید در لحظه اصلاح جدول طبقه بندی شده اند.</p>
<h3 id="use-of-indexes-and-partitions-in-queries">استفاده از شاخص ها و پارتیشن ها در نمایش داده شد<a class="headerlink" href="#use-of-indexes-and-partitions-in-queries" title="Permanent link"> </a></h3>
<p>برای <code class="syntax">SELECT</code> نمایش داده شد, فاحشه خانه تجزیه و تحلیل اینکه یک شاخص می تواند مورد استفاده قرار گیرد. شاخص می تواند مورد استفاده قرار گیرد در صورتی که <code class="syntax">WHERE/PREWHERE</code> بند بیان (به عنوان یکی از عناصر رابطه یا به طور کامل) است که نشان دهنده برابری یا نابرابری عملیات مقایسه و یا اگر <code class="syntax">IN</code> یا <code class="syntax">LIKE</code> با یک پیشوند ثابت در ستون ها و یا عبارات که در کلید اصلی و یا پارتیشن بندی هستند, و یا در برخی از توابع تا حدی تکراری از این ستون ها, و یا روابط منطقی از این عبارات.</p>
<p>بدین ترتیب, ممکن است به سرعت اجرا نمایش داده شد در یک یا بسیاری از محدوده کلید اصلی. در این مثال, نمایش داده شد سریع خواهد بود که برای یک تگ ردیابی خاص اجرا, برای یک برچسب خاص و محدوده تاریخ, برای یک تگ و تاریخ خاص, برای برچسب های متعدد با محدوده تاریخ, و غیره.</p>
<p>بیایید به موتور پیکربندی شده به شرح زیر نگاه کنیم:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">  ENGINE MergeTree() PARTITION BY toYYYYMM(EventDate) ORDER BY (CounterID, EventDate) SETTINGS index_granularity=8192</span>
</code></pre></div>
<p>در این مورد در نمایش داده شد:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">WHERE</span> <span class="n">EventDate</span> <span class="o">=</span> <span class="n">toDate</span><span class="p">(</span><span class="n">now</span><span class="p">())</span> <span class="k">AND</span> <span class="n">CounterID</span> <span class="o">=</span> <span class="mi">34</span>
<span class="k">SELECT</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">WHERE</span> <span class="n">EventDate</span> <span class="o">=</span> <span class="n">toDate</span><span class="p">(</span><span class="n">now</span><span class="p">())</span> <span class="k">AND</span> <span class="p">(</span><span class="n">CounterID</span> <span class="o">=</span> <span class="mi">34</span> <span class="k">OR</span> <span class="n">CounterID</span> <span class="o">=</span> <span class="mi">42</span><span class="p">)</span>
<span class="k">SELECT</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">WHERE</span> <span class="p">((</span><span class="n">EventDate</span> <span class="o">&gt;=</span> <span class="n">toDate</span><span class="p">(</span><span class="s1">'2014-01-01'</span><span class="p">)</span> <span class="k">AND</span> <span class="n">EventDate</span> <span class="o">&lt;=</span> <span class="n">toDate</span><span class="p">(</span><span class="s1">'2014-01-31'</span><span class="p">))</span> <span class="k">OR</span> <span class="n">EventDate</span> <span class="o">=</span> <span class="n">toDate</span><span class="p">(</span><span class="s1">'2014-05-01'</span><span class="p">))</span> <span class="k">AND</span> <span class="n">CounterID</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">101500</span><span class="p">,</span> <span class="mi">731962</span><span class="p">,</span> <span class="mi">160656</span><span class="p">)</span> <span class="k">AND</span> <span class="p">(</span><span class="n">CounterID</span> <span class="o">=</span> <span class="mi">101500</span> <span class="k">OR</span> <span class="n">EventDate</span> <span class="o">!=</span> <span class="n">toDate</span><span class="p">(</span><span class="s1">'2014-05-01'</span><span class="p">))</span>
</code></pre></div>
<p>خانه رعیتی خواهد شاخص کلید اصلی به تر و تمیز داده های نامناسب و کلید پارتیشن بندی ماهانه به تر و تمیز پارتیشن که در محدوده تاریخ نامناسب هستند استفاده کنید.</p>
<p>نمایش داده شد بالا نشان می دهد که شاخص حتی برای عبارات پیچیده استفاده می شود. خواندن از جدول سازمان یافته است به طوری که با استفاده از شاخص نمی تواند کندتر از اسکن کامل.</p>
<p>در مثال زیر شاخص نمی تواند مورد استفاده قرار گیرد.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">WHERE</span> <span class="n">CounterID</span> <span class="o">=</span> <span class="mi">34</span> <span class="k">OR</span> <span class="n">URL</span> <span class="k">LIKE</span> <span class="s1">'%upyachka%'</span>
</code></pre></div>
<p>برای بررسی اینکه تاتر می توانید شاخص زمانی که در حال اجرا یک پرس و جو استفاده, استفاده از تنظیمات <a href="../../../../operations/settings/settings/#settings-force_index_by_date">اجبار</a> و <a href="../../../../operations/settings/settings/">اجبار</a>.</p>
<p>کلید پارتیشن بندی توسط ماه اجازه می دهد تا خواندن تنها کسانی که بلوک های داده که حاوی تاریخ از محدوده مناسب. در این مورد, بلوک داده ها ممکن است حاوی داده ها برای بسیاری از تاریخ (تا یک ماه کامل). در یک بلوک, داده ها توسط کلید اصلی طبقه بندی شده اند, که ممکن است حاوی تاریخ به عنوان ستون اول نیست. به خاطر همین, با استفاده از یک پرس و جو تنها با یک وضعیت تاریخ که پیشوند کلید اصلی مشخص نیست باعث می شود اطلاعات بیشتر از یک تاریخ به عنوان خوانده شود.</p>
<h3 id="use-of-index-for-partially-monotonic-primary-keys">استفاده از شاخص برای کلید های اولیه تا حدی یکنواخت<a class="headerlink" href="#use-of-index-for-partially-monotonic-primary-keys" title="Permanent link"> </a></h3>
<p>در نظر بگیرید, مثلا, روز از ماه. یک فرم <a href="https://en.wikipedia.org/wiki/Monotonic_function" rel="external nofollow noreferrer" target="_blank">توالی یکنواختی</a> برای یک ماه, اما برای مدت طولانی تر یکنواخت نیست. این یک توالی نیمه یکنواخت است. اگر یک کاربر ایجاد جدول با نیمه یکنواخت کلید اولیه, خانه را ایجاد یک شاخص پراکنده به طور معمول. هنگامی که یک کاربر داده ها را انتخاب از این نوع از جدول, تاتر تجزیه و تحلیل شرایط پرس و جو. اگر کاربر می خواهد برای دریافت اطلاعات بین دو علامت از شاخص و هر دو این علامت در عرض یک ماه سقوط, خانه رعیتی می توانید شاخص در این مورد خاص استفاده کنید زیرا می تواند فاصله بین پارامترهای یک پرس و جو و شاخص محاسبه.</p>
<p>کلیک خانه می تواند یک شاخص استفاده کنید اگر ارزش های کلید اصلی در محدوده پارامتر پرس و جو یک توالی یکنواخت نشان دهنده نیست. در این مورد, تاتر با استفاده از روش اسکن کامل.</p>
<p>تاتر با استفاده از این منطق نه تنها برای روز از توالی ماه, اما برای هر کلید اصلی است که نشان دهنده یک توالی نیمه یکنواخت.</p>
<h3 id="table_engine-mergetree-data_skipping-indexes">شاخص های پرش داده (تجربی)<a class="headerlink" href="#table_engine-mergetree-data_skipping-indexes" title="Permanent link"> </a></h3>
<p>اعلامیه شاخص در بخش ستون ها از <code class="syntax">CREATE</code> پرس و جو.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">INDEX</span> <span class="n">index_name</span> <span class="n">expr</span> <span class="k">TYPE</span> <span class="k">type</span><span class="p">(...)</span> <span class="n">GRANULARITY</span> <span class="n">granularity_value</span>
</code></pre></div>
<p>برای جداول از <code class="syntax">*MergeTree</code> خانواده, شاخص پرش داده را می توان مشخص.</p>
<p>این شاخص جمع برخی از اطلاعات در مورد بیان مشخص شده بر روی بلوک, که شامل <code class="syntax">granularity_value</code> گرانول (اندازه گرانول با استفاده از <code class="syntax">index_granularity</code> تنظیم در موتور جدول). سپس این دانه ها در استفاده می شود <code class="syntax">SELECT</code> نمایش داده شد برای کاهش مقدار داده ها به خواندن از روی دیسک با پرش بلوک های بزرگ از داده ها که <code class="syntax">where</code> پرس و جو نمی تواند راضی باشد.</p>
<p><strong>مثال</strong></p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">table_name</span>
<span class="p">(</span>
    <span class="n">u64</span> <span class="n">UInt64</span><span class="p">,</span>
    <span class="n">i32</span> <span class="n">Int32</span><span class="p">,</span>
    <span class="n">s</span> <span class="n">String</span><span class="p">,</span>
    <span class="p">...</span>
    <span class="k">INDEX</span> <span class="n">a</span> <span class="p">(</span><span class="n">u64</span> <span class="o">*</span> <span class="n">i32</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">TYPE</span> <span class="n">minmax</span> <span class="n">GRANULARITY</span> <span class="mi">3</span><span class="p">,</span>
    <span class="k">INDEX</span> <span class="n">b</span> <span class="p">(</span><span class="n">u64</span> <span class="o">*</span> <span class="k">length</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="k">TYPE</span> <span class="k">set</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="n">GRANULARITY</span> <span class="mi">4</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span><span class="p">()</span>
<span class="p">...</span>
</code></pre></div>
<p>شاخص ها از مثال می توانند توسط کلیک خانه استفاده شوند تا میزان داده ها را برای خواندن از دیسک در موارد زیر کاهش دهند:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">WHERE</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="s1">'z'</span>
<span class="k">SELECT</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="k">table</span> <span class="k">WHERE</span> <span class="n">u64</span> <span class="o">*</span> <span class="n">i32</span> <span class="o">==</span> <span class="mi">10</span> <span class="k">AND</span> <span class="n">u64</span> <span class="o">*</span> <span class="k">length</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1234</span>
</code></pre></div>
<h4 id="available-types-of-indices">انواع شاخص های موجود<a class="headerlink" href="#available-types-of-indices" title="Permanent link"> </a></h4>
<ul>
<li>
<p><code class="syntax">minmax</code></p>
<p>فروشگاه افراط و بیان مشخص شده (در صورتی که بیان شده است <code class="syntax">tuple</code> سپس افراط را برای هر عنصر ذخیره می کند <code class="syntax">tuple</code>), با استفاده از اطلاعات ذخیره شده برای پرش بلوک از داده ها مانند کلید اصلی.</p>
</li>
<li>
<p><code class="syntax">set(max_rows)</code></p>
<p>ارزش های منحصر به فرد بیان مشخص شده را ذخیره می کند (بیش از <code class="syntax">max_rows</code> سطرها, <code class="syntax">max_rows=0</code> یعنی “no limits”). با استفاده از مقادیر برای بررسی در صورتی که <code class="syntax">WHERE</code> بیان رضایت بخش در یک بلوک از داده ها نیست.</p>
</li>
<li>
<p><code class="syntax">ngrambf_v1(n, size_of_bloom_filter_in_bytes, number_of_hash_functions, random_seed)</code></p>
<p>فروشگاه ها <a href="https://en.wikipedia.org/wiki/Bloom_filter" rel="external nofollow noreferrer" target="_blank">فیلتر بلوم</a> که شامل تمام نمگرام از یک بلوک از داده ها. این نسخهها کار میکند تنها با رشته. می توان برای بهینه سازی استفاده کرد <code class="syntax">equals</code>, <code class="syntax">like</code> و <code class="syntax">in</code> عبارات.</p>
<ul>
<li><code class="syntax">n</code> — ngram size,</li>
<li><code class="syntax">size_of_bloom_filter_in_bytes</code> — Bloom filter size in bytes (you can use large values here, for example, 256 or 512, because it can be compressed well).</li>
<li><code class="syntax">number_of_hash_functions</code> — The number of hash functions used in the Bloom filter.</li>
<li><code class="syntax">random_seed</code> — The seed for Bloom filter hash functions.</li>
</ul>
</li>
<li>
<p><code class="syntax">tokenbf_v1(size_of_bloom_filter_in_bytes, number_of_hash_functions, random_seed)</code></p>
<p>همان <code class="syntax">ngrambf_v1</code>, اما فروشگاه نشانه به جای نمرگرام. نشانه ها توالی هایی هستند که توسط شخصیت های غیر عددی جدا شده اند.</p>
</li>
<li>
<p><code class="syntax">bloom_filter([false_positive])</code> — Stores a <a href="https://en.wikipedia.org/wiki/Bloom_filter" rel="external nofollow noreferrer" target="_blank">فیلتر بلوم</a> برای ستون مشخص.</p>
<p>اختیاری <code class="syntax">false_positive</code> پارامتر احتمال دریافت پاسخ مثبت کاذب از فیلتر است. مقادیر ممکن: (0, 1). مقدار پیش فرض: 0.025.</p>
<p>انواع داده های پشتیبانی شده: <code class="syntax">Int*</code>, <code class="syntax">UInt*</code>, <code class="syntax">Float*</code>, <code class="syntax">Enum</code>, <code class="syntax">Date</code>, <code class="syntax">DateTime</code>, <code class="syntax">String</code>, <code class="syntax">FixedString</code>, <code class="syntax">Array</code>, <code class="syntax">LowCardinality</code>, <code class="syntax">Nullable</code>.</p>
<p>توابع زیر می توانند از این استفاده کنند: <a href="../../../../sql-reference/functions/comparison-functions/">برابر</a>, <a href="../../../../sql-reference/functions/comparison-functions/">نقلقولها</a>, <a href="../../../../sql-reference/functions/in-functions/">داخل</a>, <a href="../../../../sql-reference/functions/in-functions/">notIn</a>, <a href="../../../../sql-reference/functions/array-functions/">دارد</a>.</p>
</li>
</ul>
<!-- -->
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">INDEX</span> <span class="n">sample_index</span> <span class="p">(</span><span class="n">u64</span> <span class="o">*</span> <span class="k">length</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="k">TYPE</span> <span class="n">minmax</span> <span class="n">GRANULARITY</span> <span class="mi">4</span>
<span class="k">INDEX</span> <span class="n">sample_index2</span> <span class="p">(</span><span class="n">u64</span> <span class="o">*</span> <span class="k">length</span><span class="p">(</span><span class="n">str</span><span class="p">),</span> <span class="n">i32</span> <span class="o">+</span> <span class="n">f64</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="nb">date</span><span class="p">,</span> <span class="n">str</span><span class="p">)</span> <span class="k">TYPE</span> <span class="k">set</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="n">GRANULARITY</span> <span class="mi">4</span>
<span class="k">INDEX</span> <span class="n">sample_index3</span> <span class="p">(</span><span class="k">lower</span><span class="p">(</span><span class="n">str</span><span class="p">),</span> <span class="n">str</span><span class="p">)</span> <span class="k">TYPE</span> <span class="n">ngrambf_v1</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="n">GRANULARITY</span> <span class="mi">4</span>
</code></pre></div>
<h4 id="functions-support">توابع پشتیبانی<a class="headerlink" href="#functions-support" title="Permanent link"> </a></h4>
<p>شرایط در <code class="syntax">WHERE</code> بند شامل تماس از توابع است که با ستون کار. اگر ستون بخشی از یک شاخص است, خانه رعیتی تلاش می کند تا استفاده از این شاخص در هنگام انجام توابع. تاتر از زیر مجموعه های مختلف از توابع برای استفاده از شاخص.</p>
<p>این <code class="syntax">set</code> شاخص را می توان با تمام توابع استفاده می شود. زیر مجموعه های تابع برای شاخص های دیگر در جدول زیر نشان داده شده است.</p>
<table>
<thead>
<tr>
<th>تابع (اپراتور) / شاخص</th>
<th>کلید اصلی</th>
<th>مینمکس</th>
<th>نمرمبف1</th>
<th>توکنبف1</th>
<th>ت_ضعیت</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../../../../sql-reference/functions/comparison-functions/#function-equals">اطلاعات دقیق)</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/comparison-functions/#function-notequals">نقلقولهای جدید از این نویسنده=, \&lt;&gt;)</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/string-search-functions/#function-like">مانند</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/string-search-functions/#function-notlike">notLike</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/string-functions/#startswith">startsWith</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/string-functions/#endswith">endsWith</a></td>
<td>✗</td>
<td>✗</td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/string-search-functions/#function-multisearchany">چندزبانه</a></td>
<td>✗</td>
<td>✗</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/in-functions/#in-functions">داخل</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/in-functions/#in-functions">notIn</a></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/comparison-functions/#function-less">کمتر (\&lt;)</a></td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/comparison-functions/#function-greater">بیشتر (&gt;)</a></td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/comparison-functions/#function-lessorequals">در حال بارگذاری)</a></td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/comparison-functions/#function-greaterorequals">اطلاعات دقیق)</a></td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/array-functions/#function-empty">خالی</a></td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><a href="../../../../sql-reference/functions/array-functions/#function-notempty">notEmpty</a></td>
<td>✔</td>
<td>✔</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td>شتابدهنده</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
<td>✔</td>
<td>✗</td>
</tr>
</tbody>
</table>
<p>توابع با استدلال ثابت است که کمتر از اندازه نیگرام می تواند توسط استفاده نمی شود <code class="syntax">ngrambf_v1</code> برای بهینه سازی پرس و جو.</p>
<p>فیلتر بلوم می توانید مسابقات مثبت کاذب دارند, به طوری که <code class="syntax">ngrambf_v1</code>, <code class="syntax">tokenbf_v1</code> و <code class="syntax">bloom_filter</code> شاخص ها نمی توانند برای بهینه سازی پرس و جو هایی که انتظار می رود نتیجه عملکرد نادرست باشد استفاده شوند:</p>
<ul>
<li>می توان بهینه سازی کرد:<ul>
<li><code class="syntax">s LIKE '%test%'</code></li>
<li><code class="syntax">NOT s NOT LIKE '%test%'</code></li>
<li><code class="syntax">s = 1</code></li>
<li><code class="syntax">NOT s != 1</code></li>
<li><code class="syntax">startsWith(s, 'test')</code></li>
</ul>
</li>
<li>نمی توان بهینه سازی کرد:<ul>
<li><code class="syntax">NOT s LIKE '%test%'</code></li>
<li><code class="syntax">s NOT LIKE '%test%'</code></li>
<li><code class="syntax">NOT s = 1</code></li>
<li><code class="syntax">s != 1</code></li>
<li><code class="syntax">NOT startsWith(s, 'test')</code></li>
</ul>
</li>
</ul>
<h2 id="concurrent-data-access">دسترسی همزمان داده ها<a class="headerlink" href="#concurrent-data-access" title="Permanent link"> </a></h2>
<p>برای دسترسی به جدول همزمان, ما با استفاده از چند نسخه. به عبارت دیگر, زمانی که یک جدول به طور همزمان خواندن و به روز, داده ها از مجموعه ای از قطعات است که در زمان پرس و جو در حال حاضر به عنوان خوانده شده. هیچ قفل طولانی وجود دارد. درج در راه عملیات خواندن نیست.</p>
<p>خواندن از یک جدول به طور خودکار موازی.</p>
<h2 id="table_engine-mergetree-ttl">ستون ها و جداول<a class="headerlink" href="#table_engine-mergetree-ttl" title="Permanent link"> </a></h2>
<p>تعیین طول عمر ارزش.</p>
<p>این <code class="syntax">TTL</code> بند را می توان برای کل جدول و برای هر ستون فردی تنظیم شده است. همچنین منطق حرکت خودکار داده ها بین دیسک ها و حجم ها را مشخص می کند.</p>
<p>عبارات باید به ارزیابی <a href="../../../../sql-reference/data-types/date/">تاریخ</a> یا <a href="../../../../sql-reference/data-types/datetime/">DateTime</a> نوع داده.</p>
<p>مثال:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">TTL</span> <span class="n">time_column</span>
<span class="n">TTL</span> <span class="n">time_column</span> <span class="o">+</span> <span class="nb">interval</span>
</code></pre></div>
<p>برای تعریف <code class="syntax">interval</code> استفاده <a href="../../../../sql-reference/operators/#operators-datetime">فاصله زمانی</a> اپراتورها.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">TTL</span> <span class="n">date_time</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span>
<span class="n">TTL</span> <span class="n">date_time</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">15</span> <span class="n">HOUR</span>
</code></pre></div>
<h3 id="mergetree-column-ttl">ستون<a class="headerlink" href="#mergetree-column-ttl" title="Permanent link"> </a></h3>
<p>هنگامی که مقادیر در ستون منقضی, خانه را جایگزین با مقادیر پیش فرض برای نوع داده ستون. اگر تمام مقادیر ستون در بخش داده منقضی, تاتر حذف این ستون از بخش داده ها در یک سیستم فایل.</p>
<p>این <code class="syntax">TTL</code> بند را نمی توان برای ستون های کلیدی استفاده کرد.</p>
<p>مثالها:</p>
<p>ایجاد یک جدول با تی ال</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">example_table</span>
<span class="p">(</span>
    <span class="n">d</span> <span class="n">DateTime</span><span class="p">,</span>
    <span class="n">a</span> <span class="nb">Int</span> <span class="n">TTL</span> <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span><span class="p">,</span>
    <span class="n">b</span> <span class="nb">Int</span> <span class="n">TTL</span> <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span><span class="p">,</span>
    <span class="k">c</span> <span class="n">String</span>
<span class="p">)</span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span>
<span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">toYYYYMM</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">d</span><span class="p">;</span>
</code></pre></div>
<p>اضافه کردن تی ال به یک ستون از یک جدول موجود</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">example_table</span>
    <span class="k">MODIFY</span> <span class="k">COLUMN</span>
    <span class="k">c</span> <span class="n">String</span> <span class="n">TTL</span> <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span><span class="p">;</span>
</code></pre></div>
<p>تغییر تعداد ستون</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">example_table</span>
    <span class="k">MODIFY</span> <span class="k">COLUMN</span>
    <span class="k">c</span> <span class="n">String</span> <span class="n">TTL</span> <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span><span class="p">;</span>
</code></pre></div>
<h3 id="mergetree-table-ttl">جدول<a class="headerlink" href="#mergetree-table-ttl" title="Permanent link"> </a></h3>
<p>جدول می تواند بیان برای حذف ردیف منقضی شده و عبارات متعدد برای حرکت خودکار قطعات بین <a href="#table_engine-mergetree-multiple-volumes">دیسک یا حجم</a>. هنگامی که ردیف در جدول منقضی, تاتر حذف تمام ردیف مربوطه. برای قطعات در حال حرکت از ویژگی های, تمام ردیف از یک بخش باید معیارهای بیان جنبش را تامین کند.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">TTL</span> <span class="n">expr</span> <span class="p">[</span><span class="k">DELETE</span><span class="o">|</span><span class="k">TO</span> <span class="n">DISK</span> <span class="s1">'aaa'</span><span class="o">|</span><span class="k">TO</span> <span class="n">VOLUME</span> <span class="s1">'bbb'</span><span class="p">],</span> <span class="p">...</span>
</code></pre></div>
<p>نوع قانون کنترل هوشمند ممکن است هر عبارت را دنبال کند. این تاثیر می گذارد یک عمل است که باید انجام شود یک بار بیان راضی است (زمان فعلی می رسد):</p>
<ul>
<li><code class="syntax">DELETE</code> - حذف ردیف منقضی شده (اقدام پیش فرض);</li>
<li><code class="syntax">TO DISK 'aaa'</code> - انتقال بخشی به دیسک <code class="syntax">aaa</code>;</li>
<li><code class="syntax">TO VOLUME 'bbb'</code> - انتقال بخشی به دیسک <code class="syntax">bbb</code>.</li>
</ul>
<p>مثالها:</p>
<p>ایجاد یک جدول با تی ال</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">example_table</span>
<span class="p">(</span>
    <span class="n">d</span> <span class="n">DateTime</span><span class="p">,</span>
    <span class="n">a</span> <span class="nb">Int</span>
<span class="p">)</span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span>
<span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">toYYYYMM</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">d</span>
<span class="n">TTL</span> <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">MONTH</span> <span class="p">[</span><span class="k">DELETE</span><span class="p">],</span>
    <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="n">WEEK</span> <span class="k">TO</span> <span class="n">VOLUME</span> <span class="s1">'aaa'</span><span class="p">,</span>
    <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">2</span> <span class="n">WEEK</span> <span class="k">TO</span> <span class="n">DISK</span> <span class="s1">'bbb'</span><span class="p">;</span>
</code></pre></div>
<p>تغییر تعداد جدول</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">example_table</span>
    <span class="k">MODIFY</span> <span class="n">TTL</span> <span class="n">d</span> <span class="o">+</span> <span class="nb">INTERVAL</span> <span class="mi">1</span> <span class="k">DAY</span><span class="p">;</span>
</code></pre></div>
<p><strong>حذف داده ها</strong></p>
<p>داده ها با یک حذف شده است زمانی که محل انتخابی ادغام قطعات داده.</p>
<p>هنگامی که کلیک خانه را ببینید که داده تمام شده است, انجام یک ادغام خارج از برنامه. برای کنترل فرکانس چنین ادغام, شما می توانید مجموعه <code class="syntax">merge_with_ttl_timeout</code>. اگر مقدار خیلی کم است, این بسیاری از ادغام خارج از برنامه است که ممکن است مقدار زیادی از منابع مصرف انجام.</p>
<p>اگر شما انجام <code class="syntax">SELECT</code> پرس و جو بین ادغام, شما ممکن است داده های منقضی شده. برای جلوگیری از استفاده از <a href="../../../../sql-reference/statements/misc/#misc_operations-optimize">OPTIMIZE</a> پرسوجو قبل از <code class="syntax">SELECT</code>.</p>
<h2 id="table_engine-mergetree-multiple-volumes">با استفاده از دستگاه های بلوک های متعدد برای ذخیره سازی داده ها<a class="headerlink" href="#table_engine-mergetree-multiple-volumes" title="Permanent link"> </a></h2>
<h3 id="introduction">معرفی شرکت<a class="headerlink" href="#introduction" title="Permanent link"> </a></h3>
<p><code class="syntax">MergeTree</code> موتورهای جدول خانواده می تواند داده ها در دستگاه های بلوک های متعدد ذخیره کنید. مثلا, این می تواند مفید باشد زمانی که داده ها از یک جدول خاص به طور ضمنی به تقسیم “hot” و “cold”. داده های اخیر به طور منظم درخواست شده است اما نیاز به تنها مقدار کمی از فضای. برعکس, داده های تاریخی چربی دم به ندرت درخواست. اگر چندین دیسک در دسترس هستند “hot” داده ها ممکن است بر روی دیسک های سریع واقع (مثلا, اس اس اس اس بلوم و یا در حافظه), در حالی که “cold” داده ها بر روی موارد نسبتا کند (مثلا هارد).</p>
<p>بخش داده ها حداقل واحد متحرک برای <code class="syntax">MergeTree</code>- جدول موتور . داده های متعلق به یک بخش بر روی یک دیسک ذخیره می شود. قطعات داده را می توان بین دیسک در پس زمینه (با توجه به تنظیمات کاربر) و همچنین با استفاده از نقل مکان کرد <a href="../../../../sql-reference/statements/alter/#alter_move-partition">ALTER</a> نمایش داده شد.</p>
<h3 id="terms">شرایط<a class="headerlink" href="#terms" title="Permanent link"> </a></h3>
<ul>
<li>Disk — Block device mounted to the filesystem.</li>
<li>Default disk — Disk that stores the path specified in the <a href="../../../../operations/server-configuration-parameters/settings/#server_configuration_parameters-path">مسیر</a> تنظیم سرور.</li>
<li>Volume — Ordered set of equal disks (similar to <a href="https://en.wikipedia.org/wiki/Non-RAID_drive_architectures" rel="external nofollow noreferrer" target="_blank">JBOD</a>).</li>
<li>Storage policy — Set of volumes and the rules for moving data between them.</li>
</ul>
<p>اسامی داده شده به اشخاص توصیف شده را می توان در جداول سیستم یافت می شود, <a href="../../../../operations/system-tables/#system_tables-storage_policies">سیستم.داستان_یابی</a> و <a href="../../../../operations/system-tables/#system_tables-disks">سیستم.دیسکها</a>. برای اعمال یکی از سیاست های ذخیره سازی پیکربندی شده برای یک جدول از <code class="syntax">storage_policy</code> تنظیم از <code class="syntax">MergeTree</code>- جداول خانواده موتور .</p>
<h3 id="table_engine-mergetree-multiple-volumes_configure">پیکربندی<a class="headerlink" href="#table_engine-mergetree-multiple-volumes_configure" title="Permanent link"> </a></h3>
<p>دیسک, حجم و سیاست های ذخیره سازی باید در داخل اعلام <code class="syntax">&lt;storage_configuration&gt;</code> برچسب یا در فایل اصلی <code class="syntax">config.xml</code> یا در یک فایل مجزا در <code class="syntax">config.d</code> فهرست راهنما.</p>
<p>ساختار پیکربندی:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="nt">&lt;storage_configuration&gt;</span>
    <span class="nt">&lt;disks&gt;</span>
        <span class="nt">&lt;disk_name_1&gt;</span> <span class="c">&lt;!-- disk name --&gt;</span>
            <span class="nt">&lt;path&gt;</span>/mnt/fast_ssd/clickhouse/<span class="nt">&lt;/path&gt;</span>
        <span class="nt">&lt;/disk_name_1&gt;</span>
        <span class="nt">&lt;disk_name_2&gt;</span>
            <span class="nt">&lt;path&gt;</span>/mnt/hdd1/clickhouse/<span class="nt">&lt;/path&gt;</span>
            <span class="nt">&lt;keep_free_space_bytes&gt;</span>10485760<span class="nt">&lt;/keep_free_space_bytes&gt;</span>
        <span class="nt">&lt;/disk_name_2&gt;</span>
        <span class="nt">&lt;disk_name_3&gt;</span>
            <span class="nt">&lt;path&gt;</span>/mnt/hdd2/clickhouse/<span class="nt">&lt;/path&gt;</span>
            <span class="nt">&lt;keep_free_space_bytes&gt;</span>10485760<span class="nt">&lt;/keep_free_space_bytes&gt;</span>
        <span class="nt">&lt;/disk_name_3&gt;</span>

        ...
    <span class="nt">&lt;/disks&gt;</span>

    ...
<span class="nt">&lt;/storage_configuration&gt;</span>
</code></pre></div>
<p>برچسبها:</p>
<ul>
<li><code class="syntax">&lt;disk_name_N&gt;</code> — Disk name. Names must be different for all disks.</li>
<li><code class="syntax">path</code> — path under which a server will store data (<code class="syntax">data</code> و <code class="syntax">shadow</code> پوشه ها) باید با پایان ‘/’.</li>
<li><code class="syntax">keep_free_space_bytes</code> — the amount of free disk space to be reserved.</li>
</ul>
<p>منظور از تعریف دیسک مهم نیست.</p>
<p>نشانه گذاری پیکربندی سیاست های ذخیره سازی:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="nt">&lt;storage_configuration&gt;</span>
    ...
    <span class="nt">&lt;policies&gt;</span>
        <span class="nt">&lt;policy_name_1&gt;</span>
            <span class="nt">&lt;volumes&gt;</span>
                <span class="nt">&lt;volume_name_1&gt;</span>
                    <span class="nt">&lt;disk&gt;</span>disk_name_from_disks_configuration<span class="nt">&lt;/disk&gt;</span>
                    <span class="nt">&lt;max_data_part_size_bytes&gt;</span>1073741824<span class="nt">&lt;/max_data_part_size_bytes&gt;</span>
                <span class="nt">&lt;/volume_name_1&gt;</span>
                <span class="nt">&lt;volume_name_2&gt;</span>
                    <span class="c">&lt;!-- configuration --&gt;</span>
                <span class="nt">&lt;/volume_name_2&gt;</span>
                <span class="c">&lt;!-- more volumes --&gt;</span>
            <span class="nt">&lt;/volumes&gt;</span>
            <span class="nt">&lt;move_factor&gt;</span>0.2<span class="nt">&lt;/move_factor&gt;</span>
        <span class="nt">&lt;/policy_name_1&gt;</span>
        <span class="nt">&lt;policy_name_2&gt;</span>
            <span class="c">&lt;!-- configuration --&gt;</span>
        <span class="nt">&lt;/policy_name_2&gt;</span>

        <span class="c">&lt;!-- more policies --&gt;</span>
    <span class="nt">&lt;/policies&gt;</span>
    ...
<span class="nt">&lt;/storage_configuration&gt;</span>
</code></pre></div>
<p>برچسبها:</p>
<ul>
<li><code class="syntax">policy_name_N</code> — Policy name. Policy names must be unique.</li>
<li><code class="syntax">volume_name_N</code> — Volume name. Volume names must be unique.</li>
<li><code class="syntax">disk</code> — a disk within a volume.</li>
<li><code class="syntax">max_data_part_size_bytes</code> — the maximum size of a part that can be stored on any of the volume's disks.</li>
<li><code class="syntax">move_factor</code> — when the amount of available space gets lower than this factor, data automatically start to move on the next volume if any (by default, 0.1).</li>
</ul>
<p>Cofiguration نمونه:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="nt">&lt;storage_configuration&gt;</span>
    ...
    <span class="nt">&lt;policies&gt;</span>
        <span class="nt">&lt;hdd_in_order&gt;</span> <span class="c">&lt;!-- policy name --&gt;</span>
            <span class="nt">&lt;volumes&gt;</span>
                <span class="nt">&lt;single&gt;</span> <span class="c">&lt;!-- volume name --&gt;</span>
                    <span class="nt">&lt;disk&gt;</span>disk1<span class="nt">&lt;/disk&gt;</span>
                    <span class="nt">&lt;disk&gt;</span>disk2<span class="nt">&lt;/disk&gt;</span>
                <span class="nt">&lt;/single&gt;</span>
            <span class="nt">&lt;/volumes&gt;</span>
        <span class="nt">&lt;/hdd_in_order&gt;</span>

        <span class="nt">&lt;moving_from_ssd_to_hdd&gt;</span>
            <span class="nt">&lt;volumes&gt;</span>
                <span class="nt">&lt;hot&gt;</span>
                    <span class="nt">&lt;disk&gt;</span>fast_ssd<span class="nt">&lt;/disk&gt;</span>
                    <span class="nt">&lt;max_data_part_size_bytes&gt;</span>1073741824<span class="nt">&lt;/max_data_part_size_bytes&gt;</span>
                <span class="nt">&lt;/hot&gt;</span>
                <span class="nt">&lt;cold&gt;</span>
                    <span class="nt">&lt;disk&gt;</span>disk1<span class="nt">&lt;/disk&gt;</span>
                <span class="nt">&lt;/cold&gt;</span>
            <span class="nt">&lt;/volumes&gt;</span>
            <span class="nt">&lt;move_factor&gt;</span>0.2<span class="nt">&lt;/move_factor&gt;</span>
        <span class="nt">&lt;/moving_from_ssd_to_hdd&gt;</span>
    <span class="nt">&lt;/policies&gt;</span>
    ...
<span class="nt">&lt;/storage_configuration&gt;</span>
</code></pre></div>
<p>در مثال داده شده <code class="syntax">hdd_in_order</code> سیاست پیاده سازی <a href="https://en.wikipedia.org/wiki/Round-robin_scheduling" rel="external nofollow noreferrer" target="_blank">گرد رابین</a> نزدیک شو بنابراین این سیاست تنها یک جلد را تعریف می کند (<code class="syntax">single</code>), قطعات داده ها بر روی تمام دیسک های خود را به ترتیب دایره ای ذخیره می شود. چنین سیاستی می تواند بسیار مفید اگر چندین دیسک مشابه به سیستم نصب شده وجود دارد, اما حمله پیکربندی نشده است. به خاطر داشته باشید که هر درایو دیسک منحصر به فرد قابل اعتماد نیست و شما ممکن است بخواهید با عامل تکرار 3 یا بیشتر جبران.</p>
<p>اگر انواع مختلف دیسک های موجود در سیستم وجود دارد, <code class="syntax">moving_from_ssd_to_hdd</code> سیاست را می توان به جای استفاده. حجم <code class="syntax">hot</code> شامل یک دیسک اس اس دی (<code class="syntax">fast_ssd</code>), و حداکثر اندازه یک بخش است که می تواند در این حجم ذخیره شده است 1گیگابایت. تمام قطعات با اندازه بزرگتر از 1 گیگابایت به طور مستقیم در <code class="syntax">cold</code> حجم, که شامل یک دیسک هارد <code class="syntax">disk1</code>.<br/>
همچنین هنگامی که دیسک <code class="syntax">fast_ssd</code> می شود توسط بیش از پر 80%, داده خواهد شد به انتقال <code class="syntax">disk1</code> توسط یک فرایند پس زمینه.</p>
<p>منظور شمارش حجم در یک سیاست ذخیره سازی مهم است. هنگامی که یک حجم پر شده است, داده ها به یک بعدی منتقل. ترتیب شمارش دیسک نیز مهم است زیرا داده ها در نوبت ذخیره می شوند.</p>
<p>هنگام ایجاد یک جدول می توان یکی از سیاست های ذخیره سازی پیکربندی شده را اعمال کرد:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">table_with_non_default_policy</span> <span class="p">(</span>
    <span class="n">EventDate</span> <span class="nb">Date</span><span class="p">,</span>
    <span class="n">OrderID</span> <span class="n">UInt64</span><span class="p">,</span>
    <span class="n">BannerID</span> <span class="n">UInt64</span><span class="p">,</span>
    <span class="n">SearchPhrase</span> <span class="n">String</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="p">(</span><span class="n">OrderID</span><span class="p">,</span> <span class="n">BannerID</span><span class="p">)</span>
<span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">toYYYYMM</span><span class="p">(</span><span class="n">EventDate</span><span class="p">)</span>
<span class="n">SETTINGS</span> <span class="n">storage_policy</span> <span class="o">=</span> <span class="s1">'moving_from_ssd_to_hdd'</span>
</code></pre></div>
<p>این <code class="syntax">default</code> سیاست ذخیره سازی نشان میدهد تنها با استفاده از یک حجم, که متشکل از تنها یک دیسک داده شده در <code class="syntax">&lt;path&gt;</code>. هنگامی که یک جدول ایجاد شده است, سیاست ذخیره سازی خود را نمی توان تغییر داد.</p>
<h3 id="details">اطلاعات دقیق<a class="headerlink" href="#details" title="Permanent link"> </a></h3>
<p>در مورد <code class="syntax">MergeTree</code> جداول داده ها به دیسک در راه های مختلف گرفتن است:</p>
<ul>
<li>به عنوان یک نتیجه از درج (<code class="syntax">INSERT</code> پرسوجو).</li>
<li>در طول پس زمینه ادغام و <a href="../../../../sql-reference/statements/alter/#alter-mutations">جهشها</a>.</li>
<li>هنگام دانلود از ماکت دیگر.</li>
<li>به عنوان یک نتیجه از انجماد پارتیشن <a href="../../../../sql-reference/statements/alter/#alter_freeze-partition">ALTER TABLE … FREEZE PARTITION</a>.</li>
</ul>
<p>در تمام این موارد به جز جهش و پارتیشن انجماد بخش ذخیره شده در حجم و دیسک با توجه به سیاست ذخیره سازی داده شده است:</p>
<ol>
<li>جلد اول (به ترتیب تعریف) که فضای دیسک به اندازه کافی برای ذخیره سازی یک بخش (<code class="syntax">unreserved_space &gt; current_part_size</code>) و اجازه می دهد تا برای ذخیره سازی بخش هایی از اندازه داده شده (<code class="syntax">max_data_part_size_bytes &gt; current_part_size</code>) انتخاب شده است .</li>
<li>در این حجم, که دیسک انتخاب شده است که به دنبال یکی, که برای ذخیره سازی تکه های قبلی از داده مورد استفاده قرار گرفت, و دارای فضای رایگان بیش از اندازه بخش (<code class="syntax">unreserved_space - keep_free_space_bytes &gt; current_part_size</code>).</li>
</ol>
<p>تحت هود جهش و پارتیشن انجماد استفاده از <a href="https://en.wikipedia.org/wiki/Hard_link" rel="external nofollow noreferrer" target="_blank">لینک های سخت</a>. لینک های سخت بین دیسک های مختلف پشتیبانی نمی شوند بنابراین در چنین مواردی قطعات حاصل شده بر روی دیسک های مشابه به عنوان اولیه ذخیره می شوند.</p>
<p>در پس زمینه, قطعات بین حجم بر اساس مقدار فضای رایگان نقل مکان کرد (<code class="syntax">move_factor</code> پارامتر) با توجه به سفارش حجم در فایل پیکربندی اعلام کرد.<br/>
داده ها هرگز از گذشته و به یکی از اولین منتقل شده است. ممکن است از جداول سیستم استفاده کنید <a href="../../../../operations/system-tables/#system_tables-part-log">سیستم._خروج</a> (زمینه <code class="syntax">type = MOVE_PART</code>) و <a href="../../../../operations/system-tables/#system_tables-parts">سیستم.قطعات</a> (فیلدها <code class="syntax">path</code> و <code class="syntax">disk</code>) برای نظارت بر حرکت پس زمینه . همچنین, اطلاعات دقیق را می توان در سیاهههای مربوط به سرور پیدا شده است.</p>
<p>کاربر می تواند نیروی حرکت بخشی یا پارتیشن از یک حجم به دیگری با استفاده از پرس و جو <a href="../../../../sql-reference/statements/alter/#alter_move-partition">ALTER TABLE … MOVE PART|PARTITION … TO VOLUME|DISK …</a>, تمام محدودیت برای عملیات پس زمینه در نظر گرفته شود. پرس و جو شروع یک حرکت به خودی خود و منتظر نیست برای عملیات پس زمینه به پایان خواهد رسید. کاربر یک پیام خطا اگر فضای رایگان به اندازه کافی در دسترس است و یا اگر هر یک از شرایط مورد نیاز را ملاقات کرد.</p>
<p>داده های متحرک با تکرار داده ها دخالت نمی کنند. از این رو, سیاست های ذخیره سازی مختلف را می توان برای همان جدول در کپی های مختلف مشخص.</p>
<p>پس از اتمام ادغام پس زمینه و جهش, قطعات قدیمی تنها پس از یک مقدار مشخصی از زمان حذف (<code class="syntax">old_parts_lifetime</code>).<br/>
در طول این زمان به حجم یا دیسک های دیگر منتقل نمی شوند. از این رو, تا زمانی که قطعات در نهایت حذف, هنوز هم به حساب برای ارزیابی فضای دیسک اشغال گرفته.</p>
<p><a href="https://clickhouse.tech/docs/ru/operations/table_engines/mergetree/" target="_blank">مقاله اصلی</a> <!--hide--></p>
        

        
    </div>

    
<div class="alert alert-light my-3">
  <p class="float-right mb-0">درجهبندی: RATING_VALUE - RATING_COUNT رای</p>
  <span class="alert-heading display-6">این مطالب مفید بود?</span>
  <div id="rating-stars" class="display-6 mb-0"
     
     data-titles="['غیرقابل استفاده', 'فقیر', 'OK', 'خوبه', 'عالیه']"
     data-documentation="مستندات"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>ساخته شده از <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, منتشر شده در <span title="2020-04-04T12:15:31+03:00">2020-04-04</span>, تغییریافته <span title="2020-05-15T07:34:54+03:00">2020-05-15</span>
    
    </div>
</div>

</div>

                
                    <div id="toc" class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5">
    
    
        
    
    <nav class="nav flex-column text-wrap">
    
        <label for="toc">جدول محتویات</label>
    
    
        
        
        <a href="#table_engine-mergetree-creating-a-table" title="ایجاد یک جدول" class="nav-link text-wrap d-inline-block w-100">
    ایجاد یک جدول
</a>

<nav id="toc-toc-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#mergetree-query-clauses" title="بندهای پرسوجو" class="nav-link text-wrap d-inline-block w-100">
    بندهای پرسوجو
</a>

    
</nav>

    
        
        
        <a href="#mergetree-data-storage" title="ذخیره سازی داده ها" class="nav-link text-wrap d-inline-block w-100">
    ذخیره سازی داده ها
</a>

    
        
        
        <a href="#primary-keys-and-indexes-in-queries" title="کلید های اولیه و شاخص ها در نمایش داده شد" class="nav-link text-wrap d-inline-block w-100">
    کلید های اولیه و شاخص ها در نمایش داده شد
</a>

<nav id="toc-toc-3" class="nav flex-column pl-2">
    
    
        
        
        <a href="#selecting-the-primary-key" title="انتخاب کلید اصلی" class="nav-link text-wrap d-inline-block w-100">
    انتخاب کلید اصلی
</a>

    
        
        
        <a href="#choosing-a-primary-key-that-differs-from-the-sorting-key" title="انتخاب کلید اصلی است که متفاوت از کلید مرتب سازی" class="nav-link text-wrap d-inline-block w-100">
    انتخاب کلید اصلی است که متفاوت از کلید مرتب سازی
</a>

    
        
        
        <a href="#use-of-indexes-and-partitions-in-queries" title="استفاده از شاخص ها و پارتیشن ها در نمایش داده شد" class="nav-link text-wrap d-inline-block w-100">
    استفاده از شاخص ها و پارتیشن ها در نمایش داده شد
</a>

    
        
        
        <a href="#use-of-index-for-partially-monotonic-primary-keys" title="استفاده از شاخص برای کلید های اولیه تا حدی یکنواخت" class="nav-link text-wrap d-inline-block w-100">
    استفاده از شاخص برای کلید های اولیه تا حدی یکنواخت
</a>

    
        
        
        <a href="#table_engine-mergetree-data_skipping-indexes" title="شاخص های پرش داده (تجربی)" class="nav-link text-wrap d-inline-block w-100">
    شاخص های پرش داده (تجربی)
</a>

<nav id="toc-toc-3-5" class="nav flex-column pl-2">
    
    
        
        
        <a href="#available-types-of-indices" title="انواع شاخص های موجود" class="nav-link text-wrap d-inline-block w-100">
    انواع شاخص های موجود
</a>

    
        
        
        <a href="#functions-support" title="توابع پشتیبانی" class="nav-link text-wrap d-inline-block w-100">
    توابع پشتیبانی
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#concurrent-data-access" title="دسترسی همزمان داده ها" class="nav-link text-wrap d-inline-block w-100">
    دسترسی همزمان داده ها
</a>

    
        
        
        <a href="#table_engine-mergetree-ttl" title="ستون ها و جداول" class="nav-link text-wrap d-inline-block w-100">
    ستون ها و جداول
</a>

<nav id="toc-toc-5" class="nav flex-column pl-2">
    
    
        
        
        <a href="#mergetree-column-ttl" title="ستون" class="nav-link text-wrap d-inline-block w-100">
    ستون
</a>

    
        
        
        <a href="#mergetree-table-ttl" title="جدول" class="nav-link text-wrap d-inline-block w-100">
    جدول
</a>

    
</nav>

    
        
        
        <a href="#table_engine-mergetree-multiple-volumes" title="با استفاده از دستگاه های بلوک های متعدد برای ذخیره سازی داده ها" class="nav-link text-wrap d-inline-block w-100">
    با استفاده از دستگاه های بلوک های متعدد برای ذخیره سازی داده ها
</a>

<nav id="toc-toc-6" class="nav flex-column pl-2">
    
    
        
        
        <a href="#introduction" title="معرفی شرکت" class="nav-link text-wrap d-inline-block w-100">
    معرفی شرکت
</a>

    
        
        
        <a href="#terms" title="شرایط" class="nav-link text-wrap d-inline-block w-100">
    شرایط
</a>

    
        
        
        <a href="#table_engine-mergetree-multiple-volumes_configure" title="پیکربندی" class="nav-link text-wrap d-inline-block w-100">
    پیکربندی
</a>

    
        
        
        <a href="#details" title="اطلاعات دقیق" class="nav-link text-wrap d-inline-block w-100">
    اطلاعات دقیق
</a>

    
</nav>

    
    </nav>
</div>
                
            </div>
        </div>
    

    

<script async type="text/javascript" src="/js/base.js?js_digest"></script>



<noscript>
    <div><img src="https://mc.yandex.ru/watch/18343495" alt="Yandex"/></div>
</noscript>
</body>
</html>