










    



    



    



    
    






    
        
        
    
    <!DOCTYPE html>
<html lang="ru" data-version="master" data-single-page="false">
<head>
    
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>How to Run ClickHouse Tests | Документация ClickHouse</title>

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180x180.png" />

<meta property="og:title" content="How to Run ClickHouse Tests | Документация ClickHouse"/>
<meta property="og:description" content="ClickHouse Testing Functional Tests Functional tests are the most simple and convenient to use. Most of ClickHouse featu" />
<meta property="og:type" content="article" />

<meta property="og:image" content="https://clickhouse.tech/images/logo.png" />

<meta property="og:url" content="https://clickhouse.tech/docs/ru/development/tests/"/>
<link rel="canonical" href="https://clickhouse.tech/docs/en/development/tests/" />

<link rel="amphtml" href="https://clickhouse.tech/docs/ru/development/tests/amp/" />

<link rel="search" href="/opensearch.xml" title="ClickHouse" type="application/opensearchdescription+xml" />

<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "How to Run ClickHouse Tests | Документация ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/ru/development/tests/",

"datePublished": "2017-10-25T08:27:09+03:00",
"dateModified": "2020-04-11T18:03:35+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "How to Run ClickHouse Tests | Документация ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>


<meta name="description" content="ClickHouse Testing Functional Tests Functional tests are the most simple and convenient to use. Most of ClickHouse featu" />

<meta name="keywords"
      content="ClickHouse, DBMS, OLAP, SQL, открытый исходный код, реляционный, аналитика, аналитический, большие данные, веб-аналитика" />




    
    <link rel="alternate" hreflang="en" href="https://clickhouse.tech/docs/en/development/tests/" />
    
    <link rel="alternate" hreflang="zh" href="https://clickhouse.tech/docs/zh/development/tests/" />
    
    <link rel="alternate" hreflang="es" href="https://clickhouse.tech/docs/es/development/tests/" />
    
    <link rel="alternate" hreflang="fr" href="https://clickhouse.tech/docs/fr/development/tests/" />
    
    <link rel="alternate" hreflang="ru" href="https://clickhouse.tech/docs/ru/development/tests/" />
    
    <link rel="alternate" hreflang="ja" href="https://clickhouse.tech/docs/ja/development/tests/" />
    
    <link rel="alternate" hreflang="tr" href="https://clickhouse.tech/docs/tr/development/tests/" />
    
    <link rel="alternate" hreflang="fa" href="https://clickhouse.tech/docs/fa/development/tests/" />
    
    <link rel="alternate" hreflang="x-default" href="https://clickhouse.tech/docs/en/development/tests/" />





    
    <link href="/css/base.css?css_digest" media="all" rel="stylesheet" />


</head>
<body dir="ltr" data-spy="scroll" data-target="#toc" data-offset="80">

    
        <nav id="top-nav" class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top">
    <div class="container-fluid justify-content-between">
        <a class="d-block navbar-brand mr-3" href="/">
            <img id="docs-logo-icon" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"/>
        </a>
        <div class="w-100 navbar-text text-left d-none d-md-block">
            <h1 class="h3 m-0 p-0 d-inline">
                <a href="#" class="text-white text-decoration-none">
                    
                        How to Run ClickHouse Tests
                    
                </a>
            </h1>
        </div>

        <div class="d-none d-md-block">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end">
                
                    
                
                
                <li id="edit-wrapper" class="nav-item">
                    <a id="edit-link" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/development/tests.md" title="Edit this article" class="nav-link" rel="external nofollow noreferrer" target="_blank"><img src="/images/mkdocs/edit.svg" alt="Edit this article" class="mt-1" height="22" /></a>
                </li>
                
                <li class="nav-item">
                     <a class="nav-link" href="https://github.com/ClickHouse/ClickHouse" rel="external nofollow noreferrer">
                        <img src="/images/index/github.svg" alt="GitHub repository" title="Go to GitHub" height="32" />
                    </a>
                </li>
                <li id="languages-wrapper" class="nav-item dropdown">
                    <div id="languages-dropdown">
                        <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href="#" id="lang-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="/images/flags/ru.svg" alt="Русский" title="Русский" width="32" class="d-inline-block mt-n1" />
                        </a>
                        <div class="dropdown-menu bg-dark" aria-labelledby="lang-dropdown">
                            
                            <a class="dropdown-item"
                               href="/docs/en/development/tests/">
                                <img src="/images/flags/en.svg" alt="" title="" width="32" class="d-inline-block mr-2" />English
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/zh/development/tests/">
                                <img src="/images/flags/zh.svg" alt="" title="" width="32" class="d-inline-block mr-2" />中文
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/es/development/tests/">
                                <img src="/images/flags/es.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Español
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fr/development/tests/">
                                <img src="/images/flags/fr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Français
                            </a>
                            
                            <a class="dropdown-item disabled"
                               href="/docs/ru/development/tests/">
                                <img src="/images/flags/ru.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Русский
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ja/development/tests/">
                                <img src="/images/flags/ja.svg" alt="" title="" width="32" class="d-inline-block mr-2" />日本語
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/tr/development/tests/">
                                <img src="/images/flags/tr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Türkçe
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fa/development/tests/">
                                <img src="/images/flags/fa.svg" alt="" title="" width="32" class="d-inline-block mr-2" />فارسی
                            </a>
                            
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <form id="search-form" class="form-inline m-0">
            <div class="input-group">
                <div class="input-group-prepend w-100">
                    <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id="search-icon">
                        <img src="/images/mkdocs/search.svg" />
                    </span>
                    <input id="docsearch-input" class="form-control bg-secondary-alt text-muted border-0 pl-1" type="search" placeholder="Search" aria-label="Search">
                </div>
            </div>
        </form>

        <button id="navbar-toggler" class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
        <div class="container-fluid">
            <div class="row justify-content-end justify-content-xl-center">
                <div id="sidebar" class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto">
    <div class="overflow-auto">
        <div id="single-page-switch" class="btn-group mb-2 float-right" role="group" aria-label="Многостраничный или одностраничный">
            <a href="../.." role="button" class="btn btn-dark active" aria-pressed="true">
                <img src="/images/mkdocs/multi.svg" alt="Многостраничная версия" title="Многостраничная версия" />
            </a>
            <a href="../../single/" role="button" class="btn btn-dark-alt active" aria-pressed="true">
                <img src="/images/mkdocs/single.svg" alt="Одностраничная версия" title="Одностраничная версия" />
            </a>
        </div>
        <div class="dropdown mb-3">
            <a class="btn btn-dark dropdown-toggle text-muted" href="#" role="button" id="select-version" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Версия: <span class="text-light">последняя</span>
            </a>

            <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby="select-version">
                <a class="dropdown-item disable"
                   href="/docs/ru/">
                    <span class="text-light">последняя</span>
                </a>

                
            </div>
        </div>
        
        <nav id="sidebar-nav" class="nav flex-column mb-5">
            
                
                
                


<a href="#sidebar-sidebar-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-1" title="Введение" class="nav-link text-light text-wrap dropdown-toggle px-0">Введение</a>
<div id="sidebar-sidebar-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../" title="Обзор" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a>


    
        
        
        

    
        
        
        


<a href="../../introduction/adopters/" title="Adopters" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adopters</a>


    
        
        
        


<a href="../../introduction/info/" title="Информационная поддержка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Информационная поддержка</a>


    
        
        
        


<a href="../../introduction/history/" title="История ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">История ClickHouse</a>


    
        
        
        


<a href="../../introduction/distinctive-features/" title="Отличительные возможности ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Отличительные возможности ClickHouse</a>


    
        
        
        


<a href="../../introduction/performance/" title="Производительность" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Производительность</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2" title="Начало работы" class="nav-link text-light text-wrap dropdown-toggle px-0">Начало работы</a>
<div id="sidebar-sidebar-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../getting-started/tutorial/" title="Tutorial" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a>


    
        
        
        


<a href="#sidebar-sidebar-2-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3" title="Тестовые массивы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Тестовые массивы данных</a>
<div id="sidebar-sidebar-2-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../getting-started/example-datasets/" title="Обзор" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a>


    
        
        
        


<a href="../../getting-started/example-datasets/amplab-benchmark/" title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a>


    
        
        
        


<a href="../../getting-started/example-datasets/ontime/" title="OnTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a>


    
        
        
        


<a href="../../getting-started/example-datasets/star-schema/" title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a>


    
        
        
        


<a href="../../getting-started/example-datasets/wikistat/" title="WikiStat" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a>


    
        
        
        


<a href="../../getting-started/example-datasets/metrica/" title="Анонимизированные данные Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Анонимизированные данные Яндекс.Метрики</a>


    
        
        
        


<a href="../../getting-started/example-datasets/nyc-taxi/" title="Данные о такси в Нью-Йорке" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные о такси в Нью-Йорке</a>


    
        
        
        


<a href="../../getting-started/example-datasets/criteo/" title="Терабайт логов кликов от Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Терабайт логов кликов от Criteo</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../getting-started/playground/" title="ClickHouse Playground" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Playground</a>


    
        
        
        


<a href="../../getting-started/install/" title="Установка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Установка</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3" title="Интерфейсы" class="nav-link text-light text-wrap dropdown-toggle px-0">Интерфейсы</a>
<div id="sidebar-sidebar-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../interfaces/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="#sidebar-sidebar-3-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-2" title="От сторонних разработчиков" class="nav-link text-light text-wrap dropdown-toggle px-0">От сторонних разработчиков</a>
<div id="sidebar-sidebar-3-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../interfaces/third-party/integrations/" title="Библиотеки для интеграции от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Библиотеки для интеграции от сторонних разработчиков</a>


    
        
        
        


<a href="../../interfaces/third-party/gui/" title="Визуальные интерфейсы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Визуальные интерфейсы от сторонних разработчиков</a>


    
        
        
        


<a href="../../interfaces/third-party/client-libraries/" title="Клиентские библиотеки от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиентские библиотеки от сторонних разработчиков</a>


    
        
        
        


<a href="../../interfaces/third-party/proxy/" title="Прокси-серверы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прокси-серверы от сторонних разработчиков</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../interfaces/cpp/" title="C++ клиентская библиотека" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ клиентская библиотека</a>


    
        
        
        


<a href="../../interfaces/http/" title="HTTP-интерфейс" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP-интерфейс</a>


    
        
        
        


<a href="../../interfaces/jdbc/" title="JDBC-драйвер" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC-драйвер</a>


    
        
        
        


<a href="../../interfaces/mysql/" title="MySQL-интерфейс" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL-интерфейс</a>


    
        
        
        


<a href="../../interfaces/odbc/" title="ODBC-драйвер" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC-драйвер</a>


    
        
        
        


<a href="../../interfaces/cli/" title="Клиент командной строки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиент командной строки</a>


    
        
        
        


<a href="../../interfaces/tcp/" title="Родной интерфейс (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Родной интерфейс (TCP)</a>


    
        
        
        


<a href="../../interfaces/formats/" title="Форматы входных и выходных данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Форматы входных и выходных данных</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4" title="Движки" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки</a>
<div id="sidebar-sidebar-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-4-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2" title="Движки баз данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки баз данных</a>
<div id="sidebar-sidebar-4-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../engines/database-engines/lazy/" title="Lazy" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a>


    
        
        
        


<a href="../../engines/database-engines/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../engines/database-engines/" title="Движки баз данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки баз данных</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3" title="Движки таблиц" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки таблиц</a>
<div id="sidebar-sidebar-4-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-4-3-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-1" title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a>
<div id="sidebar-sidebar-4-3-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../engines/table-engines/mergetree-family/aggregatingmergetree/" title="AggregatingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/collapsingmergetree/" title="CollapsingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/graphitemergetree/" title="GraphiteMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/mergetree/" title="MergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/replacingmergetree/" title="ReplacingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/summingmergetree/" title="SummingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/" title="VersionedCollapsingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/custom-partitioning-key/" title="Произвольный ключ партиционирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Произвольный ключ партиционирования</a>


    
        
        
        


<a href="../../engines/table-engines/mergetree-family/replication/" title="Репликация данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Репликация данных</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-2" title="Семейство Log" class="nav-link text-light text-wrap dropdown-toggle px-0">Семейство Log</a>
<div id="sidebar-sidebar-4-3-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../engines/table-engines/log-family/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../engines/table-engines/log-family/log/" title="Log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a>


    
        
        
        


<a href="../../engines/table-engines/log-family/stripelog/" title="StripeLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a>


    
        
        
        


<a href="../../engines/table-engines/log-family/tinylog/" title="TinyLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-3" title="Integrations" class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a>
<div id="sidebar-sidebar-4-3-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../engines/table-engines/integrations/hdfs/" title="HDFS" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/jdbc/" title="JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/kafka/" title="Kafka" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../engines/table-engines/integrations/odbc/" title="ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-4" title="Special" class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a>
<div id="sidebar-sidebar-4-3-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../engines/table-engines/special/generate/" title="GenerateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a>


    
        
        
        


<a href="../../engines/table-engines/special/buffer/" title="Buffer" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a>


    
        
        
        


<a href="../../engines/table-engines/special/dictionary/" title="Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a>


    
        
        
        


<a href="../../engines/table-engines/special/distributed/" title="Distributed" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a>


    
        
        
        


<a href="../../engines/table-engines/special/file/" title="File(Format)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">File(Format)</a>


    
        
        
        


<a href="../../engines/table-engines/special/join/" title="Join" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a>


    
        
        
        


<a href="../../engines/table-engines/special/materializedview/" title="MaterializedView" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a>


    
        
        
        


<a href="../../engines/table-engines/special/memory/" title="Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a>


    
        
        
        


<a href="../../engines/table-engines/special/merge/" title="Merge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a>


    
        
        
        


<a href="../../engines/table-engines/special/null/" title="Null" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a>


    
        
        
        


<a href="../../engines/table-engines/special/set/" title="Set" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a>


    
        
        
        


<a href="../../engines/table-engines/special/url/" title="URL(URL, Format)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL(URL, Format)</a>


    
        
        
        


<a href="../../engines/table-engines/special/view/" title="View" class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a>


    
        
        
        


<a href="../../engines/table-engines/special/external-data/" title="Внешние данные для обработки запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние данные для обработки запроса</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../engines/table-engines/" title="Движки таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки таблиц</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5" title="Справка по SQL" class="nav-link text-light text-wrap dropdown-toggle px-0">Справка по SQL</a>
<div id="sidebar-sidebar-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2" title="Выражения" class="nav-link text-light text-wrap dropdown-toggle px-0">Выражения</a>
<div id="sidebar-sidebar-5-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2-2" title="SELECT" class="nav-link text-light text-wrap dropdown-toggle px-0">SELECT</a>
<div id="sidebar-sidebar-5-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/statements/select/" title="SELECT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/limit/" title="LIMIT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/order-by/" title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a>


    
        
        
        


<a href="../../sql-reference/statements/select/array-join/" title="Секция ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция ARRAY JOIN</a>


    
        
        
        


<a href="../../sql-reference/statements/select/distinct/" title="Секция DISTINCT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция DISTINCT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/format/" title="Секция FORMAT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция FORMAT</a>


    
        
        
        


<a href="../../sql-reference/statements/select/from/" title="Секция FROM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция FROM</a>


    
        
        
        


<a href="../../sql-reference/statements/select/group-by/" title="Секция GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция GROUP BY</a>


    
        
        
        


<a href="../../sql-reference/statements/select/having/" title="Секция HAVING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция HAVING</a>


    
        
        
        


<a href="../../sql-reference/statements/select/into-outfile/" title="Секция INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция INTO OUTFILE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/join/" title="Секция JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция JOIN</a>


    
        
        
        


<a href="../../sql-reference/statements/select/limit-by/" title="Секция LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция LIMIT BY</a>


    
        
        
        


<a href="../../sql-reference/statements/select/prewhere/" title="Секция PREWHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция PREWHERE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/sample/" title="Секция SAMPLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция SAMPLE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/union-all/" title="Секция UNION ALL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция UNION ALL</a>


    
        
        
        


<a href="../../sql-reference/statements/select/where/" title="Секция WHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция WHERE</a>


    
        
        
        


<a href="../../sql-reference/statements/select/with/" title="Секция WITH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция WITH</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/statements/insert-into/" title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a>


    
        
        
        


<a href="../../sql-reference/statements/create/" title="CREATE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CREATE</a>


    
        
        
        


<a href="../../sql-reference/statements/alter/" title="ALTER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a>


    
        
        
        


<a href="../../sql-reference/statements/grant/" title="GRANT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a>


    
        
        
        


<a href="../../sql-reference/statements/revoke/" title="REVOKE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a>


    
        
        
        


<a href="../../sql-reference/statements/show/" title="SHOW Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW Queries</a>


    
        
        
        


<a href="../../sql-reference/statements/system/" title="Запросы SYSTEM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Запросы SYSTEM</a>


    
        
        
        


<a href="../../sql-reference/statements/misc/" title="Прочие виды запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие виды запросов</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-3" title="Агрегатные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Агрегатные функции</a>
<div id="sidebar-sidebar-5-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/aggregate-functions/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../sql-reference/aggregate-functions/combinators/" title="Комбинаторы агрегатных функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Комбинаторы агрегатных функций</a>


    
        
        
        


<a href="../../sql-reference/aggregate-functions/parametric-functions/" title="Параметрические агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Параметрические агрегатные функции</a>


    
        
        
        


<a href="../../sql-reference/aggregate-functions/reference/" title="Справочник функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Справочник функций</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-4" title="Табличные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Табличные функции</a>
<div id="sidebar-sidebar-5-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/table-functions/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../sql-reference/table-functions/cluster/" title="cluster" class="nav-link text-light text-wrap d-inline-block w-100 px-0">cluster</a>


    
        
        
        


<a href="../../sql-reference/table-functions/file/" title="file" class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a>


    
        
        
        


<a href="../../sql-reference/table-functions/generate/" title="generateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a>


    
        
        
        


<a href="../../sql-reference/table-functions/hdfs/" title="hdfs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a>


    
        
        
        


<a href="../../sql-reference/table-functions/input/" title="input" class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a>


    
        
        
        


<a href="../../sql-reference/table-functions/jdbc/" title="jdbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a>


    
        
        
        


<a href="../../sql-reference/table-functions/merge/" title="merge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a>


    
        
        
        


<a href="../../sql-reference/table-functions/mysql/" title="mysql" class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a>


    
        
        
        


<a href="../../sql-reference/table-functions/numbers/" title="numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a>


    
        
        
        


<a href="../../sql-reference/table-functions/odbc/" title="odbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a>


    
        
        
        


<a href="../../sql-reference/table-functions/remote/" title="remote, remoteSecure" class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote, remoteSecure</a>


    
        
        
        


<a href="../../sql-reference/table-functions/url/" title="url" class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5" title="Типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Типы данных</a>
<div id="sidebar-sidebar-5-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="#sidebar-sidebar-5-5-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-2" title="Домены" class="nav-link text-light text-wrap dropdown-toggle px-0">Домены</a>
<div id="sidebar-sidebar-5-5-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/domains/" title="Домены" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Домены</a>


    
        
        
        


<a href="../../sql-reference/data-types/domains/ipv4/" title="IPv4" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a>


    
        
        
        


<a href="../../sql-reference/data-types/domains/ipv6/" title="IPv6" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/data-types/aggregatefunction/" title="AggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction</a>


    
        
        
        


<a href="../../sql-reference/data-types/array/" title="Array(T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a>


    
        
        
        


<a href="../../sql-reference/data-types/date/" title="Date" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a>


    
        
        
        


<a href="../../sql-reference/data-types/datetime/" title="DateTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a>


    
        
        
        


<a href="../../sql-reference/data-types/datetime64/" title="DateTime64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a>


    
        
        
        


<a href="../../sql-reference/data-types/decimal/" title="Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)</a>


    
        
        
        


<a href="../../sql-reference/data-types/enum/" title="Enum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a>


    
        
        
        


<a href="../../sql-reference/data-types/fixedstring/" title="FixedString" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString</a>


    
        
        
        


<a href="../../sql-reference/data-types/float/" title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a>


    
        
        
        


<a href="../../sql-reference/data-types/nullable/" title="Nullable(TypeName)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable(TypeName)</a>


    
        
        
        


<a href="../../sql-reference/data-types/simpleaggregatefunction/" title="SimpleAggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a>


    
        
        
        


<a href="../../sql-reference/data-types/string/" title="String" class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a>


    
        
        
        


<a href="../../sql-reference/data-types/tuple/" title="Tuple(T1, T2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, …)</a>


    
        
        
        


<a href="../../sql-reference/data-types/int-uint/" title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a>


    
        
        
        


<a href="../../sql-reference/data-types/uuid/" title="UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a>


    
        
        
        


<a href="../../sql-reference/data-types/boolean/" title="Булевы значения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Булевы значения</a>


    
        
        
        


<a href="#sidebar-sidebar-5-5-19" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-19" title="Вложенные структуры данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Вложенные структуры данных</a>
<div id="sidebar-sidebar-5-5-19" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/nested-data-structures/nested/" title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a>


    
        
        
        


<a href="../../sql-reference/data-types/nested-data-structures/" title="Вложенные структуры данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Вложенные структуры данных</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-5-20" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-20" title="Служебные типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Служебные типы данных</a>
<div id="sidebar-sidebar-5-5-20" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/expression/" title="Expression" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/interval/" title="Interval" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/nothing/" title="Nothing" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/set/" title="Set" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a>


    
        
        
        


<a href="../../sql-reference/data-types/special-data-types/" title="Служебные типы данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Служебные типы данных</a>


    
    </nav>
</div>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/ansi/" title="ANSI Compatibility" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSI Compatibility</a>


    
        
        
        


<a href="../../sql-reference/syntax/" title="Синтаксис" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Синтаксис</a>


    
        
        
        


<a href="#sidebar-sidebar-5-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8" title="Операторы" class="nav-link text-light text-wrap dropdown-toggle px-0">Операторы</a>
<div id="sidebar-sidebar-5-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/operators/" title="Операторы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы</a>


    
        
        
        


<a href="../../sql-reference/operators/in/" title="Операторы IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы IN</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9" title="Словари" class="nav-link text-light text-wrap dropdown-toggle px-0">Словари</a>
<div id="sidebar-sidebar-5-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-5-9-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9-1" title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a>
<div id="sidebar-sidebar-5-9-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts/" title="Внешние словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние словари</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/" title="Иерархические словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Иерархические словари</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/" title="Источники внешних словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Источники внешних словарей</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/" title="Ключ и поля словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ключ и поля словаря</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/" title="Настройка внешнего словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройка внешнего словаря</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/" title="Обновление словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление словарей</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/" title="Хранение словарей в памяти" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Хранение словарей в памяти</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../sql-reference/dictionaries/internal-dicts/" title="Встроенные словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Встроенные словари</a>


    
        
        
        


<a href="../../sql-reference/dictionaries/" title="Словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Словари</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-10" title="Функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Функции</a>
<div id="sidebar-sidebar-5-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../sql-reference/functions/arithmetic-functions/" title="Арифметические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Арифметические функции</a>


    
        
        
        


<a href="../../sql-reference/functions/bit-functions/" title="Битовые функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Битовые функции</a>


    
        
        
        


<a href="../../sql-reference/functions/logical-functions/" title="Логические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Логические функции</a>


    
        
        
        


<a href="../../sql-reference/functions/math-functions/" title="Математические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Математические функции</a>


    
        
        
        


<a href="../../sql-reference/functions/other-functions/" title="Прочие функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие функции</a>


    
        
        
        


<a href="../../sql-reference/functions/conditional-functions/" title="Условные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Условные функции</a>


    
        
        
        


<a href="../../sql-reference/functions/" title="Функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции</a>


    
        
        
        


<a href="../../sql-reference/functions/higher-order-functions/" title="Функции высшего порядка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции высшего порядка</a>


    
        
        
        


<a href="../../sql-reference/functions/random-functions/" title="Функции генерации псевдослучайных чисел" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции генерации псевдослучайных чисел</a>


    
        
        
        


<a href="../../sql-reference/functions/bitmap-functions/" title="Функции для битмапов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для битмапов</a>


    
        
        
        


<a href="../../sql-reference/functions/ip-address-functions/" title="Функции для работы с IP-адресами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с IP-адресами</a>


    
        
        
        


<a href="../../sql-reference/functions/json-functions/" title="Функции для работы с JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с JSON</a>


    
        
        
        


<a href="../../sql-reference/functions/functions-for-nulls/" title="Функции для работы с Nullable-аргументами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с Nullable-аргументами</a>


    
        
        
        


<a href="../../sql-reference/functions/url-functions/" title="Функции для работы с URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с URL</a>


    
        
        
        


<a href="../../sql-reference/functions/uuid-functions/" title="Функции для работы с UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с UUID</a>


    
        
        
        


<a href="../../sql-reference/functions/ext-dict-functions/" title="Функции для работы с внешними словарями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с внешними словарями</a>


    
        
        
        


<a href="../../sql-reference/functions/geo/" title="Функции для работы с географическими координатами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с географическими координатами</a>


    
        
        
        


<a href="../../sql-reference/functions/date-time-functions/" title="Функции для работы с датами и временем" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с датами и временем</a>


    
        
        
        


<a href="../../sql-reference/functions/ym-dict-functions/" title="Функции для работы со словарями Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со словарями Яндекс.Метрики</a>


    
        
        
        


<a href="../../sql-reference/functions/string-functions/" title="Функции для работы со строками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со строками</a>


    
        
        
        


<a href="../../sql-reference/functions/in-functions/" title="Функции для реализации оператора IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для реализации оператора IN</a>


    
        
        
        


<a href="../../sql-reference/functions/introspection/" title="Функции интроспекции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции интроспекции</a>


    
        
        
        


<a href="../../sql-reference/functions/encoding-functions/" title="Функции кодирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции кодирования</a>


    
        
        
        


<a href="../../sql-reference/functions/machine-learning-functions/" title="Функции машинного обучения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции машинного обучения</a>


    
        
        
        


<a href="../../sql-reference/functions/rounding-functions/" title="Функции округления" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции округления</a>


    
        
        
        


<a href="../../sql-reference/functions/array-functions/" title="Функции по работе с массивами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции по работе с массивами</a>


    
        
        
        


<a href="../../sql-reference/functions/string-search-functions/" title="Функции поиска в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска в строках</a>


    
        
        
        


<a href="../../sql-reference/functions/string-replace-functions/" title="Функции поиска и замены в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска и замены в строках</a>


    
        
        
        


<a href="../../sql-reference/functions/type-conversion-functions/" title="Функции преобразования типов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции преобразования типов</a>


    
        
        
        


<a href="../../sql-reference/functions/splitting-merging-functions/" title="Функции разбиения и слияния строк и массивов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции разбиения и слияния строк и массивов</a>


    
        
        
        


<a href="../../sql-reference/functions/comparison-functions/" title="Функции сравнения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции сравнения</a>


    
        
        
        


<a href="../../sql-reference/functions/hash-functions/" title="Функции хэширования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции хэширования</a>


    
        
        
        


<a href="../../sql-reference/functions/array-join/" title="Функция ArrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функция ArrayJoin</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-6" title="Руководства" class="nav-link text-light text-wrap dropdown-toggle px-0">Руководства</a>
<div id="sidebar-sidebar-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../guides/" title="Обзор" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a>


    
        
        
        


<a href="../../guides/apply-catboost-model/" title="Применение модели CatBoost в ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Применение модели CatBoost в ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7" title="Эксплуатация" class="nav-link text-light text-wrap dropdown-toggle px-0">Эксплуатация</a>
<div id="sidebar-sidebar-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/" title="intro" class="nav-link text-light text-wrap d-inline-block w-100 px-0">intro</a>


    
        
        
        


<a href="#sidebar-sidebar-7-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-2" title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a>
<div id="sidebar-sidebar-7-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../operations/optimizing-performance/sampling-query-profiler/" title="Query Profiling" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Query Profiling</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../operations/performance-test/" title="Testing Hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing Hardware</a>


    
        
        
        


<a href="#sidebar-sidebar-7-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-4" title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap dropdown-toggle px-0">Конфигурационные параметры сервера</a>
<div id="sidebar-sidebar-7-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/server-configuration-parameters/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../operations/server-configuration-parameters/settings/" title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные параметры сервера</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-5" title="Введение" class="nav-link text-light text-wrap dropdown-toggle px-0">Введение</a>
<div id="sidebar-sidebar-7-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/settings/" title="Настройки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки</a>


    
        
        
        


<a href="../../operations/settings/settings/" title="Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings</a>


    
        
        
        


<a href="../../operations/settings/merge-tree-settings/" title="Настройки MergeTree таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки MergeTree таблиц</a>


    
        
        
        


<a href="../../operations/settings/settings-users/" title="Настройки пользователей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки пользователей</a>


    
        
        
        


<a href="../../operations/settings/constraints-on-settings/" title="Ограничения на изменение настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на изменение настроек</a>


    
        
        
        


<a href="../../operations/settings/query-complexity/" title="Ограничения на сложность запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на сложность запроса</a>


    
        
        
        


<a href="../../operations/settings/settings-profiles/" title="Профили настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профили настроек</a>


    
        
        
        


<a href="../../operations/settings/permissions-for-queries/" title="Разрешения для запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разрешения для запросов</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../operations/quotas/" title="Квоты" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квоты</a>


    
        
        
        


<a href="../../operations/configuration-files/" title="Конфигурационные файлы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные файлы</a>


    
        
        
        


<a href="../../operations/monitoring/" title="Мониторинг" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Мониторинг</a>


    
        
        
        


<a href="../../operations/update/" title="Обновление ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление ClickHouse</a>


    
        
        
        


<a href="../../operations/backup/" title="Резервное копирование данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Резервное копирование данных</a>


    
        
        
        


<a href="../../operations/system-tables/" title="Системные таблицы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Системные таблицы</a>


    
        
        
        


<a href="../../operations/tips/" title="Советы по эксплуатации" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Советы по эксплуатации</a>


    
        
        
        


<a href="../../operations/requirements/" title="Требования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Требования</a>


    
        
        
        


<a href="../../operations/access-rights/" title="Управление доступом" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Управление доступом</a>


    
        
        
        


<a href="../../operations/troubleshooting/" title="Устранение неисправностей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Устранение неисправностей</a>


    
        
        
        


<a href="#sidebar-sidebar-7-16" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-16" title="Утилиты ClickHouse" class="nav-link text-light text-wrap dropdown-toggle px-0">Утилиты ClickHouse</a>
<div id="sidebar-sidebar-7-16" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../operations/utilities/clickhouse-benchmark/" title="clickhouse-benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a>


    
        
        
        


<a href="../../operations/utilities/clickhouse-copier/" title="clickhouse-copier" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a>


    
        
        
        


<a href="../../operations/utilities/clickhouse-local/" title="clickhouse-local" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a>


    
        
        
        


<a href="../../operations/utilities/" title="Утилиты ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Утилиты ClickHouse</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-8" title="Development" class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a>
<div id="sidebar-sidebar-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../development/build/" title="How to Build ClickHouse on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux</a>


    
        
        
        


<a href="../../development/build-osx/" title="How to Build ClickHouse on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Mac OS X</a>


    
        
        
        


<a href="../../development/build-cross-osx/" title="How to Build ClickHouse on Linux for Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for Mac OS X</a>


    
        
        
        


<a href="../../development/build-cross-arm/" title="How to Build ClickHouse on Linux for AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for AARCH64 (ARM64)</a>


    
        
        
        


<a href="../../development/tests/" title="How to Run ClickHouse Tests" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">How to Run ClickHouse Tests</a>


    
        
        
        


<a href="../../development/developer-instruction/" title="Если вы используете Windows" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Если вы используете Windows</a>


    
        
        
        


<a href="../../development/contrib/" title="Используемые сторонние библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Используемые сторонние библиотеки</a>


    
        
        
        


<a href="../../development/style/" title="Как писать код на C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как писать код на C++</a>


    
        
        
        


<a href="../../development/browse-code/" title="Навигация по коду ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Навигация по коду ClickHouse</a>


    
        
        
        


<a href="../../development/architecture/" title="Обзор архитектуры ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор архитектуры ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-9" title="Коммерческие услуги" class="nav-link text-light text-wrap dropdown-toggle px-0">Коммерческие услуги</a>
<div id="sidebar-sidebar-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../commercial/support/" title="Support" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Support</a>


    
        
        
        

    
        
        
        


<a href="../../commercial/cloud/" title="Поставщики облачных услуг ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Поставщики облачных услуг ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10" title="Что нового?" class="nav-link text-light text-wrap dropdown-toggle px-0">Что нового?</a>
<div id="sidebar-sidebar-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-10-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10-2" title="Changelog" class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a>
<div id="sidebar-sidebar-10-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../whats-new/changelog/" title="2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a>


    
        
        
        


<a href="../../whats-new/changelog/2019/" title="2019" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a>


    
        
        
        


<a href="../../whats-new/changelog/2018/" title="2018" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a>


    
        
        
        


<a href="../../whats-new/changelog/2017/" title="2017" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../whats-new/roadmap/" title="Roadmap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a>


    
        
        
        


<a href="../../whats-new/security-changelog/" title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a>


    
        
        
        


<a href="../../whats-new/extended-roadmap/" title="Планы разработки ClickHouse 2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Планы разработки ClickHouse 2020</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-11" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-11" title="F.A.Q." class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a>
<div id="sidebar-sidebar-11" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../faq/general/" title="Общие вопросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общие вопросы</a>


    
    </nav>
</div>


            
            <a href="../../single/clickhouse_ru.pdf" class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light">
                <img src="/images/mkdocs/pdf.svg" alt="PDF-версия" title="PDF-версия" height="24" class="d-block mr-1 float-left" /><div>PDF-версия</div>
            </a>
        </nav>
        
    </div>
</div>
                <div id="content-wrapper" class="col-md-8 p-2 p-md-5">
    <div id="content" class="mt-md-n3">
        
            
            
            
                
                <nav class="text-muted" aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0">
                        
                        
                        
                        <li class="breadcrumb-item"><a href="../" class="text-reset">Development</a>
                            
                        </li>
                       
                    </ol>
                </nav>
            

            
            <h1 id="clickhouse-testing">ClickHouse Testing<a class="headerlink" href="#clickhouse-testing" title="Permanent link"> </a></h1>
<h2 id="functional-tests">Functional Tests<a class="headerlink" href="#functional-tests" title="Permanent link"> </a></h2>
<p>Functional tests are the most simple and convenient to use. Most of ClickHouse features can be tested with functional tests and they are mandatory to use for every change in ClickHouse code that can be tested that way.</p>
<p>Each functional test sends one or multiple queries to the running ClickHouse server and compares the result with reference.</p>
<p>Tests are located in <code class="syntax">queries</code> directory. There are two subdirectories: <code class="syntax">stateless</code> and <code class="syntax">stateful</code>. Stateless tests run queries without any preloaded test data - they often create small synthetic datasets on the fly, within the test itself. Stateful tests require preloaded test data from Yandex.Metrica and not available to general public. We tend to use only <code class="syntax">stateless</code> tests and avoid adding new <code class="syntax">stateful</code> tests.</p>
<p>Each test can be one of two types: <code class="syntax">.sql</code> and <code class="syntax">.sh</code>. <code class="syntax">.sql</code> test is the simple SQL script that is piped to <code class="syntax">clickhouse-client --multiquery --testmode</code>. <code class="syntax">.sh</code> test is a script that is run by itself.</p>
<p>To run all tests, use <code class="syntax">clickhouse-test</code> tool. Look <code class="syntax">--help</code> for the list of possible options. You can simply run all tests or run subset of tests filtered by substring in test name: <code class="syntax">./clickhouse-test substring</code>.</p>
<p>The most simple way to invoke functional tests is to copy <code class="syntax">clickhouse-client</code> to <code class="syntax">/usr/bin/</code>, run <code class="syntax">clickhouse-server</code> and then run <code class="syntax">./clickhouse-test</code> from its own directory.</p>
<p>To add new test, create a <code class="syntax">.sql</code> or <code class="syntax">.sh</code> file in <code class="syntax">queries/0_stateless</code> directory, check it manually and then generate <code class="syntax">.reference</code> file in the following way: <code class="syntax">clickhouse-client -n --testmode &lt; 00000_test.sql &gt; 00000_test.reference</code> or <code class="syntax">./00000_test.sh &gt; ./00000_test.reference</code>.</p>
<p>Tests should use (create, drop, etc) only tables in <code class="syntax">test</code> database that is assumed to be created beforehand; also tests can use temporary tables.</p>
<p>If you want to use distributed queries in functional tests, you can leverage <code class="syntax">remote</code> table function with <code class="syntax">127.0.0.{1..2}</code> addresses for the server to query itself; or you can use predefined test clusters in server configuration file like <code class="syntax">test_shard_localhost</code>.</p>
<p>Some tests are marked with <code class="syntax">zookeeper</code>, <code class="syntax">shard</code> or <code class="syntax">long</code> in their names.<br/>
<code class="syntax">zookeeper</code> is for tests that are using ZooKeeper. <code class="syntax">shard</code> is for tests that<br/>
requires server to listen <code class="syntax">127.0.0.*</code>; <code class="syntax">distributed</code> or <code class="syntax">global</code> have the same<br/>
meaning. <code class="syntax">long</code> is for tests that run slightly longer that one second. You can<br/>
disable these groups of tests using <code class="syntax">--no-zookeeper</code>, <code class="syntax">--no-shard</code> and<br/>
<code class="syntax">--no-long</code> options, respectively.</p>
<h2 id="known-bugs">Known Bugs<a class="headerlink" href="#known-bugs" title="Permanent link"> </a></h2>
<p>If we know some bugs that can be easily reproduced by functional tests, we place prepared functional tests in <code class="syntax">tests/queries/bugs</code> directory. These tests will be moved to <code class="syntax">tests/queries/0_stateless</code> when bugs are fixed.</p>
<h2 id="integration-tests">Integration Tests<a class="headerlink" href="#integration-tests" title="Permanent link"> </a></h2>
<p>Integration tests allow to test ClickHouse in clustered configuration and ClickHouse interaction with other servers like MySQL, Postgres, MongoDB. They are useful to emulate network splits, packet drops, etc. These tests are run under Docker and create multiple containers with various software.</p>
<p>See <code class="syntax">tests/integration/README.md</code> on how to run these tests.</p>
<p>Note that integration of ClickHouse with third-party drivers is not tested. Also we currently don’t have integration tests with our JDBC and ODBC drivers.</p>
<h2 id="unit-tests">Unit Tests<a class="headerlink" href="#unit-tests" title="Permanent link"> </a></h2>
<p>Unit tests are useful when you want to test not the ClickHouse as a whole, but a single isolated library or class. You can enable or disable build of tests with <code class="syntax">ENABLE_TESTS</code> CMake option. Unit tests (and other test programs) are located in <code class="syntax">tests</code> subdirectories across the code. To run unit tests, type <code class="syntax">ninja test</code>. Some tests use <code class="syntax">gtest</code>, but some are just programs that return non-zero exit code on test failure.</p>
<p>It’s not necessarily to have unit tests if the code is already covered by functional tests (and functional tests are usually much more simple to use).</p>
<h2 id="performance-tests">Performance Tests<a class="headerlink" href="#performance-tests" title="Permanent link"> </a></h2>
<p>Performance tests allow to measure and compare performance of some isolated part of ClickHouse on synthetic queries. Tests are located at <code class="syntax">tests/performance</code>. Each test is represented by <code class="syntax">.xml</code> file with description of test case. Tests are run with <code class="syntax">clickhouse performance-test</code> tool (that is embedded in <code class="syntax">clickhouse</code> binary). See <code class="syntax">--help</code> for invocation.</p>
<p>Each test run one or multiple queries (possibly with combinations of parameters) in a loop with some conditions for stop (like “maximum execution speed is not changing in three seconds”) and measure some metrics about query performance (like “maximum execution speed”). Some tests can contain preconditions on preloaded test dataset.</p>
<p>If you want to improve performance of ClickHouse in some scenario, and if improvements can be observed on simple queries, it is highly recommended to write a performance test. It always makes sense to use <code class="syntax">perf top</code> or other perf tools during your tests.</p>
<h2 id="test-tools-and-scripts">Test Tools and Scripts<a class="headerlink" href="#test-tools-and-scripts" title="Permanent link"> </a></h2>
<p>Some programs in <code class="syntax">tests</code> directory are not prepared tests, but are test tools. For example, for <code class="syntax">Lexer</code> there is a tool <code class="syntax">src/Parsers/tests/lexer</code> that just do tokenization of stdin and writes colorized result to stdout. You can use these kind of tools as a code examples and for exploration and manual testing.</p>
<p>You can also place pair of files <code class="syntax">.sh</code> and <code class="syntax">.reference</code> along with the tool to run it on some predefined input - then script result can be compared to <code class="syntax">.reference</code> file. These kind of tests are not automated.</p>
<h2 id="miscellaneous-tests">Miscellaneous Tests<a class="headerlink" href="#miscellaneous-tests" title="Permanent link"> </a></h2>
<p>There are tests for external dictionaries located at <code class="syntax">tests/external_dictionaries</code> and for machine learned models in <code class="syntax">tests/external_models</code>. These tests are not updated and must be transferred to integration tests.</p>
<p>There is separate test for quorum inserts. This test run ClickHouse cluster on separate servers and emulate various failure cases: network split, packet drop (between ClickHouse nodes, between ClickHouse and ZooKeeper, between ClickHouse server and client, etc.), <code class="syntax">kill -9</code>, <code class="syntax">kill -STOP</code> and <code class="syntax">kill -CONT</code> , like <a href="https://aphyr.com/tags/Jepsen" rel="external nofollow noreferrer" target="_blank">Jepsen</a>. Then the test checks that all acknowledged inserts was written and all rejected inserts was not.</p>
<p>Quorum test was written by separate team before ClickHouse was open-sourced. This team no longer work with ClickHouse. Test was accidentally written in Java. For these reasons, quorum test must be rewritten and moved to integration tests.</p>
<h2 id="manual-testing">Manual Testing<a class="headerlink" href="#manual-testing" title="Permanent link"> </a></h2>
<p>When you develop a new feature, it is reasonable to also test it manually. You can do it with the following steps:</p>
<p>Build ClickHouse. Run ClickHouse from the terminal: change directory to <code class="syntax">programs/clickhouse-server</code> and run it with <code class="syntax">./clickhouse-server</code>. It will use configuration (<code class="syntax">config.xml</code>, <code class="syntax">users.xml</code> and files within <code class="syntax">config.d</code> and <code class="syntax">users.d</code> directories) from the current directory by default. To connect to ClickHouse server, run <code class="syntax">programs/clickhouse-client/clickhouse-client</code>.</p>
<p>Note that all clickhouse tools (server, client, etc) are just symlinks to a single binary named <code class="syntax">clickhouse</code>. You can find this binary at <code class="syntax">programs/clickhouse</code>. All tools can also be invoked as <code class="syntax">clickhouse tool</code> instead of <code class="syntax">clickhouse-tool</code>.</p>
<p>Alternatively you can install ClickHouse package: either stable release from Yandex repository or you can build package for yourself with <code class="syntax">./release</code> in ClickHouse sources root. Then start the server with <code class="syntax">sudo service clickhouse-server start</code> (or stop to stop the server). Look for logs at <code class="syntax">/etc/clickhouse-server/clickhouse-server.log</code>.</p>
<p>When ClickHouse is already installed on your system, you can build a new <code class="syntax">clickhouse</code> binary and replace the existing binary:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ sudo service clickhouse-server stop
$ sudo cp ./clickhouse /usr/bin/
$ sudo service clickhouse-server start
</code></pre></div>
<p>Also you can stop system clickhouse-server and run your own with the same configuration but with logging to terminal:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ sudo service clickhouse-server stop
$ sudo -u clickhouse /usr/bin/clickhouse server --config-file /etc/clickhouse-server/config.xml
</code></pre></div>
<p>Example with gdb:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ sudo -u clickhouse gdb --args /usr/bin/clickhouse server --config-file /etc/clickhouse-server/config.xml
</code></pre></div>
<p>If the system clickhouse-server is already running and you don’t want to stop it, you can change port numbers in your <code class="syntax">config.xml</code> (or override them in a file in <code class="syntax">config.d</code> directory), provide appropriate data path, and run it.</p>
<p><code class="syntax">clickhouse</code> binary has almost no dependencies and works across wide range of Linux distributions. To quick and dirty test your changes on a server, you can simply <code class="syntax">scp</code> your fresh built <code class="syntax">clickhouse</code> binary to your server and then run it as in examples above.</p>
<h2 id="testing-environment">Testing Environment<a class="headerlink" href="#testing-environment" title="Permanent link"> </a></h2>
<p>Before publishing release as stable we deploy it on testing environment. Testing environment is a cluster that process 1/39 part of <a href="https://metrica.yandex.com/" rel="external nofollow noreferrer" target="_blank">Yandex.Metrica</a> data. We share our testing environment with Yandex.Metrica team. ClickHouse is upgraded without downtime on top of existing data. We look at first that data is processed successfully without lagging from realtime, the replication continue to work and there is no issues visible to Yandex.Metrica team. First check can be done in the following way:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">hostName</span><span class="p">()</span> <span class="k">AS</span> <span class="n">h</span><span class="p">,</span> <span class="k">any</span><span class="p">(</span><span class="k">version</span><span class="p">()),</span> <span class="k">any</span><span class="p">(</span><span class="n">uptime</span><span class="p">()),</span> <span class="k">max</span><span class="p">(</span><span class="n">UTCEventTime</span><span class="p">),</span> <span class="k">count</span><span class="p">()</span> <span class="k">FROM</span> <span class="n">remote</span><span class="p">(</span><span class="s1">'example01-01-{1..3}t'</span><span class="p">,</span> <span class="n">merge</span><span class="p">,</span> <span class="n">hits</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">EventDate</span> <span class="o">&gt;=</span> <span class="n">today</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">h</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">h</span><span class="p">;</span>
</code></pre></div>
<p>In some cases we also deploy to testing environment of our friend teams in Yandex: Market, Cloud, etc. Also we have some hardware servers that are used for development purposes.</p>
<h2 id="load-testing">Load Testing<a class="headerlink" href="#load-testing" title="Permanent link"> </a></h2>
<p>After deploying to testing environment we run load testing with queries from production cluster. This is done manually.</p>
<p>Make sure you have enabled <code class="syntax">query_log</code> on your production cluster.</p>
<p>Collect query log for a day or more:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ clickhouse-client --query<span class="o">=</span><span class="s2">"SELECT DISTINCT query FROM system.query_log WHERE event_date = today() AND query LIKE '%ym:%' AND query NOT LIKE '%system.query_log%' AND type = 2 AND is_initial_query"</span> &gt; queries.tsv
</code></pre></div>
<p>This is a way complicated example. <code class="syntax">type = 2</code> will filter queries that are executed successfully. <code class="syntax">query LIKE '%ym:%'</code> is to select relevant queries from Yandex.Metrica. <code class="syntax">is_initial_query</code> is to select only queries that are initiated by client, not by ClickHouse itself (as parts of distributed query processing).</p>
<p><code class="syntax">scp</code> this log to your testing cluster and run it as following:</p>
<div class="codehilite"><pre><span></span><code class="syntax">$ clickhouse benchmark --concurrency <span class="m">16</span> &lt; queries.tsv
</code></pre></div>
<p>(probably you also want to specify a <code class="syntax">--user</code>)</p>
<p>Then leave it for a night or weekend and go take a rest.</p>
<p>You should check that <code class="syntax">clickhouse-server</code> doesn’t crash, memory footprint is bounded and performance not degrading over time.</p>
<p>Precise query execution timings are not recorded and not compared due to high variability of queries and environment.</p>
<h2 id="build-tests">Build Tests<a class="headerlink" href="#build-tests" title="Permanent link"> </a></h2>
<p>Build tests allow to check that build is not broken on various alternative configurations and on some foreign systems. Tests are located at <code class="syntax">ci</code> directory. They run build from source inside Docker, Vagrant, and sometimes with <code class="syntax">qemu-user-static</code> inside Docker. These tests are under development and test runs are not automated.</p>
<p>Motivation:</p>
<p>Normally we release and run all tests on a single variant of ClickHouse build. But there are alternative build variants that are not thoroughly tested. Examples:</p>
<ul>
<li>build on FreeBSD;</li>
<li>build on Debian with libraries from system packages;</li>
<li>build with shared linking of libraries;</li>
<li>build on AArch64 platform;</li>
<li>build on PowerPc platform.</li>
</ul>
<p>For example, build with system packages is bad practice, because we cannot guarantee what exact version of packages a system will have. But this is really needed by Debian maintainers. For this reason we at least have to support this variant of build. Another example: shared linking is a common source of trouble, but it is needed for some enthusiasts.</p>
<p>Though we cannot run all tests on all variant of builds, we want to check at least that various build variants are not broken. For this purpose we use build tests.</p>
<h2 id="testing-for-protocol-compatibility">Testing for Protocol Compatibility<a class="headerlink" href="#testing-for-protocol-compatibility" title="Permanent link"> </a></h2>
<p>When we extend ClickHouse network protocol, we test manually that old clickhouse-client works with new clickhouse-server and new clickhouse-client works with old clickhouse-server (simply by running binaries from corresponding packages).</p>
<h2 id="help-from-the-compiler">Help from the Compiler<a class="headerlink" href="#help-from-the-compiler" title="Permanent link"> </a></h2>
<p>Main ClickHouse code (that is located in <code class="syntax">dbms</code> directory) is built with <code class="syntax">-Wall -Wextra -Werror</code> and with some additional enabled warnings. Although these options are not enabled for third-party libraries.</p>
<p>Clang has even more useful warnings - you can look for them with <code class="syntax">-Weverything</code> and pick something to default build.</p>
<p>For production builds, gcc is used (it still generates slightly more efficient code than clang). For development, clang is usually more convenient to use. You can build on your own machine with debug mode (to save battery of your laptop), but please note that compiler is able to generate more warnings with <code class="syntax">-O3</code> due to better control flow and inter-procedure analysis. When building with clang, <code class="syntax">libc++</code> is used instead of <code class="syntax">libstdc++</code> and when building with debug mode, debug version of <code class="syntax">libc++</code> is used that allows to catch more errors at runtime.</p>
<h2 id="sanitizers">Sanitizers<a class="headerlink" href="#sanitizers" title="Permanent link"> </a></h2>
<p><strong>Address sanitizer</strong>.<br/>
We run functional and integration tests under ASan on per-commit basis.</p>
<p><strong>Valgrind (Memcheck)</strong>.<br/>
We run functional tests under Valgrind overnight. It takes multiple hours. Currently there is one known false positive in <code class="syntax">re2</code> library, see <a href="https://research.swtch.com/sparse" rel="external nofollow noreferrer" target="_blank">this article</a>.</p>
<p><strong>Undefined behaviour sanitizer.</strong><br/>
We run functional and integration tests under ASan on per-commit basis.</p>
<p><strong>Thread sanitizer</strong>.<br/>
We run functional tests under TSan on per-commit basis. We still don’t run integration tests under TSan on per-commit basis.</p>
<p><strong>Memory sanitizer</strong>.<br/>
Currently we still don’t use MSan.</p>
<p><strong>Debug allocator.</strong><br/>
Debug version of <code class="syntax">jemalloc</code> is used for debug build.</p>
<h2 id="fuzzing">Fuzzing<a class="headerlink" href="#fuzzing" title="Permanent link"> </a></h2>
<p>ClickHouse fuzzing is implemented both using <a href="https://llvm.org/docs/LibFuzzer.html" rel="external nofollow noreferrer" target="_blank">libFuzzer</a> and random SQL queries.<br/>
All the fuzz testing should be performed with sanitizers (Address and Undefined).</p>
<p>LibFuzzer is used for isolated fuzz testing of library code. Fuzzers are implemented as part of test code and have “_fuzzer” name postfixes.<br/>
Fuzzer example can be found at <code class="syntax">src/Parsers/tests/lexer_fuzzer.cpp</code>. LibFuzzer-specific configs, dictionaries and corpus are stored at <code class="syntax">tests/fuzz</code>.<br/>
We encourage you to write fuzz tests for every functionality that handles user input.</p>
<p>Fuzzers are not built by default. To build fuzzers both <code class="syntax">-DENABLE_FUZZING=1</code> and <code class="syntax">-DENABLE_TESTS=1</code> options should be set.<br/>
We recommend to disable Jemalloc while building fuzzers. Configuration used to integrate ClickHouse fuzzing to<br/>
Google OSS-Fuzz can be found at <code class="syntax">docker/fuzz</code>.</p>
<p>We also use simple fuzz test to generate random SQL queries and to check that the server doesn’t die executing them.<br/>
You can find it in <code class="syntax">00746_sql_fuzzy.pl</code>. This test should be run continuously (overnight and longer).</p>
<h2 id="security-audit">Security Audit<a class="headerlink" href="#security-audit" title="Permanent link"> </a></h2>
<p>People from Yandex Security Team do some basic overview of ClickHouse capabilities from the security standpoint.</p>
<h2 id="static-analyzers">Static Analyzers<a class="headerlink" href="#static-analyzers" title="Permanent link"> </a></h2>
<p>We run <code class="syntax">PVS-Studio</code> on per-commit basis. We have evaluated <code class="syntax">clang-tidy</code>, <code class="syntax">Coverity</code>, <code class="syntax">cppcheck</code>, <code class="syntax">PVS-Studio</code>, <code class="syntax">tscancode</code>. You will find instructions for usage in <code class="syntax">tests/instructions/</code> directory. Also you can read <a href="https://habr.com/company/yandex/blog/342018/" rel="external nofollow noreferrer" target="_blank">the article in russian</a>.</p>
<p>If you use <code class="syntax">CLion</code> as an IDE, you can leverage some <code class="syntax">clang-tidy</code> checks out of the box.</p>
<h2 id="hardening">Hardening<a class="headerlink" href="#hardening" title="Permanent link"> </a></h2>
<p><code class="syntax">FORTIFY_SOURCE</code> is used by default. It is almost useless, but still makes sense in rare cases and we don’t disable it.</p>
<h2 id="code-style">Code Style<a class="headerlink" href="#code-style" title="Permanent link"> </a></h2>
<p>Code style rules are described <a href="https://clickhouse.tech/docs/en/development/style/" target="_blank">here</a>.</p>
<p>To check for some common style violations, you can use <code class="syntax">utils/check-style</code> script.</p>
<p>To force proper style of your code, you can use <code class="syntax">clang-format</code>. File <code class="syntax">.clang-format</code> is located at the sources root. It mostly corresponding with our actual code style. But it’s not recommended to apply <code class="syntax">clang-format</code> to existing files because it makes formatting worse. You can use <code class="syntax">clang-format-diff</code> tool that you can find in clang source repository.</p>
<p>Alternatively you can try <code class="syntax">uncrustify</code> tool to reformat your code. Configuration is in <code class="syntax">uncrustify.cfg</code> in the sources root. It is less tested than <code class="syntax">clang-format</code>.</p>
<p><code class="syntax">CLion</code> has its own code formatter that has to be tuned for our code style.</p>
<h2 id="metrica-b2b-tests">Metrica B2B Tests<a class="headerlink" href="#metrica-b2b-tests" title="Permanent link"> </a></h2>
<p>Each ClickHouse release is tested with Yandex Metrica and AppMetrica engines. Testing and stable versions of ClickHouse are deployed on VMs and run with a small copy of Metrica engine that is processing fixed sample of input data. Then results of two instances of Metrica engine are compared together.</p>
<p>These tests are automated by separate team. Due to high number of moving parts, tests are fail most of the time by completely unrelated reasons, that are very difficult to figure out. Most likely these tests have negative value for us. Nevertheless these tests was proved to be useful in about one or two times out of hundreds.</p>
<h2 id="test-coverage">Test Coverage<a class="headerlink" href="#test-coverage" title="Permanent link"> </a></h2>
<p>As of July 2018 we don’t track test coverage.</p>
<h2 id="test-automation">Test Automation<a class="headerlink" href="#test-automation" title="Permanent link"> </a></h2>
<p>We run tests with Yandex internal CI and job automation system named “Sandbox”.</p>
<p>Build jobs and tests are run in Sandbox on per commit basis. Resulting packages and test results are published in GitHub and can be downloaded by direct links. Artifacts are stored eternally. When you send a pull request on GitHub, we tag it as “can be tested” and our CI system will build ClickHouse packages (release, debug, with address sanitizer, etc) for you.</p>
<p>We don’t use Travis CI due to the limit on time and computational power.<br/>
We don’t use Jenkins. It was used before and now we are happy we are not using Jenkins.</p>
<p><a href="https://clickhouse.tech/docs/en/development/tests/" target="_blank">Original article</a> <!--hide--></p>
        

        
    </div>

    
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Рейтинг: RATING_VALUE - RATING_COUNT голосов</p>
  <span class="alert-heading display-6">Был ли этот контент полезным?</span>
  <div id="rating-stars" class="display-6 mb-0"
     
     data-titles="['Непригодная', 'Плохая', 'OK', 'Хорошая', 'Отличная']"
     data-documentation="документация"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>Собрано из <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, опубликовано <span title="2017-10-25T08:27:09+03:00">2017-10-25</span>, изменено <span title="2020-04-11T18:03:35+03:00">2020-04-11</span>
    
    </div>
</div>

</div>

                
                    <div id="toc" class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5">
    
    
        
    
    <nav class="nav flex-column text-wrap">
    
        <label for="toc">Cодержание</label>
    
    
        
        
        <a href="#functional-tests" title="Functional Tests" class="nav-link text-wrap d-inline-block w-100">
    Functional Tests
</a>

    
        
        
        <a href="#known-bugs" title="Known Bugs" class="nav-link text-wrap d-inline-block w-100">
    Known Bugs
</a>

    
        
        
        <a href="#integration-tests" title="Integration Tests" class="nav-link text-wrap d-inline-block w-100">
    Integration Tests
</a>

    
        
        
        <a href="#unit-tests" title="Unit Tests" class="nav-link text-wrap d-inline-block w-100">
    Unit Tests
</a>

    
        
        
        <a href="#performance-tests" title="Performance Tests" class="nav-link text-wrap d-inline-block w-100">
    Performance Tests
</a>

    
        
        
        <a href="#test-tools-and-scripts" title="Test Tools and Scripts" class="nav-link text-wrap d-inline-block w-100">
    Test Tools and Scripts
</a>

    
        
        
        <a href="#miscellaneous-tests" title="Miscellaneous Tests" class="nav-link text-wrap d-inline-block w-100">
    Miscellaneous Tests
</a>

    
        
        
        <a href="#manual-testing" title="Manual Testing" class="nav-link text-wrap d-inline-block w-100">
    Manual Testing
</a>

    
        
        
        <a href="#testing-environment" title="Testing Environment" class="nav-link text-wrap d-inline-block w-100">
    Testing Environment
</a>

    
        
        
        <a href="#load-testing" title="Load Testing" class="nav-link text-wrap d-inline-block w-100">
    Load Testing
</a>

    
        
        
        <a href="#build-tests" title="Build Tests" class="nav-link text-wrap d-inline-block w-100">
    Build Tests
</a>

    
        
        
        <a href="#testing-for-protocol-compatibility" title="Testing for Protocol Compatibility" class="nav-link text-wrap d-inline-block w-100">
    Testing for Protocol Compatibility
</a>

    
        
        
        <a href="#help-from-the-compiler" title="Help from the Compiler" class="nav-link text-wrap d-inline-block w-100">
    Help from the Compiler
</a>

    
        
        
        <a href="#sanitizers" title="Sanitizers" class="nav-link text-wrap d-inline-block w-100">
    Sanitizers
</a>

    
        
        
        <a href="#fuzzing" title="Fuzzing" class="nav-link text-wrap d-inline-block w-100">
    Fuzzing
</a>

    
        
        
        <a href="#security-audit" title="Security Audit" class="nav-link text-wrap d-inline-block w-100">
    Security Audit
</a>

    
        
        
        <a href="#static-analyzers" title="Static Analyzers" class="nav-link text-wrap d-inline-block w-100">
    Static Analyzers
</a>

    
        
        
        <a href="#hardening" title="Hardening" class="nav-link text-wrap d-inline-block w-100">
    Hardening
</a>

    
        
        
        <a href="#code-style" title="Code Style" class="nav-link text-wrap d-inline-block w-100">
    Code Style
</a>

    
        
        
        <a href="#metrica-b2b-tests" title="Metrica B2B Tests" class="nav-link text-wrap d-inline-block w-100">
    Metrica B2B Tests
</a>

    
        
        
        <a href="#test-coverage" title="Test Coverage" class="nav-link text-wrap d-inline-block w-100">
    Test Coverage
</a>

    
        
        
        <a href="#test-automation" title="Test Automation" class="nav-link text-wrap d-inline-block w-100">
    Test Automation
</a>

    
    </nav>
</div>
                
            </div>
        </div>
    

    

<script async type="text/javascript" src="/js/base.js?js_digest"></script>



<noscript>
    <div><img src="https://mc.yandex.ru/watch/18343495" alt="Yandex"/></div>
</noscript>
</body>
</html>