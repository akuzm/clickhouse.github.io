










    



    



    



    
    






    <!doctype html>
<html ⚡ lang="fr">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>2018 | Documentation ClickHouse</title>
    <link rel="canonical" href="https://clickhouse.tech/docs/fr/whats-new/changelog/2018/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "2018 | Documentation ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fr/whats-new/changelog/2018/",

"datePublished": "2020-04-30T21:19:18+03:00",
"dateModified": "2020-05-15T07:34:54+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "2018 | Documentation ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>

    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}dl,ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}dd{margin-bottom:.5rem;margin-left:0}b{font-weight:bolder}sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}input,select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}input{overflow:visible}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.list-inline{padding-left:0;list-style:none}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-primary{background-color:#b8daff}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-dark{color:#fff;background-color:#343a40}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.is-invalid~.invalid-feedback{display:block}.custom-select.is-invalid{border-color:#dc3545;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.invalid-feedback{display:block}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media(min-width:576px){.form-inline .form-group{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;-ms-flex-negative:0;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select{position:relative;-ms-flex:1 1 0;flex:1 1 0;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select{margin-left:-1px}.input-group>.custom-select:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select{height:calc(1.5em+1rem+2px)}.input-group-lg>.custom-select{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-lg>.custom-select{padding-right:1.75rem}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em+.75rem+2px);margin:0;opacity:0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-left{float:left}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-left{float:left}.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-left{float:left}.float-lg-right{float:right}.float-lg-none{float:none}}.overflow-hidden{overflow:hidden}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.m-1{margin:.25rem}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.m-2{margin:.5rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.m-3{margin:1rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.m-4{margin:1.5rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.m-5{margin:3rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pr-0{padding-right:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pr-1{padding-right:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pr-2{padding-right:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pr-3{padding-right:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pr-4{padding-right:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pr-5{padding-right:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.m-n2{margin:-.5rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.m-n3{margin:-1rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.m-n4{margin:-1.5rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.m-n5{margin:-3rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.m-md-0{margin:0}.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.m-md-1{margin:.25rem}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.m-md-2{margin:.5rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.m-md-3{margin:1rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.m-md-4{margin:1.5rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.m-md-5{margin:3rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pr-md-0{padding-right:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pr-md-1{padding-right:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pr-md-2{padding-right:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pr-md-3{padding-right:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pr-md-4{padding-right:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pr-md-5{padding-right:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.m-md-n2{margin:-.5rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.m-md-n3{margin:-1rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.m-md-n4{margin:-1.5rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.m-md-n5{margin:-3rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.m-lg-1{margin:.25rem}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.m-lg-2{margin:.5rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.m-lg-3{margin:1rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.m-lg-4{margin:1.5rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.m-lg-5{margin:3rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pr-lg-0{padding-right:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pr-lg-1{padding-right:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pr-lg-2{padding-right:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pr-lg-3{padding-right:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pr-lg-4{padding-right:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pr-lg-5{padding-right:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.m-lg-n2{margin:-.5rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.m-lg-n3{margin:-1rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.m-lg-n4{margin:-1.5rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.m-lg-n5{margin:-3rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-left{text-align:left}.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-left{text-align:left}.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-red{color:#ff3939}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.headerlink{text-decoration:none;margin-left:.5rem}body[data-spy] #content{overflow-x:scroll}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#111;background:#eee}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,tr{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .l{color:#f99b15}.syntax .n{color:#2f1e2e}.syntax .o{color:#5bc4bf}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#f99b15}.syntax .s{color:#48b685}.syntax .ne{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .sc{color:#2f1e2e}.syntax .s2{color:#48b685}.syntax .se{color:#f99b15}.syntax .si{color:#f99b15}.syntax .s1{color:#48b685}.syntax .il{color:#f99b15}@media(prefers-color-scheme:dark){.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .py{color:#f8f9fa}.syntax .sc{color:#f8f9fa}}</style>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body class="amp" dir="ltr">
    <div class="container-fluid container-lg pb-5">
      <div class="row pt-3 mb-3">
        <div class="col">
          <a href="/" class="text-decoration-none">
            <amp-img class="d-inline-block mr-3" layout="fixed" width="40" height="36" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout="fixed" width="238" height="36" src="/images/clickhouse-black.svg" alt="ClickHouse" title="ClickHouse"></amp-img>
          </a>
        </div>
      </div>
      <div class="row">
        <div id="content" class="col">
          
    <div class="alert alert-primary" role="alert">
      <p class="display-5 mb-2">Demander de l'aide!</p>
      <p class="lead">Le contenu suivant de cette page de documentation a été traduit à la machine. Mais contrairement à d'autres sites web, il ne se fait pas à la volée. Ce texte traduit vit sur le dépôt GitHub aux côtés de la base de code ClickHouse principale et attend que d'autres locuteurs natifs le rendent plus lisible par l'homme. <a href="/docs/en/whats-new/changelog/2018/" class="alert-link">Vous pouvez également utiliser la version originale anglaise comme référence.</a></p>
      <p class="lead">
          <a class="btn btn-lg btn-primary text-white" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/whats-new/changelog/2018.md" target="_blank" rel="external nofollow noreferrer">
              Aide clickhouse documentation en éditant cette page
          </a>
      </p>
    </div>

          <h2 id=clickhouse-release-18-16>Clickhouse Version 18.16<a class=headerlink href=../amp/#clickhouse-release-18-16 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-16-1-2018-12-21>Clickhouse Version 18.16.1, 2018-12-21<a class=headerlink href=../amp/#clickhouse-release-18-16-1-2018-12-21 title="Permanent link"> </a></h3><h4 id=bug-fixes>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes title="Permanent link"> </a></h4><ul><li>Correction d'une erreur qui a conduit à des problèmes avec la mise à jour des dictionnaires avec la source ODBC. <a href=https://github.com/ClickHouse/ClickHouse/issues/3825 rel="external nofollow noreferrer" target=_blank>#3825</a>, <a href=https://github.com/ClickHouse/ClickHouse/issues/3829 rel="external nofollow noreferrer" target=_blank>#3829</a></li><li>La compilation JIT des fonctions d'agrégat fonctionne maintenant avec des colonnes LowCardinality. <a href=https://github.com/ClickHouse/ClickHouse/issues/3838 rel="external nofollow noreferrer" target=_blank>#3838</a></li></ul><h4 id=improvements>Amélioration:<a class=headerlink href=../amp/#improvements title="Permanent link"> </a></h4><ul><li>Ajouté le <code class=syntax>low_cardinality_allow_in_native_format</code> paramètre enabled (activé, option par défaut). Lorsqu'elles sont désactivées, les colonnes LowCardinality seront converties en colonnes ordinaires pour les requêtes SELECT et les colonnes ordinaires seront attendues pour les requêtes INSERT. <a href=https://github.com/ClickHouse/ClickHouse/pull/3879 rel="external nofollow noreferrer" target=_blank>#3879</a></li></ul><h4 id=build-improvements>Construire Des Améliorations:<a class=headerlink href=../amp/#build-improvements title="Permanent link"> </a></h4><ul><li>Corrections pour les builds sur macOS et ARM.</li></ul><h3 id=clickhouse-release-18-16-0-2018-12-14>Clickhouse Version 18.16.0, 2018-12-14<a class=headerlink href=../amp/#clickhouse-release-18-16-0-2018-12-14 title="Permanent link"> </a></h3><h4 id=new-features>Nouveauté:<a class=headerlink href=../amp/#new-features title="Permanent link"> </a></h4><ul><li><code class=syntax>DEFAULT</code> les expressions sont évaluées pour les champs manquants lors du chargement de données dans des formats d'entrée semi-structurés (<code class=syntax>JSONEachRow</code>, <code class=syntax>TSKV</code>). La fonction est activée avec le <code class=syntax>insert_sample_with_metadata</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/3555 rel="external nofollow noreferrer" target=_blank>#3555</a></li><li>Le <code class=syntax>ALTER TABLE</code> la requête a maintenant la <code class=syntax>MODIFY ORDER BY</code> action pour changer la clé de tri lors de l'ajout ou de la suppression d'une colonne de table. Ceci est utile pour les tables dans la <code class=syntax>MergeTree</code> famille qui effectuent des tâches supplémentaires lors de la fusion en fonction de cette clé de tri, telles que <code class=syntax>SummingMergeTree</code>, <code class=syntax>AggregatingMergeTree</code> et ainsi de suite. <a href=https://github.com/ClickHouse/ClickHouse/pull/3581 rel="external nofollow noreferrer" target=_blank>#3581</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3755 rel="external nofollow noreferrer" target=_blank>#3755</a></li><li>Pour les tableaux dans le <code class=syntax>MergeTree</code> famille, maintenant vous pouvez spécifier une clé de tri différente (<code class=syntax>ORDER BY</code>) et de l'indice de (<code class=syntax>PRIMARY KEY</code>). La clé de tri peut être plus longue que l'index. <a href=https://github.com/ClickHouse/ClickHouse/pull/3581 rel="external nofollow noreferrer" target=_blank>#3581</a></li><li>Ajouté le <code class=syntax>hdfs</code> fonction de table et le <code class=syntax>HDFS</code> moteur de table pour l'importation et l'exportation de données vers HDFS. <a href=https://github.com/ClickHouse/ClickHouse/pull/3617 rel="external nofollow noreferrer" target=_blank>chenxing-xc</a></li><li>Ajout de fonctions pour travailler avec base64: <code class=syntax>base64Encode</code>, <code class=syntax>base64Decode</code>, <code class=syntax>tryBase64Decode</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3350 rel="external nofollow noreferrer" target=_blank>Alexander Krasheninnikov</a></li><li>Vous pouvez maintenant utiliser un paramètre pour configurer la précision du <code class=syntax>uniqCombined</code> fonction d'agrégation (sélectionnez le nombre de cellules HyperLogLog). <a href=https://github.com/ClickHouse/ClickHouse/pull/3406 rel="external nofollow noreferrer" target=_blank>#3406</a></li><li>Ajouté le <code class=syntax>system.contributors</code> table qui contient les noms de tous ceux qui ont fait des commits dans ClickHouse. <a href=https://github.com/ClickHouse/ClickHouse/pull/3452 rel="external nofollow noreferrer" target=_blank>#3452</a></li><li>Ajout de la possibilité d'omettre la partition de l' <code class=syntax>ALTER TABLE ... FREEZE</code> requête en vue de sauvegarder toutes les partitions à la fois. <a href=https://github.com/ClickHouse/ClickHouse/pull/3514 rel="external nofollow noreferrer" target=_blank>#3514</a></li><li>Ajouter <code class=syntax>dictGet</code> et <code class=syntax>dictGetOrDefault</code> fonctions qui ne nécessitent pas de spécifier le type de valeur de retour. Le type est déterminé automatiquement à partir de la description du dictionnaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/3564 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Vous pouvez maintenant spécifier des commentaires pour une colonne dans la description de la table et la modifier en utilisant <code class=syntax>ALTER</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3377 rel="external nofollow noreferrer" target=_blank>#3377</a></li><li>La lecture est prise en charge pour <code class=syntax>Join</code> tapez des tables avec des touches simples. <a href=https://github.com/ClickHouse/ClickHouse/pull/3728 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Vous pouvez maintenant spécifier les options <code class=syntax>join_use_nulls</code>, <code class=syntax>max_rows_in_join</code>, <code class=syntax>max_bytes_in_join</code>, et <code class=syntax>join_overflow_mode</code> lors de la création d'un <code class=syntax>Join</code> type de table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3728 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Ajouté le <code class=syntax>joinGet</code> fonction qui permet d'utiliser un <code class=syntax>Join</code> tapez table comme un dictionnaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/3728 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Ajouté le <code class=syntax>partition_key</code>, <code class=syntax>sorting_key</code>, <code class=syntax>primary_key</code>, et <code class=syntax>sampling_key</code> les colonnes de la <code class=syntax>system.tables</code> table afin de fournir des informations sur les clés de table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3609 rel="external nofollow noreferrer" target=_blank>#3609</a></li><li>Ajouté le <code class=syntax>is_in_partition_key</code>, <code class=syntax>is_in_sorting_key</code>, <code class=syntax>is_in_primary_key</code>, et <code class=syntax>is_in_sampling_key</code> les colonnes de la <code class=syntax>system.columns</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3609 rel="external nofollow noreferrer" target=_blank>#3609</a></li><li>Ajouté le <code class=syntax>min_time</code> et <code class=syntax>max_time</code> les colonnes de la <code class=syntax>system.parts</code> table. Ces colonnes sont remplies lorsque la clé de partitionnement est une expression composée de <code class=syntax>DateTime</code> colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/3800 rel="external nofollow noreferrer" target=_blank>Emmanuel Donin de Rosière</a></li></ul><h4 id=bug-fixes-1>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-1 title="Permanent link"> </a></h4><ul><li>Corrections et améliorations des performances pour <code class=syntax>LowCardinality</code> type de données. <code class=syntax>GROUP BY</code> utiliser <code class=syntax>LowCardinality(Nullable(...))</code>. Obtenir les valeurs de <code class=syntax>extremes</code>. Traitement des fonctions d'ordre Élevé. <code class=syntax>LEFT ARRAY JOIN</code>. Distribué <code class=syntax>GROUP BY</code>. Fonctions qui renvoient <code class=syntax>Array</code>. L'exécution de <code class=syntax>ORDER BY</code>. Écrit à <code class=syntax>Distributed</code> tableaux (nicelulu). Rétrocompatibilité pour <code class=syntax>INSERT</code> requêtes provenant d'anciens clients qui implémentent <code class=syntax>Native</code> protocole. Soutien pour <code class=syntax>LowCardinality</code> pour <code class=syntax>JOIN</code>. Amélioration des performances lorsque vous travaillez dans un flux unique. <a href=https://github.com/ClickHouse/ClickHouse/pull/3823 rel="external nofollow noreferrer" target=_blank>#3823</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3803 rel="external nofollow noreferrer" target=_blank>#3803</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3799 rel="external nofollow noreferrer" target=_blank>#3799</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3769 rel="external nofollow noreferrer" target=_blank>#3769</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3744 rel="external nofollow noreferrer" target=_blank>#3744</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3681 rel="external nofollow noreferrer" target=_blank>#3681</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3651 rel="external nofollow noreferrer" target=_blank>#3651</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3649 rel="external nofollow noreferrer" target=_blank>#3649</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3641 rel="external nofollow noreferrer" target=_blank>#3641</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3632 rel="external nofollow noreferrer" target=_blank>#3632</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3568 rel="external nofollow noreferrer" target=_blank>#3568</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3523 rel="external nofollow noreferrer" target=_blank>#3523</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3518 rel="external nofollow noreferrer" target=_blank>#3518</a></li><li>Correction de la façon dont le <code class=syntax>select_sequential_consistency</code> l'option fonctionne. Auparavant, lorsque ce paramètre était activé, un résultat incomplet était parfois renvoyé après avoir commencé à écrire sur une nouvelle partition. <a href=https://github.com/ClickHouse/ClickHouse/pull/2863 rel="external nofollow noreferrer" target=_blank>#2863</a></li><li>Les bases de données sont correctement spécifiées lors de L'exécution de DDL <code class=syntax>ON CLUSTER</code> les requêtes et <code class=syntax>ALTER UPDATE/DELETE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3772 rel="external nofollow noreferrer" target=_blank>#3772</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3460 rel="external nofollow noreferrer" target=_blank>#3460</a></li><li>Les bases de données sont correctement spécifiées pour les sous-requêtes à l'intérieur d'une vue. <a href=https://github.com/ClickHouse/ClickHouse/pull/3521 rel="external nofollow noreferrer" target=_blank>#3521</a></li><li>Correction d'un bug dans <code class=syntax>PREWHERE</code> avec <code class=syntax>FINAL</code> pour <code class=syntax>VersionedCollapsingMergeTree</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/7167bfd7b365538f7a91c4307ad77e552ab4e8c1 rel="external nofollow noreferrer" target=_blank>7167bfd7</a></li><li>Maintenant, vous pouvez utiliser <code class=syntax>KILL QUERY</code> pour annuler les requêtes qui n'ont pas encore démarré car elles attendent que la table soit verrouillée. <a href=https://github.com/ClickHouse/ClickHouse/pull/3517 rel="external nofollow noreferrer" target=_blank>#3517</a></li><li>Correction des calculs de date et d'heure si les horloges ont été déplacées à minuit (cela se produit en Iran, et est arrivé à Moscou de 1981 à 1983). Auparavant, cela a conduit à la réinitialisation de l'heure un jour plus tôt que nécessaire, et a également provoqué un formatage incorrect de la date et de l'heure au format texte. <a href=https://github.com/ClickHouse/ClickHouse/pull/3819 rel="external nofollow noreferrer" target=_blank>#3819</a></li><li>Correction de bugs dans certains cas, de <code class=syntax>VIEW</code> et les sous-requêtes qui omettent la base de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/3521 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction d'une condition de course lors de la lecture simultanée d'un <code class=syntax>MATERIALIZED VIEW</code> et la suppression d'un <code class=syntax>MATERIALIZED VIEW</code> en raison de ne pas verrouiller l'interne <code class=syntax>MATERIALIZED VIEW</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3404 rel="external nofollow noreferrer" target=_blank>#3404</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3694 rel="external nofollow noreferrer" target=_blank>#3694</a></li><li>Correction de l'erreur <code class=syntax>Lock handler cannot be nullptr.</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3689 rel="external nofollow noreferrer" target=_blank>#3689</a></li><li>Correction du traitement des requêtes lorsque le <code class=syntax>compile_expressions</code> option est activée (elle est activée par défaut). Expressions constantes non déterministes comme le <code class=syntax>now</code> fonction ne sont plus déplié. <a href=https://github.com/ClickHouse/ClickHouse/pull/3457 rel="external nofollow noreferrer" target=_blank>#3457</a></li><li>Correction d'un plantage lors de la spécification d'un argument d'échelle non constant dans <code class=syntax>toDecimal32/64/128</code> fonction.</li><li>Correction d'une erreur lors de l'insertion d'un tableau avec <code class=syntax>NULL</code> éléments dans le <code class=syntax>Values</code> formater dans une colonne de type <code class=syntax>Array</code> sans <code class=syntax>Nullable</code> (si <code class=syntax>input_format_values_interpret_expressions</code> = 1). <a href=https://github.com/ClickHouse/ClickHouse/pull/3487 rel="external nofollow noreferrer" target=_blank>#3487</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3503 rel="external nofollow noreferrer" target=_blank>#3503</a></li><li>Fixe continue de journalisation des erreurs dans <code class=syntax>DDLWorker</code> si la Gardienne n'est pas disponible. <a href=https://github.com/ClickHouse/ClickHouse/commit/8f50c620334988b28018213ec0092fe6423847e2 rel="external nofollow noreferrer" target=_blank>8f50c620</a></li><li>Correction du type de retour pour <code class=syntax>quantile*</code> les fonctions de <code class=syntax>Date</code> et <code class=syntax>DateTime</code> les types d'arguments. <a href=https://github.com/ClickHouse/ClickHouse/pull/3580 rel="external nofollow noreferrer" target=_blank>#3580</a></li><li>Correction de l' <code class=syntax>WITH</code> clause si elle spécifie un alias simple sans expressions. <a href=https://github.com/ClickHouse/ClickHouse/pull/3570 rel="external nofollow noreferrer" target=_blank>#3570</a></li><li>Correction du traitement des requêtes avec des sous-requêtes nommées et des noms de colonnes qualifiés lorsque <code class=syntax>enable_optimize_predicate_expression</code> est activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/3588 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction de l'erreur <code class=syntax>Attempt to attach to nullptr thread group</code> lorsque vous travaillez avec des vues matérialisées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3623 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a></li><li>Correction d'un plantage lors du passage de certains arguments incorrects <code class=syntax>arrayReverse</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871 rel="external nofollow noreferrer" target=_blank>73e3a7b6</a></li><li>Correction du débordement de tampon dans le <code class=syntax>extractURLParameter</code> fonction. Amélioration de la performance. Ajout d'un traitement correct des chaînes contenant zéro octet. <a href=https://github.com/ClickHouse/ClickHouse/commit/141e9799e49201d84ea8e951d1bed4fb6d3dacb5 rel="external nofollow noreferrer" target=_blank>141e9799</a></li><li>Dépassement de tampon fixe dans le <code class=syntax>lowerUTF8</code> et <code class=syntax>upperUTF8</code> fonction. Retiré la possibilité d'exécuter ces fonctions sur <code class=syntax>FixedString</code> tapez les arguments. <a href=https://github.com/ClickHouse/ClickHouse/pull/3662 rel="external nofollow noreferrer" target=_blank>#3662</a></li><li>Correction d'une condition de course rare lors de la suppression <code class=syntax>MergeTree</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3680 rel="external nofollow noreferrer" target=_blank>#3680</a></li><li>Correction d'une condition de course lors de la lecture de <code class=syntax>Buffer</code> tables et effectuer simultanément <code class=syntax>ALTER</code> ou <code class=syntax>DROP</code> sur les tables cibles. <a href=https://github.com/ClickHouse/ClickHouse/pull/3719 rel="external nofollow noreferrer" target=_blank>#3719</a></li><li>Correction d'un segfault si le <code class=syntax>max_temporary_non_const_columns</code> limite a été dépassée. <a href=https://github.com/ClickHouse/ClickHouse/pull/3788 rel="external nofollow noreferrer" target=_blank>#3788</a></li></ul><h4 id=improvements-1>Amélioration:<a class=headerlink href=../amp/#improvements-1 title="Permanent link"> </a></h4><ul><li>Le serveur n'écrit pas les fichiers de configuration traités <code class=syntax>/etc/clickhouse-server/</code> répertoire. Au lieu de cela, il les enregistre dans la <code class=syntax>preprocessed_configs</code> répertoire à l'intérieur <code class=syntax>path</code>. Cela signifie que l' <code class=syntax>/etc/clickhouse-server/</code> répertoire n'ont pas d'accès en écriture pour le <code class=syntax>clickhouse</code> de l'utilisateur, ce qui améliore la sécurité. <a href=https://github.com/ClickHouse/ClickHouse/pull/2443 rel="external nofollow noreferrer" target=_blank>#2443</a></li><li>Le <code class=syntax>min_merge_bytes_to_use_direct_io</code> l'option est définie sur 10 GiB par défaut. Une fusion qui forme de grandes parties de tables de la famille MergeTree sera effectuée dans <code class=syntax>O_DIRECT</code> mode, qui empêche l'expulsion excessive du cache de page. <a href=https://github.com/ClickHouse/ClickHouse/pull/3504 rel="external nofollow noreferrer" target=_blank>#3504</a></li><li>Démarrage accéléré du serveur lorsqu'il y a un très grand nombre de tables. <a href=https://github.com/ClickHouse/ClickHouse/pull/3398 rel="external nofollow noreferrer" target=_blank>#3398</a></li><li>Ajout d'un pool de connexion et HTTP <code class=syntax>Keep-Alive</code> pour les connexions entre les répliques. <a href=https://github.com/ClickHouse/ClickHouse/pull/3594 rel="external nofollow noreferrer" target=_blank>#3594</a></li><li>Si la syntaxe de la requête n'est pas <code class=syntax>400 Bad Request</code> le code est renvoyé dans la <code class=syntax>HTTP</code> interface (500 a été retourné précédemment). <a href=https://github.com/ClickHouse/ClickHouse/commit/31bc680ac5f4bb1d0360a8ba4696fa84bb47d6ab rel="external nofollow noreferrer" target=_blank>31bc680a</a></li><li>Le <code class=syntax>join_default_strictness</code> l'option est définie sur <code class=syntax>ALL</code> par défaut, pour la compatibilité. <a href=https://github.com/ClickHouse/ClickHouse/commit/120e2cbe2ff4fbad626c28042d9b28781c805afe rel="external nofollow noreferrer" target=_blank>120e2cbe</a></li><li>Suppression de la journalisation vers <code class=syntax>stderr</code> à partir de la <code class=syntax>re2</code> bibliothèque pour les expressions régulières non valides ou complexes. <a href=https://github.com/ClickHouse/ClickHouse/pull/3723 rel="external nofollow noreferrer" target=_blank>#3723</a></li><li>Ajouté pour la <code class=syntax>Kafka</code> moteur de table: vérifie les abonnements avant de commencer à lire à partir de Kafka; le paramètre kafka_max_block_size pour la table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3396 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a></li><li>Le <code class=syntax>cityHash64</code>, <code class=syntax>farmHash64</code>, <code class=syntax>metroHash64</code>, <code class=syntax>sipHash64</code>, <code class=syntax>halfMD5</code>, <code class=syntax>murmurHash2_32</code>, <code class=syntax>murmurHash2_64</code>, <code class=syntax>murmurHash3_32</code>, et <code class=syntax>murmurHash3_64</code> fonctions maintenant travailler pour n'importe quel nombre d'arguments et des arguments sous la forme de tuples. <a href=https://github.com/ClickHouse/ClickHouse/pull/3451 rel="external nofollow noreferrer" target=_blank>#3451</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3519 rel="external nofollow noreferrer" target=_blank>#3519</a></li><li>Le <code class=syntax>arrayReverse</code> fonction fonctionne maintenant avec tous les types de tableaux. <a href=https://github.com/ClickHouse/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871 rel="external nofollow noreferrer" target=_blank>73e3a7b6</a></li><li>Ajout d'un paramètre optionnel: la taille de l'emplacement pour le <code class=syntax>timeSlots</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/3724 rel="external nofollow noreferrer" target=_blank>Kirill Shvakov</a></li><li>Pour <code class=syntax>FULL</code> et <code class=syntax>RIGHT JOIN</code>, le <code class=syntax>max_block_size</code> le paramètre est utilisé pour un flux de données non jointes à partir de la table de droite. <a href=https://github.com/ClickHouse/ClickHouse/pull/3699 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Ajouté le <code class=syntax>--secure</code> paramètre de ligne de commande dans <code class=syntax>clickhouse-benchmark</code> et <code class=syntax>clickhouse-performance-test</code> pour activer TLS. <a href=https://github.com/ClickHouse/ClickHouse/pull/3688 rel="external nofollow noreferrer" target=_blank>#3688</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3690 rel="external nofollow noreferrer" target=_blank>#3690</a></li><li>Conversion de Type lorsque la structure d'un <code class=syntax>Buffer</code> type table ne correspond pas à la structure de la table de destination. <a href=https://github.com/ClickHouse/ClickHouse/pull/3603 rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a></li><li>Ajouté le <code class=syntax>tcp_keep_alive_timeout</code> option pour activer les paquets persistant après une inactivité de l'intervalle de temps spécifié. <a href=https://github.com/ClickHouse/ClickHouse/pull/3441 rel="external nofollow noreferrer" target=_blank>#3441</a></li><li>Suppression des guillemets inutiles de valeurs pour la clé de partition dans le <code class=syntax>system.parts</code> le tableau si il se compose d'une seule colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/3652 rel="external nofollow noreferrer" target=_blank>#3652</a></li><li>La fonction modulo fonctionne pour <code class=syntax>Date</code> et <code class=syntax>DateTime</code> types de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/3385 rel="external nofollow noreferrer" target=_blank>#3385</a></li><li>Ajouté synonymes pour le <code class=syntax>POWER</code>, <code class=syntax>LN</code>, <code class=syntax>LCASE</code>, <code class=syntax>UCASE</code>, <code class=syntax>REPLACE</code>, <code class=syntax>LOCATE</code>, <code class=syntax>SUBSTR</code>, et <code class=syntax>MID</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/3774 rel="external nofollow noreferrer" target=_blank>#3774</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3763 rel="external nofollow noreferrer" target=_blank>#3763</a> Certains noms de fonctions sont insensibles à la casse pour la compatibilité avec le standard SQL. Sucre syntaxique ajouté <code class=syntax>SUBSTRING(expr FROM start FOR length)</code> pour la compatibilité avec SQL. <a href=https://github.com/ClickHouse/ClickHouse/pull/3804 rel="external nofollow noreferrer" target=_blank>#3804</a></li><li>Ajout de la possibilité de <code class=syntax>mlock</code> pages mémoire correspondant à <code class=syntax>clickhouse-server</code> code exécutable pour l'empêcher d'être forcé hors de la mémoire. Cette fonctionnalité est désactivée par défaut. <a href=https://github.com/ClickHouse/ClickHouse/pull/3553 rel="external nofollow noreferrer" target=_blank>#3553</a></li><li>Amélioration des performances lors de la lecture de <code class=syntax>O_DIRECT</code> (avec l' <code class=syntax>min_bytes_to_use_direct_io</code> option activée). <a href=https://github.com/ClickHouse/ClickHouse/pull/3405 rel="external nofollow noreferrer" target=_blank>#3405</a></li><li>Amélioration de la performance de l' <code class=syntax>dictGet...OrDefault</code> fonction pour un argument clé constant et un argument par défaut non constant. <a href=https://github.com/ClickHouse/ClickHouse/pull/3563 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Le <code class=syntax>firstSignificantSubdomain</code> la fonction traite maintenant les domaines <code class=syntax>gov</code>, <code class=syntax>mil</code>, et <code class=syntax>edu</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3601 rel="external nofollow noreferrer" target=_blank>Igor Hatarist</a> Amélioration de la performance. <a href=https://github.com/ClickHouse/ClickHouse/pull/3628 rel="external nofollow noreferrer" target=_blank>#3628</a></li><li>Possibilité de spécifier des variables d'environnement personnalisées pour le démarrage <code class=syntax>clickhouse-server</code> à l'aide de la <code class=syntax>SYS-V init.d</code> script en définissant <code class=syntax>CLICKHOUSE_PROGRAM_ENV</code> dans <code class=syntax>/etc/default/clickhouse</code>.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/3612 rel="external nofollow noreferrer" target=_blank>Pavlo Bashynskyi</a></li><li>Code de retour Correct pour le script d'initialisation clickhouse-server. <a href=https://github.com/ClickHouse/ClickHouse/pull/3516 rel="external nofollow noreferrer" target=_blank>#3516</a></li><li>Le <code class=syntax>system.metrics</code> la table a maintenant le <code class=syntax>VersionInteger</code> métrique, et <code class=syntax>system.build_options</code> a la ligne ajoutée <code class=syntax>VERSION_INTEGER</code>, qui contient la forme numérique de la version ClickHouse, telle que <code class=syntax>18016000</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3644 rel="external nofollow noreferrer" target=_blank>#3644</a></li><li>Retiré la possibilité de comparer la <code class=syntax>Date</code> tapez avec un nombre pour éviter les erreurs potentielles comme <code class=syntax>date = 2018-12-17</code>, où les citations autour de la date sont omises par erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/3687 rel="external nofollow noreferrer" target=_blank>#3687</a></li><li>Correction du comportement des fonctions avec État comme <code class=syntax>rowNumberInAllBlocks</code>. Ils ont précédemment sorti un résultat qui était un nombre plus grand en raison du démarrage lors de l'analyse de la requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/3729 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Si l' <code class=syntax>force_restore_data</code> le fichier ne peut pas être supprimé, un message d'erreur est affiché. <a href=https://github.com/ClickHouse/ClickHouse/pull/3794 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li></ul><h4 id=build-improvements-1>Construire Des Améliorations:<a class=headerlink href=../amp/#build-improvements-1 title="Permanent link"> </a></h4><ul><li>Mise à jour le <code class=syntax>jemalloc</code> bibliothèque, qui corrige une fuite de mémoire potentielle. <a href=https://github.com/ClickHouse/ClickHouse/pull/3557 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Profilage avec <code class=syntax>jemalloc</code> est activé par défaut pour les versions de débogage. <a href=https://github.com/ClickHouse/ClickHouse/commit/2cc82f5cbe266421cd4c1165286c2c47e5ffcb15 rel="external nofollow noreferrer" target=_blank>2cc82f5c</a></li><li>Ajout de la possibilité d'exécuter des tests d'intégration lorsque <code class=syntax>Docker</code> est installé sur le système. <a href=https://github.com/ClickHouse/ClickHouse/pull/3650 rel="external nofollow noreferrer" target=_blank>#3650</a></li><li>Ajout du test d'expression fuzz dans les requêtes SELECT. <a href=https://github.com/ClickHouse/ClickHouse/pull/3442 rel="external nofollow noreferrer" target=_blank>#3442</a></li><li>Ajout d'un test de stress pour les commits, qui effectue des tests fonctionnels en parallèle et dans un ordre aléatoire pour détecter plus de conditions de course. <a href=https://github.com/ClickHouse/ClickHouse/pull/3438 rel="external nofollow noreferrer" target=_blank>#3438</a></li><li>Amélioration de la méthode de démarrage de clickhouse-server dans une image Docker. <a href=https://github.com/ClickHouse/ClickHouse/pull/3663 rel="external nofollow noreferrer" target=_blank>Elghazal Ahmed</a></li><li>Pour une image Docker, ajout du support pour l'initialisation des bases de données à l'aide de fichiers dans le <code class=syntax>/docker-entrypoint-initdb.d</code> répertoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/3695 rel="external nofollow noreferrer" target=_blank>Konstantin Lebedev</a></li><li>Corrections pour les builds sur ARM. <a href=https://github.com/ClickHouse/ClickHouse/pull/3709 rel="external nofollow noreferrer" target=_blank>#3709</a></li></ul><h4 id=backward-incompatible-changes>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes title="Permanent link"> </a></h4><ul><li>Retiré la possibilité de comparer la <code class=syntax>Date</code> tapez avec un numéro. Plutôt <code class=syntax>toDate('2018-12-18') = 17883</code>, vous devez utiliser la conversion de type explicite <code class=syntax>= toDate(17883)</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3687 rel="external nofollow noreferrer" target=_blank>#3687</a></li></ul><h2 id=clickhouse-release-18-14>Clickhouse Version 18.14<a class=headerlink href=../amp/#clickhouse-release-18-14 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-14-19-2018-12-19>Clickhouse Version 18.14.19, 2018-12-19<a class=headerlink href=../amp/#clickhouse-release-18-14-19-2018-12-19 title="Permanent link"> </a></h3><h4 id=bug-fixes-2>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-2 title="Permanent link"> </a></h4><ul><li>Correction d'une erreur qui a conduit à des problèmes avec la mise à jour des dictionnaires avec la source ODBC. <a href=https://github.com/ClickHouse/ClickHouse/issues/3825 rel="external nofollow noreferrer" target=_blank>#3825</a>, <a href=https://github.com/ClickHouse/ClickHouse/issues/3829 rel="external nofollow noreferrer" target=_blank>#3829</a></li><li>Les bases de données sont correctement spécifiées lors de L'exécution de DDL <code class=syntax>ON CLUSTER</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/3460 rel="external nofollow noreferrer" target=_blank>#3460</a></li><li>Correction d'un segfault si le <code class=syntax>max_temporary_non_const_columns</code> limite a été dépassée. <a href=https://github.com/ClickHouse/ClickHouse/pull/3788 rel="external nofollow noreferrer" target=_blank>#3788</a></li></ul><h4 id=build-improvements-2>Construire Des Améliorations:<a class=headerlink href=../amp/#build-improvements-2 title="Permanent link"> </a></h4><ul><li>Corrections pour les builds sur ARM.</li></ul><h3 id=clickhouse-release-18-14-18-2018-12-04>Clickhouse Version 18.14.18, 2018-12-04<a class=headerlink href=../amp/#clickhouse-release-18-14-18-2018-12-04 title="Permanent link"> </a></h3><h4 id=bug-fixes-3>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-3 title="Permanent link"> </a></h4><ul><li>Correction d'une erreur dans <code class=syntax>dictGet...</code> fonction pour les dictionnaires de type <code class=syntax>range</code> si un des arguments est constante et l'autre ne l'est pas. <a href=https://github.com/ClickHouse/ClickHouse/pull/3751 rel="external nofollow noreferrer" target=_blank>#3751</a></li><li>Correction d'une erreur qui a causé des messages <code class=syntax>netlink: '...': attribute type 1 has an invalid length</code> pour être imprimé dans le journal du noyau Linux, cela ne se passait que sur des versions assez fraîches du noyau Linux. <a href=https://github.com/ClickHouse/ClickHouse/pull/3749 rel="external nofollow noreferrer" target=_blank>#3749</a></li><li>Fixe erreur de segmentation en fonction <code class=syntax>empty</code> pour l'argument de <code class=syntax>FixedString</code> type. <a href=https://github.com/ClickHouse/ClickHouse/pull/3703 rel="external nofollow noreferrer" target=_blank>Daniel, Dao Quang Minh</a></li><li>Correction d'une allocation de mémoire excessive lors de l'utilisation d'une grande valeur de <code class=syntax>max_query_size</code> (a la mémoire de morceau de <code class=syntax>max_query_size</code> octets a été préalloué à la fois). <a href=https://github.com/ClickHouse/ClickHouse/pull/3720 rel="external nofollow noreferrer" target=_blank>#3720</a></li></ul><h4 id=build-changes>Construire Des Changements:<a class=headerlink href=../amp/#build-changes title="Permanent link"> </a></h4><ul><li>Correction de la construction avec les bibliothèques LLVM/Clang de la version 7 à partir des paquets du système D'exploitation (ces bibliothèques sont utilisées pour la compilation de requêtes d'exécution). <a href=https://github.com/ClickHouse/ClickHouse/pull/3582 rel="external nofollow noreferrer" target=_blank>#3582</a></li></ul><h3 id=clickhouse-release-18-14-17-2018-11-30>Clickhouse Version 18.14.17, 2018-11-30<a class=headerlink href=../amp/#clickhouse-release-18-14-17-2018-11-30 title="Permanent link"> </a></h3><h4 id=bug-fixes-4>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-4 title="Permanent link"> </a></h4><ul><li>Correction de cas où le processus de pont ODBC ne s'est pas terminé avec le processus du serveur principal. <a href=https://github.com/ClickHouse/ClickHouse/pull/3642 rel="external nofollow noreferrer" target=_blank>#3642</a></li><li>Insertion synchrone fixe dans le <code class=syntax>Distributed</code> table avec une liste des colonnes qui diffère de la liste des colonnes de la table distante. <a href=https://github.com/ClickHouse/ClickHouse/pull/3673 rel="external nofollow noreferrer" target=_blank>#3673</a></li><li>Correction d'une condition de concurrence rare qui peut conduire à un crash lors de la suppression D'une table MergeTree. <a href=https://github.com/ClickHouse/ClickHouse/pull/3643 rel="external nofollow noreferrer" target=_blank>#3643</a></li><li>Correction d'un blocage de requête dans le cas où la création de thread de requête échoue avec le <code class=syntax>Resource temporarily unavailable</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/3643 rel="external nofollow noreferrer" target=_blank>#3643</a></li><li>Fixe de l'analyse de l' <code class=syntax>ENGINE</code> clause lorsque le <code class=syntax>CREATE AS table</code> la syntaxe a été utilisée et <code class=syntax>ENGINE</code> la clause a été spécifiée avant le <code class=syntax>AS table</code> (l'erreur a entraîné en ignorant le moteur). <a href=https://github.com/ClickHouse/ClickHouse/pull/3692 rel="external nofollow noreferrer" target=_blank>#3692</a></li></ul><h3 id=clickhouse-release-18-14-15-2018-11-21>Clickhouse Version 18.14.15, 2018-11-21<a class=headerlink href=../amp/#clickhouse-release-18-14-15-2018-11-21 title="Permanent link"> </a></h3><h4 id=bug-fixes-5>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-5 title="Permanent link"> </a></h4><ul><li>La taille du bloc de mémoire a été surestimée lors de la désérialisation de la colonne de type <code class=syntax>Array(String)</code> qui conduit à “Memory limit exceeded” erreur. Le problème est apparu dans la version 18.12.13. <a href=https://github.com/ClickHouse/ClickHouse/issues/3589 rel="external nofollow noreferrer" target=_blank>#3589</a></li></ul><h3 id=clickhouse-release-18-14-14-2018-11-20>Clickhouse Version 18.14.14, 2018-11-20<a class=headerlink href=../amp/#clickhouse-release-18-14-14-2018-11-20 title="Permanent link"> </a></h3><h4 id=bug-fixes-6>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-6 title="Permanent link"> </a></h4><ul><li>Fixe <code class=syntax>ON CLUSTER</code> requêtes lorsque le cluster est configuré comme sécurisé (indicateur <code class=syntax>&lt;secure&gt;</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/3599 rel="external nofollow noreferrer" target=_blank>#3599</a></li></ul><h4 id=build-changes-1>Construire Des Changements:<a class=headerlink href=../amp/#build-changes-1 title="Permanent link"> </a></h4><ul><li>Correction de problèmes (llvm-7 du système, macos) <a href=https://github.com/ClickHouse/ClickHouse/pull/3582 rel="external nofollow noreferrer" target=_blank>#3582</a></li></ul><h3 id=clickhouse-release-18-14-13-2018-11-08>Clickhouse Version 18.14.13, 2018-11-08<a class=headerlink href=../amp/#clickhouse-release-18-14-13-2018-11-08 title="Permanent link"> </a></h3><h4 id=bug-fixes-7>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-7 title="Permanent link"> </a></h4><ul><li>Correction de l' <code class=syntax>Block structure mismatch in MergingSorted stream</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/issues/3162 rel="external nofollow noreferrer" target=_blank>#3162</a></li><li>Fixe <code class=syntax>ON CLUSTER</code> requêtes dans le cas où les connexions sécurisées ont été activées dans la configuration du cluster (le <code class=syntax>&lt;secure&gt;</code> drapeau). <a href=https://github.com/ClickHouse/ClickHouse/pull/3465 rel="external nofollow noreferrer" target=_blank>#3465</a></li><li>Correction d'une erreur dans les requêtes utilisées <code class=syntax>SAMPLE</code>, <code class=syntax>PREWHERE</code> et les colonnes alias. <a href=https://github.com/ClickHouse/ClickHouse/pull/3543 rel="external nofollow noreferrer" target=_blank>#3543</a></li><li>Correction d'un rare <code class=syntax>unknown compression method</code> erreur lors de la <code class=syntax>min_bytes_to_use_direct_io</code> le réglage a été activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/3544 rel="external nofollow noreferrer" target=_blank>3544</a></li></ul><h4 id=performance-improvements>Amélioration Des Performances:<a class=headerlink href=../amp/#performance-improvements title="Permanent link"> </a></h4><ul><li>Régression de performance fixe des requêtes avec <code class=syntax>GROUP BY</code> de colonnes de type UInt16 ou Date lors de l'exécution sur les processeurs AMD EPYC. <a href=https://github.com/ClickHouse/ClickHouse/pull/3512 rel="external nofollow noreferrer" target=_blank>Igor Lapko</a></li><li>Correction de la régression des performances des requêtes qui traitent les chaînes longues. <a href=https://github.com/ClickHouse/ClickHouse/pull/3530 rel="external nofollow noreferrer" target=_blank>#3530</a></li></ul><h4 id=build-improvements-3>Construire Des Améliorations:<a class=headerlink href=../amp/#build-improvements-3 title="Permanent link"> </a></h4><ul><li>Améliorations pour simplifier la construction Arcadia. <a href=https://github.com/ClickHouse/ClickHouse/pull/3475 rel="external nofollow noreferrer" target=_blank>#3475</a>, <a href=https://github.com/ClickHouse/ClickHouse/pull/3535 rel="external nofollow noreferrer" target=_blank>#3535</a></li></ul><h3 id=clickhouse-release-18-14-12-2018-11-02>Clickhouse Version 18.14.12, 2018-11-02<a class=headerlink href=../amp/#clickhouse-release-18-14-12-2018-11-02 title="Permanent link"> </a></h3><h4 id=bug-fixes-8>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-8 title="Permanent link"> </a></h4><ul><li>Correction d'un plantage lors de la jonction de deux sous-requêtes sans nom. <a href=https://github.com/ClickHouse/ClickHouse/pull/3505 rel="external nofollow noreferrer" target=_blank>#3505</a></li><li>Fixe générant des requêtes incorrectes (avec un vide <code class=syntax>WHERE</code> clause) lors de l'interrogation de bases de données externes. <a href=https://github.com/ClickHouse/ClickHouse/pull/3477 rel="external nofollow noreferrer" target=_blank>hotid</a></li><li>Correction en utilisant une valeur de délai d'attente incorrecte Dans les dictionnaires ODBC. <a href=https://github.com/ClickHouse/ClickHouse/pull/3511 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a></li></ul><h3 id=clickhouse-release-18-14-11-2018-10-29>Clickhouse Version 18.14.11, 2018-10-29<a class=headerlink href=../amp/#clickhouse-release-18-14-11-2018-10-29 title="Permanent link"> </a></h3><h4 id=bug-fixes-9>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-9 title="Permanent link"> </a></h4><ul><li>Correction de l'erreur <code class=syntax>Block structure mismatch in UNION stream: different number of columns</code> dans les requêtes LIMIT. <a href=https://github.com/ClickHouse/ClickHouse/issues/2156 rel="external nofollow noreferrer" target=_blank>#2156</a></li><li>Correction d'erreurs lors de la fusion de données dans des tables contenant des tableaux à l'intérieur de structures imbriquées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3397 rel="external nofollow noreferrer" target=_blank>#3397</a></li><li>Correction de résultats de requête incorrects si le <code class=syntax>merge_tree_uniform_read_distribution</code> paramètre est désactivé (il est activé par défaut). <a href=https://github.com/ClickHouse/ClickHouse/pull/3429 rel="external nofollow noreferrer" target=_blank>#3429</a></li><li>Correction d'une erreur sur les insertions à une table distribuée au format natif. <a href=https://github.com/ClickHouse/ClickHouse/issues/3411 rel="external nofollow noreferrer" target=_blank>#3411</a></li></ul><h3 id=clickhouse-release-18-14-10-2018-10-23>Clickhouse Version 18.14.10, 2018-10-23<a class=headerlink href=../amp/#clickhouse-release-18-14-10-2018-10-23 title="Permanent link"> </a></h3><ul><li>Le <code class=syntax>compile_expressions</code> le paramètre (compilation JIT d'expressions) est désactivé par défaut. <a href=https://github.com/ClickHouse/ClickHouse/pull/3410 rel="external nofollow noreferrer" target=_blank>#3410</a></li><li>Le <code class=syntax>enable_optimize_predicate_expression</code> paramètre est désactivé par défaut.</li></ul><h3 id=clickhouse-release-18-14-9-2018-10-16>Clickhouse Version 18.14.9, 2018-10-16<a class=headerlink href=../amp/#clickhouse-release-18-14-9-2018-10-16 title="Permanent link"> </a></h3><h4 id=new-features-1>Nouveauté:<a class=headerlink href=../amp/#new-features-1 title="Permanent link"> </a></h4><ul><li>Le <code class=syntax>WITH CUBE</code> le modificateur <code class=syntax>GROUP BY</code> (la syntaxe alternative <code class=syntax>GROUP BY CUBE(...)</code> est également disponible). <a href=https://github.com/ClickHouse/ClickHouse/pull/3172 rel="external nofollow noreferrer" target=_blank>#3172</a></li><li>Ajouté le <code class=syntax>formatDateTime</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/2770 rel="external nofollow noreferrer" target=_blank>Alexandr Krasheninnikov</a></li><li>Ajouté le <code class=syntax>JDBC</code> tableau moteur et <code class=syntax>jdbc</code> fonction table (nécessite l'installation de clickhouse-JDBC-bridge). <a href=https://github.com/ClickHouse/ClickHouse/pull/3210 rel="external nofollow noreferrer" target=_blank>Alexandr Krasheninnikov</a></li><li>Ajout de fonctions pour travailler avec le numéro de semaine ISO: <code class=syntax>toISOWeek</code>, <code class=syntax>toISOYear</code>, <code class=syntax>toStartOfISOYear</code>, et <code class=syntax>toDayOfYear</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3146 rel="external nofollow noreferrer" target=_blank>#3146</a></li><li>Maintenant, vous pouvez utiliser <code class=syntax>Nullable</code> colonnes pour <code class=syntax>MySQL</code> et <code class=syntax>ODBC</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3362 rel="external nofollow noreferrer" target=_blank>#3362</a></li><li>Imbriquée structures de données peuvent être lues comme des objets imbriqués dans <code class=syntax>JSONEachRow</code> format. Ajouté le <code class=syntax>input_format_import_nested_json</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/3144 rel="external nofollow noreferrer" target=_blank>Veloman Yunkan</a></li><li>Le traitement parallèle est disponible pour beaucoup <code class=syntax>MATERIALIZED VIEW</code>s lors de l'insertion de données. Voir la <code class=syntax>parallel_view_processing</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/3208 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a></li><li>Ajouté le <code class=syntax>SYSTEM FLUSH LOGS</code> requête (vidage forcé des journaux sur les tables système telles que <code class=syntax>query_log</code>) <a href=https://github.com/ClickHouse/ClickHouse/pull/3321 rel="external nofollow noreferrer" target=_blank>#3321</a></li><li>Maintenant, vous pouvez utiliser prédéfinis <code class=syntax>database</code> et <code class=syntax>table</code> macros lors de la déclaration <code class=syntax>Replicated</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3251 rel="external nofollow noreferrer" target=_blank>#3251</a></li><li>A ajouté la capacité de lire <code class=syntax>Decimal</code> valeurs de type en notation d'ingénierie (indiquant des puissances de dix). <a href=https://github.com/ClickHouse/ClickHouse/pull/3153 rel="external nofollow noreferrer" target=_blank>#3153</a></li></ul><h4 id=experimental-features>Caractéristiques Expérimentales:<a class=headerlink href=../amp/#experimental-features title="Permanent link"> </a></h4><ul><li>Optimisation de la clause GROUP BY pour <code class=syntax>LowCardinality data types.</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3138 rel="external nofollow noreferrer" target=_blank>#3138</a></li><li>Calcul optimisé des expressions pour <code class=syntax>LowCardinality data types.</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3200 rel="external nofollow noreferrer" target=_blank>#3200</a></li></ul><h4 id=improvements-2>Amélioration:<a class=headerlink href=../amp/#improvements-2 title="Permanent link"> </a></h4><ul><li>Consommation de mémoire considérablement réduite pour les requêtes avec <code class=syntax>ORDER BY</code> et <code class=syntax>LIMIT</code>. Voir la <code class=syntax>max_bytes_before_remerge_sort</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/3205 rel="external nofollow noreferrer" target=_blank>#3205</a></li><li>En l'absence de <code class=syntax>JOIN</code> (<code class=syntax>LEFT</code>, <code class=syntax>INNER</code>, …), <code class=syntax>INNER JOIN</code> est supposé. <a href=https://github.com/ClickHouse/ClickHouse/pull/3147 rel="external nofollow noreferrer" target=_blank>#3147</a></li><li>Qualifié astérisques fonctionner correctement dans les requêtes avec <code class=syntax>JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3202 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Le <code class=syntax>ODBC</code> table engine choisit correctement la méthode de citation des identifiants dans le dialecte SQL d'une base de données distante. <a href=https://github.com/ClickHouse/ClickHouse/pull/3210 rel="external nofollow noreferrer" target=_blank>Alexandr Krasheninnikov</a></li><li>Le <code class=syntax>compile_expressions</code> le paramètre (compilation JIT des expressions) est activé par défaut.</li><li>Correction du comportement pour la base de données/TABLE DROP simultanée si existe et créer une base de données/TABLE si N'existe pas. Auparavant, un <code class=syntax>CREATE DATABASE ... IF NOT EXISTS</code> requête peut renvoyer le message d'erreur “File … already exists” et la <code class=syntax>CREATE TABLE ... IF NOT EXISTS</code> et <code class=syntax>DROP TABLE IF EXISTS</code> les requêtes peuvent revenir <code class=syntax>Table ... is creating or attaching right now</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3101 rel="external nofollow noreferrer" target=_blank>#3101</a></li><li>Les expressions LIKE ET IN avec une moitié droite constante sont passées au serveur distant lors de l'interrogation à partir de tables MySQL ou ODBC. <a href=https://github.com/ClickHouse/ClickHouse/pull/3182 rel="external nofollow noreferrer" target=_blank>#3182</a></li><li>Les comparaisons avec des expressions constantes dans une clause WHERE sont transmises au serveur distant lors de l'interrogation à partir de tables MySQL et ODBC. Auparavant, seules les comparaisons avec les constantes étaient passées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3182 rel="external nofollow noreferrer" target=_blank>#3182</a></li><li>Calcul Correct de la largeur de ligne dans le terminal pour <code class=syntax>Pretty</code> formats, y compris les chaînes avec des hiéroglyphes. <a href=https://github.com/ClickHouse/ClickHouse/pull/3257 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>.</li><li><code class=syntax>ON CLUSTER</code> peut être spécifié pour <code class=syntax>ALTER UPDATE</code> requête.</li><li>Amélioration des performances de lecture des données <code class=syntax>JSONEachRow</code> format. <a href=https://github.com/ClickHouse/ClickHouse/pull/3332 rel="external nofollow noreferrer" target=_blank>#3332</a></li><li>Ajouté synonymes pour le <code class=syntax>LENGTH</code> et <code class=syntax>CHARACTER_LENGTH</code> fonctions de compatibilité. Le <code class=syntax>CONCAT</code> la fonction n'est plus sensible à la casse. <a href=https://github.com/ClickHouse/ClickHouse/pull/3306 rel="external nofollow noreferrer" target=_blank>#3306</a></li><li>Ajouté le <code class=syntax>TIMESTAMP</code> synonyme de la <code class=syntax>DateTime</code> type. <a href=https://github.com/ClickHouse/ClickHouse/pull/3390 rel="external nofollow noreferrer" target=_blank>#3390</a></li><li>Il y a toujours de l'espace réservé pour query_id dans les journaux du serveur, même si la ligne de journal n'est pas liée à une requête. Cela facilite l'analyse des journaux de texte du serveur avec des outils tiers.</li><li>La consommation de mémoire par une requête est enregistrée lorsqu'il dépasse le niveau suivant d'un nombre entier de gigaoctets. <a href=https://github.com/ClickHouse/ClickHouse/pull/3205 rel="external nofollow noreferrer" target=_blank>#3205</a></li><li>Ajout du mode de compatibilité pour le cas où la bibliothèque cliente qui utilise le protocole natif envoie moins de colonnes par erreur que ce que le serveur attend pour la requête D'insertion. Ce scénario était possible lors de l'utilisation de la bibliothèque clickhouse-cpp. Auparavant, ce scénario provoquait le plantage du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/3171 rel="external nofollow noreferrer" target=_blank>#3171</a></li><li>Dans une expression WHERE définie par l'utilisateur <code class=syntax>clickhouse-copier</code> vous pouvez maintenant utiliser un <code class=syntax>partition_key</code> alias (pour un filtrage supplémentaire par partition de table source). Ceci est utile si le schéma de partitionnement change pendant la copie, mais ne change que légèrement. <a href=https://github.com/ClickHouse/ClickHouse/pull/3166 rel="external nofollow noreferrer" target=_blank>#3166</a></li><li>Le flux de travail du <code class=syntax>Kafka</code> le moteur a été déplacé vers un pool de threads en arrière-plan afin de réduire automatiquement la vitesse de lecture des données à des charges élevées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3215 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a>.</li><li>Support pour la lecture <code class=syntax>Tuple</code> et <code class=syntax>Nested</code> valeurs de structures comme <code class=syntax>struct</code> dans le <code class=syntax>Cap'n'Proto format</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3216 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a></li><li>La liste des domaines de premier niveau pour les <code class=syntax>firstSignificantSubdomain</code> la fonction inclut maintenant le domaine <code class=syntax>biz</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3219 rel="external nofollow noreferrer" target=_blank>décaséale</a></li><li>Dans la configuration des dictionnaires externes, <code class=syntax>null_value</code> est interprétée comme la valeur du type de données par défaut. <a href=https://github.com/ClickHouse/ClickHouse/pull/3330 rel="external nofollow noreferrer" target=_blank>#3330</a></li><li>Soutien pour le <code class=syntax>intDiv</code> et <code class=syntax>intDivOrZero</code> fonctions pour <code class=syntax>Decimal</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/b48402e8712e2b9b151e0eef8193811d433a1264 rel="external nofollow noreferrer" target=_blank>b48402e8</a></li><li>Soutien pour le <code class=syntax>Date</code>, <code class=syntax>DateTime</code>, <code class=syntax>UUID</code>, et <code class=syntax>Decimal</code> types comme clé pour le <code class=syntax>sumMap</code> fonction d'agrégation. <a href=https://github.com/ClickHouse/ClickHouse/pull/3281 rel="external nofollow noreferrer" target=_blank>#3281</a></li><li>Soutien pour le <code class=syntax>Decimal</code> type de données dans les dictionnaires externes. <a href=https://github.com/ClickHouse/ClickHouse/pull/3324 rel="external nofollow noreferrer" target=_blank>#3324</a></li><li>Soutien pour le <code class=syntax>Decimal</code> type de données dans <code class=syntax>SummingMergeTree</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3348 rel="external nofollow noreferrer" target=_blank>#3348</a></li><li>Ajouté spécialisations pour <code class=syntax>UUID</code> dans <code class=syntax>if</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3366 rel="external nofollow noreferrer" target=_blank>#3366</a></li><li>Réduit le nombre de <code class=syntax>open</code> et <code class=syntax>close</code> les appels système lors de la lecture d'un <code class=syntax>MergeTree table</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3283 rel="external nofollow noreferrer" target=_blank>#3283</a></li><li>A <code class=syntax>TRUNCATE TABLE</code> requête peut être exécutée sur n'importe quel réplica (la requête est transmise au chef de réplique). <a href=https://github.com/ClickHouse/ClickHouse/pull/3375 rel="external nofollow noreferrer" target=_blank>Kirill Shvakov</a></li></ul><h4 id=bug-fixes-10>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-10 title="Permanent link"> </a></h4><ul><li>Correction d'un problème avec <code class=syntax>Dictionary</code> tables pour <code class=syntax>range_hashed</code> dictionnaire. Cette erreur s'est produite dans la version 18.12.17. <a href=https://github.com/ClickHouse/ClickHouse/pull/1702 rel="external nofollow noreferrer" target=_blank>#1702</a></li><li>Correction d'une erreur lors du chargement <code class=syntax>range_hashed</code> les dictionnaires (le message <code class=syntax>Unsupported type Nullable (...)</code>). Cette erreur s'est produite dans la version 18.12.17. <a href=https://github.com/ClickHouse/ClickHouse/pull/3362 rel="external nofollow noreferrer" target=_blank>#3362</a></li><li>Corrigé des erreurs dans la <code class=syntax>pointInPolygon</code> fonction due à l'accumulation de calculs inexacts pour les polygones avec un grand nombre de sommets situés à proximité les uns des autres. <a href=https://github.com/ClickHouse/ClickHouse/pull/3331 rel="external nofollow noreferrer" target=_blank>#3331</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3341 rel="external nofollow noreferrer" target=_blank>#3341</a></li><li>Si, après la fusion de parties de données, la somme de contrôle de la partie résultante diffère du résultat de la même fusion dans une autre réplique, le résultat de la fusion est supprimé et la partie de données est téléchargée à partir de l'autre réplique (c'est le comportement correct). Mais après avoir téléchargé la partie data, elle n'a pas pu être ajoutée à l'ensemble de travail en raison d'une erreur indiquant que la partie existe déjà (car la partie data a été supprimée avec un certain retard après la fusion). Cela a conduit à cycliques tente de télécharger les mêmes données. <a href=https://github.com/ClickHouse/ClickHouse/pull/3194 rel="external nofollow noreferrer" target=_blank>#3194</a></li><li>Correction d'un calcul incorrect de la consommation totale de mémoire par les requêtes (en raison d'un calcul incorrect, le <code class=syntax>max_memory_usage_for_all_queries</code> le réglage n'a pas fonctionné correctement et le <code class=syntax>MemoryTracking</code> métrique a une valeur incorrecte). Cette erreur s'est produite dans la version 18.12.13. <a href=https://github.com/ClickHouse/ClickHouse/pull/3344 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a></li><li>Correction de la fonctionnalité de <code class=syntax>CREATE TABLE ... ON CLUSTER ... AS SELECT ...</code> Cette erreur s'est produite dans la version 18.12.13. <a href=https://github.com/ClickHouse/ClickHouse/pull/3247 rel="external nofollow noreferrer" target=_blank>#3247</a></li><li>Correction de la préparation inutile des structures de données pour <code class=syntax>JOIN</code>s sur le serveur qui initie la requête si <code class=syntax>JOIN</code> est effectué uniquement sur des serveurs distants. <a href=https://github.com/ClickHouse/ClickHouse/pull/3340 rel="external nofollow noreferrer" target=_blank>#3340</a></li><li>Correction de bugs dans le <code class=syntax>Kafka</code> engine: blocages après les exceptions lors du démarrage de la lecture des données, et verrous à la fin <a href=https://github.com/ClickHouse/ClickHouse/pull/3215 rel="external nofollow noreferrer" target=_blank>Marek Vavruša</a>.</li><li>Pour <code class=syntax>Kafka</code> tableaux, le facultatif <code class=syntax>schema</code> le paramètre n'a pas été passé (le schéma du <code class=syntax>Cap'n'Proto</code> format). <a href=https://github.com/ClickHouse/ClickHouse/pull/3150 rel="external nofollow noreferrer" target=_blank>Vojtech Splichal</a></li><li>Si L'ensemble des serveurs ZooKeeper a des serveurs qui acceptent la connexion mais la ferment immédiatement au lieu de répondre à la prise de contact, ClickHouse choisit de connecter un autre serveur. Auparavant, cela produisait l'erreur <code class=syntax>Cannot read all data. Bytes read: 0. Bytes expected: 4.</code> et le serveur ne pouvait pas commencer. <a href=https://github.com/ClickHouse/ClickHouse/commit/8218cf3a5f39a43401953769d6d12a0bb8d29da9 rel="external nofollow noreferrer" target=_blank>8218cf3a</a></li><li>Si L'ensemble des serveurs ZooKeeper contient des serveurs pour lesquels la requête DNS renvoie une erreur, ces serveurs sont ignorés. <a href=https://github.com/ClickHouse/ClickHouse/commit/17b8e209221061325ad7ba0539f03c6e65f87f29 rel="external nofollow noreferrer" target=_blank>17b8e209</a></li><li>Conversion de type fixe entre <code class=syntax>Date</code> et <code class=syntax>DateTime</code> lors de l'insertion de données dans le <code class=syntax>VALUES</code> format (si <code class=syntax>input_format_values_interpret_expressions = 1</code>). Auparavant, la conversion était effectuée entre la valeur numérique du nombre de jours dans Unix Epoch time et L'horodatage Unix, ce qui conduisait à des résultats inattendus. <a href=https://github.com/ClickHouse/ClickHouse/pull/3229 rel="external nofollow noreferrer" target=_blank>#3229</a></li><li>Conversion de type corrigée entre <code class=syntax>Decimal</code> et des nombres entiers. <a href=https://github.com/ClickHouse/ClickHouse/pull/3211 rel="external nofollow noreferrer" target=_blank>#3211</a></li><li>Corrigé des erreurs dans la <code class=syntax>enable_optimize_predicate_expression</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/3231 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction d'une erreur D'analyse au format CSV avec des nombres à virgule flottante si un séparateur CSV non par défaut est utilisé, tel que <code class=syntax>;</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/3155 rel="external nofollow noreferrer" target=_blank>#3155</a></li><li>Correction de l' <code class=syntax>arrayCumSumNonNegative</code> fonction (il n'accumule pas de valeurs négatives si l'accumulateur est inférieur à zéro). <a href=https://github.com/ClickHouse/ClickHouse/pull/3163 rel="external nofollow noreferrer" target=_blank>Aleksey Studnev</a></li><li>Fixe comment <code class=syntax>Merge</code> les tables de travail sur le dessus de <code class=syntax>Distributed</code> tables lors de l'utilisation <code class=syntax>PREWHERE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3165 rel="external nofollow noreferrer" target=_blank>#3165</a></li><li>Corrections de bugs dans l' <code class=syntax>ALTER UPDATE</code> requête.</li><li>Correction de bugs dans le <code class=syntax>odbc</code> fonction de table apparue dans la version 18.12. <a href=https://github.com/ClickHouse/ClickHouse/pull/3197 rel="external nofollow noreferrer" target=_blank>#3197</a></li><li>Correction du fonctionnement des fonctions d'agrégat avec <code class=syntax>StateArray</code> combinators. <a href=https://github.com/ClickHouse/ClickHouse/pull/3188 rel="external nofollow noreferrer" target=_blank>#3188</a></li><li>Correction d'un crash lors de la division d'une <code class=syntax>Decimal</code> valeur par zéro. <a href=https://github.com/ClickHouse/ClickHouse/commit/69dd6609193beb4e7acd3e6ad216eca0ccfb8179 rel="external nofollow noreferrer" target=_blank>69dd6609</a></li><li>Sortie fixe des types pour les opérations utilisant <code class=syntax>Decimal</code> et des arguments entiers. <a href=https://github.com/ClickHouse/ClickHouse/pull/3224 rel="external nofollow noreferrer" target=_blank>#3224</a></li><li>Correction du segfault pendant <code class=syntax>GROUP BY</code> sur <code class=syntax>Decimal128</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/3359ba06c39fcd05bfdb87d6c64154819621e13a rel="external nofollow noreferrer" target=_blank>3359ba06</a></li><li>Le <code class=syntax>log_query_threads</code> le paramètre (journalisation des informations sur chaque thread d'exécution de la requête) ne prend effet que si <code class=syntax>log_queries</code> l'option (journalisation des informations sur les requêtes) est définie sur 1. Depuis le <code class=syntax>log_query_threads</code> l'option est activée par défaut, les informations sur les threads ont déjà été enregistrées même si la journalisation des requêtes a été désactivée. <a href=https://github.com/ClickHouse/ClickHouse/pull/3241 rel="external nofollow noreferrer" target=_blank>#3241</a></li><li>Correction d'une erreur dans le fonctionnement distribué de la fonction d'agrégat quantiles (le message d'erreur <code class=syntax>Not found column quantile...</code>). <a href=https://github.com/ClickHouse/ClickHouse/commit/292a885533b8e3b41ce8993867069d14cbd5a664 rel="external nofollow noreferrer" target=_blank>292a8855</a></li><li>Correction du problème de compatibilité lorsque vous travaillez sur un cluster de serveurs de version 18.12.17 et de serveurs plus anciens en même temps. Pour les requêtes distribuées avec des clés GROUP BY de longueur fixe et non fixe, s'il y avait une grande quantité de données à agréger, les données renvoyées n'étaient pas toujours entièrement agrégées (deux lignes différentes contenaient les mêmes clés d'agrégation). <a href=https://github.com/ClickHouse/ClickHouse/pull/3254 rel="external nofollow noreferrer" target=_blank>#3254</a></li><li>Manipulation fixe des substitutions dans <code class=syntax>clickhouse-performance-test</code> si la requête ne contient qu'une partie des substitutions déclaré dans le test. <a href=https://github.com/ClickHouse/ClickHouse/pull/3263 rel="external nofollow noreferrer" target=_blank>#3263</a></li><li>Correction d'une erreur lors de l'utilisation <code class=syntax>FINAL</code> avec <code class=syntax>PREWHERE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3298 rel="external nofollow noreferrer" target=_blank>#3298</a></li><li>Correction d'une erreur lors de l'utilisation <code class=syntax>PREWHERE</code> sur les colonnes qui ont été ajoutées pendant <code class=syntax>ALTER</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3298 rel="external nofollow noreferrer" target=_blank>#3298</a></li><li>Ajout d'une vérification de l'absence de <code class=syntax>arrayJoin</code> pour <code class=syntax>DEFAULT</code> et <code class=syntax>MATERIALIZED</code> expression. Précédemment, <code class=syntax>arrayJoin</code> conduit à une erreur lors de l'insertion de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/3337 rel="external nofollow noreferrer" target=_blank>#3337</a></li><li>Ajout d'une vérification de l'absence de <code class=syntax>arrayJoin</code> dans un <code class=syntax>PREWHERE</code> clause. Auparavant, cela a conduit à des messages comme <code class=syntax>Size ... doesn't match</code> ou <code class=syntax>Unknown compression method</code> lors de l'exécution de requêtes. <a href=https://github.com/ClickHouse/ClickHouse/pull/3357 rel="external nofollow noreferrer" target=_blank>#3357</a></li><li>Correction de segfault qui pourrait se produire dans de rares cas après l'optimisation qui a remplacé et chaînes des évaluations d'égalité avec l'expression IN correspondante. <a href=https://github.com/ClickHouse/ClickHouse/pull/3339 rel="external nofollow noreferrer" target=_blank>liuyimin-bytedance</a></li><li>Corrections mineures à <code class=syntax>clickhouse-benchmark</code>: auparavant, les informations client n'étaient pas envoyées au serveur; maintenant, le nombre de requêtes exécutées est calculé plus précisément lors de l'arrêt et pour limiter le nombre d'itérations. <a href=https://github.com/ClickHouse/ClickHouse/pull/3351 rel="external nofollow noreferrer" target=_blank>#3351</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3352 rel="external nofollow noreferrer" target=_blank>#3352</a></li></ul><h4 id=backward-incompatible-changes-1>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-1 title="Permanent link"> </a></h4><ul><li>Enlevé le <code class=syntax>allow_experimental_decimal_type</code> option. Le <code class=syntax>Decimal</code> type de données est disponible pour utilisation par défaut. <a href=https://github.com/ClickHouse/ClickHouse/pull/3329 rel="external nofollow noreferrer" target=_blank>#3329</a></li></ul><h2 id=clickhouse-release-18-12>Clickhouse Version 18.12<a class=headerlink href=../amp/#clickhouse-release-18-12 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-12-17-2018-09-16>Clickhouse Version 18.12.17, 2018-09-16<a class=headerlink href=../amp/#clickhouse-release-18-12-17-2018-09-16 title="Permanent link"> </a></h3><h4 id=new-features-2>Nouveauté:<a class=headerlink href=../amp/#new-features-2 title="Permanent link"> </a></h4><ul><li><code class=syntax>invalidate_query</code> (la possibilité de spécifier une requête pour vérifier si un dictionnaire externe doit être mis à jour) est implémentée pour <code class=syntax>clickhouse</code> source. <a href=https://github.com/ClickHouse/ClickHouse/pull/3126 rel="external nofollow noreferrer" target=_blank>#3126</a></li><li>Ajout de la possibilité d'utiliser <code class=syntax>UInt*</code>, <code class=syntax>Int*</code>, et <code class=syntax>DateTime</code> types de données (avec le <code class=syntax>Date</code> le type) comme un <code class=syntax>range_hashed</code> clé de dictionnaire externe qui définit les limites des plages. Maintenant <code class=syntax>NULL</code> peut être utilisé pour désigner un intervalle ouvert. <a href=https://github.com/ClickHouse/ClickHouse/pull/3123 rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a></li><li>Le <code class=syntax>Decimal</code> type prend maintenant en charge <code class=syntax>var*</code> et <code class=syntax>stddev*</code> les fonctions d'agrégation. <a href=https://github.com/ClickHouse/ClickHouse/pull/3129 rel="external nofollow noreferrer" target=_blank>#3129</a></li><li>Le <code class=syntax>Decimal</code> type prend désormais en charge les fonctions mathématiques (<code class=syntax>exp</code>, <code class=syntax>sin</code> et ainsi de suite.) <a href=https://github.com/ClickHouse/ClickHouse/pull/3129 rel="external nofollow noreferrer" target=_blank>#3129</a></li><li>Le <code class=syntax>system.part_log</code> la table a maintenant le <code class=syntax>partition_id</code> colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/3089 rel="external nofollow noreferrer" target=_blank>#3089</a></li></ul><h4 id=bug-fixes-11>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-11 title="Permanent link"> </a></h4><ul><li><code class=syntax>Merge</code> fonctionne maintenant correctement sur <code class=syntax>Distributed</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/3159 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Incompatibilité fixe (dépendance inutile sur le <code class=syntax>glibc</code> version) qui a rendu impossible l'exécution de ClickHouse sur <code class=syntax>Ubuntu Precise</code> et les anciennes versions. L'incompatibilité est apparue dans la version 18.12.13. <a href=https://github.com/ClickHouse/ClickHouse/pull/3130 rel="external nofollow noreferrer" target=_blank>#3130</a></li><li>Corrigé des erreurs dans la <code class=syntax>enable_optimize_predicate_expression</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/3107 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction d'un problème mineur de rétrocompatibilité apparu lors de l'utilisation d'un cluster de répliques sur des versions antérieures au 18.12.13 et de la création simultanée d'une nouvelle réplique d'une table sur un serveur avec une version plus récente (indiquée dans le message <code class=syntax>Can not clone replica, because the ... updated to new ClickHouse version</code>, ce qui est logique, mais ne devrait pas arriver). <a href=https://github.com/ClickHouse/ClickHouse/pull/3122 rel="external nofollow noreferrer" target=_blank>#3122</a></li></ul><h4 id=backward-incompatible-changes-2>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-2 title="Permanent link"> </a></h4><ul><li>Le <code class=syntax>enable_optimize_predicate_expression</code> option est activée par défaut (ce qui est plutôt optimiste). Si des erreurs d'analyse de requête se produisent liées à la recherche des noms de colonnes, définissez <code class=syntax>enable_optimize_predicate_expression</code> à 0. <a href=https://github.com/ClickHouse/ClickHouse/pull/3107 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li></ul><h3 id=clickhouse-release-18-12-14-2018-09-13>Clickhouse Version 18.12.14, 2018-09-13<a class=headerlink href=../amp/#clickhouse-release-18-12-14-2018-09-13 title="Permanent link"> </a></h3><h4 id=new-features-3>Nouveauté:<a class=headerlink href=../amp/#new-features-3 title="Permanent link"> </a></h4><ul><li>Ajout du support pour <code class=syntax>ALTER UPDATE</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/3035 rel="external nofollow noreferrer" target=_blank>#3035</a></li><li>Ajouté le <code class=syntax>allow_ddl</code> option, qui limite l'accès de L'utilisateur aux requêtes DDL. <a href=https://github.com/ClickHouse/ClickHouse/pull/3104 rel="external nofollow noreferrer" target=_blank>#3104</a></li><li>Ajouté le <code class=syntax>min_merge_bytes_to_use_direct_io</code> option pour <code class=syntax>MergeTree</code> moteurs, qui vous permet de définir un seuil pour la taille totale de la fusion (quand au-dessus du seuil, les fichiers de partie de données seront traités en utilisant O_DIRECT). <a href=https://github.com/ClickHouse/ClickHouse/pull/3117 rel="external nofollow noreferrer" target=_blank>#3117</a></li><li>Le <code class=syntax>system.merges</code> la table système contient maintenant <code class=syntax>partition_id</code> colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/3099 rel="external nofollow noreferrer" target=_blank>#3099</a></li></ul><h4 id=improvements-3>Amélioration<a class=headerlink href=../amp/#improvements-3 title="Permanent link"> </a></h4><ul><li>Si une partie de données reste inchangée pendant la mutation, elle n'est pas téléchargée par les répliques. <a href=https://github.com/ClickHouse/ClickHouse/pull/3103 rel="external nofollow noreferrer" target=_blank>#3103</a></li><li>La saisie semi-automatique est disponible pour les noms de paramètres lorsque vous travaillez avec <code class=syntax>clickhouse-client</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3106 rel="external nofollow noreferrer" target=_blank>#3106</a></li></ul><h4 id=bug-fixes-12>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-12 title="Permanent link"> </a></h4><ul><li>Ajouter un chèque pour les montants des tableaux sont des éléments de <code class=syntax>Nested</code> les champs de type lors de l'insertion. <a href=https://github.com/ClickHouse/ClickHouse/pull/3118 rel="external nofollow noreferrer" target=_blank>#3118</a></li><li>Correction d'une erreur de mise à jour des dictionnaires externes <code class=syntax>ODBC</code> source et <code class=syntax>hashed</code> stockage. Cette erreur s'est produite dans la version 18.12.13.</li><li>Correction d'un plantage lors de la création d'une table temporaire à partir d'une requête <code class=syntax>IN</code> condition. <a href=https://github.com/ClickHouse/ClickHouse/pull/3098 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction d'une erreur dans les fonctions d'agrégation pour les tableaux peuvent avoir <code class=syntax>NULL</code> élément. <a href=https://github.com/ClickHouse/ClickHouse/pull/3097 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li></ul><h3 id=clickhouse-release-18-12-13-2018-09-10>Clickhouse Version 18.12.13, 2018-09-10<a class=headerlink href=../amp/#clickhouse-release-18-12-13-2018-09-10 title="Permanent link"> </a></h3><h4 id=new-features-4>Nouveauté:<a class=headerlink href=../amp/#new-features-4 title="Permanent link"> </a></h4><ul><li>Ajouté le <code class=syntax>DECIMAL(digits, scale)</code> type de données (<code class=syntax>Decimal32(scale)</code>, <code class=syntax>Decimal64(scale)</code>, <code class=syntax>Decimal128(scale)</code>). Pour l'activer, utilisez le paramètre <code class=syntax>allow_experimental_decimal_type</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2846 rel="external nofollow noreferrer" target=_blank>#2846</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2970 rel="external nofollow noreferrer" target=_blank>#2970</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3008 rel="external nofollow noreferrer" target=_blank>#3008</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3047 rel="external nofollow noreferrer" target=_blank>#3047</a></li><li>Nouveau <code class=syntax>WITH ROLLUP</code> le modificateur <code class=syntax>GROUP BY</code> (syntaxe alternative: <code class=syntax>GROUP BY ROLLUP(...)</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2948 rel="external nofollow noreferrer" target=_blank>#2948</a></li><li>Dans les requêtes avec jointure, le caractère étoile se développe en une liste de colonnes dans toutes les tables, conformément à la norme SQL. Vous pouvez restaurer l'ancien comportement en paramètre <code class=syntax>asterisk_left_columns_only</code> à 1 au niveau de la configuration utilisateur. <a href=https://github.com/ClickHouse/ClickHouse/pull/2787 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Ajout du support pour joindre avec les fonctions de table. <a href=https://github.com/ClickHouse/ClickHouse/pull/2907 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Saisie semi-automatique en appuyant sur Tab dans clickhouse-client. <a href=https://github.com/ClickHouse/ClickHouse/pull/2447 rel="external nofollow noreferrer" target=_blank>Sergey Shcherbin</a></li><li>Ctrl + C dans clickhouse-client efface une requête qui a été entrée. <a href=https://github.com/ClickHouse/ClickHouse/pull/2877 rel="external nofollow noreferrer" target=_blank>#2877</a></li><li>Ajouté le <code class=syntax>join_default_strictness</code> paramètre (valeurs: <code class=syntax>"</code>, <code class=syntax>'any'</code>, <code class=syntax>'all'</code>). Cela vous permet de ne pas préciser <code class=syntax>ANY</code> ou <code class=syntax>ALL</code> pour <code class=syntax>JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2982 rel="external nofollow noreferrer" target=_blank>#2982</a></li><li>Chaque ligne du journal du serveur associée au traitement de la requête affiche L'ID de la requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Maintenant, vous pouvez obtenir des journaux d'exécution de requête dans clickhouse-client (utilisez le <code class=syntax>send_logs_level</code> paramètre). Avec le traitement des requêtes distribuées, les journaux sont cascadés à partir de tous les serveurs. <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Le <code class=syntax>system.query_log</code> et <code class=syntax>system.processes</code> (<code class=syntax>SHOW PROCESSLIST</code> les tableaux ont maintenant des informations sur tous les paramètres modifiés lorsque vous exécutez une requête (la structure imbriquée de l' <code class=syntax>Settings</code> données). Ajouté le <code class=syntax>log_query_settings</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Le <code class=syntax>system.query_log</code> et <code class=syntax>system.processes</code> les tables affichent désormais des informations sur le nombre de threads participant à l'exécution de la requête (voir <code class=syntax>thread_numbers</code> colonne). <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Ajouter <code class=syntax>ProfileEvents</code> compteurs qui mesurent le temps passé à lire et à écrire sur le réseau et à lire et à écrire sur le disque, le nombre d'erreurs réseau et le temps passé à attendre lorsque la bande passante réseau est limitée. <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Ajouter <code class=syntax>ProfileEvents</code>compteurs qui contiennent les métriques système de rusage (vous pouvez les utiliser pour obtenir des informations sur L'utilisation du processeur dans l'espace utilisateur et le noyau, les erreurs de page et les commutateurs de contexte), ainsi que les métriques taskstats (utilisez-les pour obtenir des informations sur le temps d'attente d'E/S, le temps D'attente du processeur et <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Le <code class=syntax>ProfileEvents</code> les compteurs sont appliqués globalement et pour chaque requête, ainsi que pour chaque thread d'exécution de requête, ce qui vous permet de profiler la consommation de ressources par requête en détail. <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Ajouté le <code class=syntax>system.query_thread_log</code> table, qui contient des informations sur chaque thread d'exécution de requête. Ajouté le <code class=syntax>log_query_threads</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/2482 rel="external nofollow noreferrer" target=_blank>#2482</a></li><li>Le <code class=syntax>system.metrics</code> et <code class=syntax>system.events</code> les tables ont maintenant une documentation intégrée. <a href=https://github.com/ClickHouse/ClickHouse/pull/3016 rel="external nofollow noreferrer" target=_blank>#3016</a></li><li>Ajouté le <code class=syntax>arrayEnumerateDense</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/2975 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Ajouté le <code class=syntax>arrayCumSumNonNegative</code> et <code class=syntax>arrayDifference</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/2942 rel="external nofollow noreferrer" target=_blank>Aleksey Studnev</a></li><li>Ajouté le <code class=syntax>retention</code> fonction d'agrégation. <a href=https://github.com/ClickHouse/ClickHouse/pull/2887 rel="external nofollow noreferrer" target=_blank>Sundy Li</a></li><li>Vous pouvez maintenant ajouter (fusionner) des états de fonctions d'agrégat en utilisant l'opérateur plus et multiplier les états de fonctions d'agrégat par une constante non négative. <a href=https://github.com/ClickHouse/ClickHouse/pull/3062 rel="external nofollow noreferrer" target=_blank>#3062</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3034 rel="external nofollow noreferrer" target=_blank>#3034</a></li><li>Les Tables de la famille MergeTree ont maintenant la colonne virtuelle <code class=syntax>_partition_id</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3089 rel="external nofollow noreferrer" target=_blank>#3089</a></li></ul><h4 id=experimental-features-1>Caractéristiques Expérimentales:<a class=headerlink href=../amp/#experimental-features-1 title="Permanent link"> </a></h4><ul><li>Ajouté le <code class=syntax>LowCardinality(T)</code> type de données. Ce type de données crée automatiquement un dictionnaire local de valeurs et permet le traitement des données sans déballer le dictionnaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/2830 rel="external nofollow noreferrer" target=_blank>#2830</a></li><li>Ajout d'un cache de fonctions compilées JIT et d'un compteur pour le nombre d'utilisations avant la compilation. Pour compiler des expressions JIT, activez <code class=syntax>compile_expressions</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/2990 rel="external nofollow noreferrer" target=_blank>#2990</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3077 rel="external nofollow noreferrer" target=_blank>#3077</a></li></ul><h4 id=improvements-4>Amélioration:<a class=headerlink href=../amp/#improvements-4 title="Permanent link"> </a></h4><ul><li>Correction du problème avec l'accumulation illimitée du journal de réplication quand il y a des répliques abandonnées. Ajout d'un mode de récupération efficace pour les répliques avec un long décalage.</li><li>Amélioration des performances de <code class=syntax>GROUP BY</code> avec l'agrégation de plusieurs champs lorsque l'un d'eux est une chaîne et les autres sont de longueur fixe.</li><li>Amélioration des performances lors de l'utilisation <code class=syntax>PREWHERE</code> et avec transfert implicite d'expressions dans <code class=syntax>PREWHERE</code>.</li><li>Amélioration des performances d'analyse pour les formats de texte (<code class=syntax>CSV</code>, <code class=syntax>TSV</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2977 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2980 rel="external nofollow noreferrer" target=_blank>#2980</a></li><li>Amélioration des performances de lecture des chaînes et des tableaux dans les formats binaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/2955 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Augmentation des performances et réduction de la consommation de mémoire pour les requêtes <code class=syntax>system.tables</code> et <code class=syntax>system.columns</code> quand il y a un très grand nombre de tables sur un seul serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/2953 rel="external nofollow noreferrer" target=_blank>#2953</a></li><li>Correction d'un problème de performances dans le cas d'un grand flux de requêtes résultant en une erreur (la <code class=syntax>_dl_addr</code> la fonction est visible dans <code class=syntax>perf top</code> mais le serveur n'utilise pas beaucoup de CPU). <a href=https://github.com/ClickHouse/ClickHouse/pull/2938 rel="external nofollow noreferrer" target=_blank>#2938</a></li><li>Les Conditions sont converties dans la vue (lorsque <code class=syntax>enable_optimize_predicate_expression</code> est activé). <a href=https://github.com/ClickHouse/ClickHouse/pull/2907 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Améliorations de la fonctionnalité pour le <code class=syntax>UUID</code> type de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/3074 rel="external nofollow noreferrer" target=_blank>#3074</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2985 rel="external nofollow noreferrer" target=_blank>#2985</a></li><li>Le <code class=syntax>UUID</code> le type de données est pris en charge dans les dictionnaires-Alchemist. <a href=https://github.com/ClickHouse/ClickHouse/pull/2822 rel="external nofollow noreferrer" target=_blank>#2822</a></li><li>Le <code class=syntax>visitParamExtractRaw</code> la fonction fonctionne correctement avec les structures imbriquées. <a href=https://github.com/ClickHouse/ClickHouse/pull/2974 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Lorsque l' <code class=syntax>input_format_skip_unknown_fields</code> paramètre est activé, les champs d'objet dans <code class=syntax>JSONEachRow</code> format sont ignorés correctement. <a href=https://github.com/ClickHouse/ClickHouse/pull/2958 rel="external nofollow noreferrer" target=_blank>BlahGeek</a></li><li>Pour un <code class=syntax>CASE</code> expression avec conditions, vous pouvez maintenant omettre <code class=syntax>ELSE</code>, ce qui est équivalent à <code class=syntax>ELSE NULL</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2920 rel="external nofollow noreferrer" target=_blank>#2920</a></li><li>Le délai d'attente de l'opération peut maintenant être configuré lorsque vous travaillez avec ZooKeeper. <a href=https://github.com/ClickHouse/ClickHouse/pull/2971 rel="external nofollow noreferrer" target=_blank>urykhy</a></li><li>Vous pouvez spécifier un décalage pour <code class=syntax>LIMIT n, m</code> comme <code class=syntax>LIMIT n OFFSET m</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2840 rel="external nofollow noreferrer" target=_blank>#2840</a></li><li>Vous pouvez utiliser l' <code class=syntax>SELECT TOP n</code> syntaxe comme alternative pour <code class=syntax>LIMIT</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2840 rel="external nofollow noreferrer" target=_blank>#2840</a></li><li>Augmentation de la taille de la file d'attente pour écrire dans les tables <code class=syntax>SystemLog parameter queue is full</code> l'erreur ne se produit pas aussi souvent.</li><li>Le <code class=syntax>windowFunnel</code> fonction d'agrégation prend désormais en charge les événements qui répondent à plusieurs conditions. <a href=https://github.com/ClickHouse/ClickHouse/pull/2801 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Les colonnes dupliquées peuvent être utilisées dans un <code class=syntax>USING</code> la clause de <code class=syntax>JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3006 rel="external nofollow noreferrer" target=_blank>#3006</a></li><li><code class=syntax>Pretty</code> formats maintenant avoir une limite sur l'alignement des colonnes de largeur. L'utilisation de la <code class=syntax>output_format_pretty_max_column_pad_width</code> paramètre. Si une valeur est plus large, il sera toujours affichée dans son intégralité, mais les autres cellules dans le tableau ne sera pas trop large. <a href=https://github.com/ClickHouse/ClickHouse/pull/3003 rel="external nofollow noreferrer" target=_blank>#3003</a></li><li>Le <code class=syntax>odbc</code> la fonction table vous permet maintenant de spécifier le nom de la base de données / schéma. <a href=https://github.com/ClickHouse/ClickHouse/pull/2885 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Ajout de la possibilité d'utiliser un nom d'utilisateur spécifié dans le <code class=syntax>clickhouse-client</code> fichier de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/2909 rel="external nofollow noreferrer" target=_blank>Vladimir Kozbin</a></li><li>Le <code class=syntax>ZooKeeperExceptions</code> compteur a été divisé en trois compteurs: <code class=syntax>ZooKeeperUserExceptions</code>, <code class=syntax>ZooKeeperHardwareExceptions</code>, et <code class=syntax>ZooKeeperOtherExceptions</code>.</li><li><code class=syntax>ALTER DELETE</code> les requêtes fonctionnent pour les vues matérialisées.</li><li>Ajouté randomisation lors de l'exécution du thread de nettoyage périodiquement pour <code class=syntax>ReplicatedMergeTree</code> afin d'éviter les pics de charge périodiques lorsqu'il y a un très grand nombre de <code class=syntax>ReplicatedMergeTree</code> table.</li><li>Soutien pour <code class=syntax>ATTACH TABLE ... ON CLUSTER</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/3025 rel="external nofollow noreferrer" target=_blank>#3025</a></li></ul><h4 id=bug-fixes-13>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-13 title="Permanent link"> </a></h4><ul><li>Correction d'un problème avec <code class=syntax>Dictionary</code> tables (jette le <code class=syntax>Size of offsets doesn't match size of column</code> ou <code class=syntax>Unknown compression method</code> exception). Ce bug est apparu dans la version 18.10.3. <a href=https://github.com/ClickHouse/ClickHouse/issues/2913 rel="external nofollow noreferrer" target=_blank>#2913</a></li><li>Correction d'un bug lors de la fusion <code class=syntax>CollapsingMergeTree</code> tables si l'une des parties de données est vide (ces parties sont formées lors de la fusion ou <code class=syntax>ALTER DELETE</code> si toutes les données ont été supprimées), et le <code class=syntax>vertical</code> l'algorithme a été utilisé pour la fusion. <a href=https://github.com/ClickHouse/ClickHouse/pull/3049 rel="external nofollow noreferrer" target=_blank>#3049</a></li><li>Correction d'une condition de course pendant <code class=syntax>DROP</code> ou <code class=syntax>TRUNCATE</code> pour <code class=syntax>Memory</code> tables simultanément <code class=syntax>SELECT</code>, ce qui pourrait conduire à des pannes de serveur. Ce bug est apparu dans la version 1.1.54388. <a href=https://github.com/ClickHouse/ClickHouse/pull/3038 rel="external nofollow noreferrer" target=_blank>#3038</a></li><li>Correction de la possibilité de perte de données lors de l'insertion dans <code class=syntax>Replicated</code> des tables, si la <code class=syntax>Session is expired</code> l'erreur est renvoyée (la perte de données peut être détectée par le <code class=syntax>ReplicatedDataLoss</code> métrique). Cette erreur s'est produite dans la version 1.1.54378. <a href=https://github.com/ClickHouse/ClickHouse/pull/2939 rel="external nofollow noreferrer" target=_blank>#2939</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2949 rel="external nofollow noreferrer" target=_blank>#2949</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2964 rel="external nofollow noreferrer" target=_blank>#2964</a></li><li>Correction d'un segfault pendant <code class=syntax>JOIN ... ON</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3000 rel="external nofollow noreferrer" target=_blank>#3000</a></li><li>Correction de l'erreur de recherche des noms de colonne lorsque le <code class=syntax>WHERE</code> expression se compose entièrement d'un nom de colonne qualifié, tel que <code class=syntax>WHERE table.column</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2994 rel="external nofollow noreferrer" target=_blank>#2994</a></li><li>Correction de l' “Not found column” erreur survenue lors de l'exécution de requêtes distribuées si une seule colonne composée d'une expression avec une sous-requête est demandée à partir d'un serveur distant. <a href=https://github.com/ClickHouse/ClickHouse/pull/3087 rel="external nofollow noreferrer" target=_blank>#3087</a></li><li>Correction de l' <code class=syntax>Block structure mismatch in UNION stream: different number of columns</code> erreur qui s'est produite pour les requêtes distribuées si l'un des fragments est locale et l'autre ne l'est pas, et l'optimisation de la déplacer à <code class=syntax>PREWHERE</code> est déclenchée. <a href=https://github.com/ClickHouse/ClickHouse/pull/2226 rel="external nofollow noreferrer" target=_blank>#2226</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3037 rel="external nofollow noreferrer" target=_blank>#3037</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3055 rel="external nofollow noreferrer" target=_blank>#3055</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3065 rel="external nofollow noreferrer" target=_blank>#3065</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3073 rel="external nofollow noreferrer" target=_blank>#3073</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3090 rel="external nofollow noreferrer" target=_blank>#3090</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3093 rel="external nofollow noreferrer" target=_blank>#3093</a></li><li>Correction de l' <code class=syntax>pointInPolygon</code> fonction pour certains cas de polygones non convexes. <a href=https://github.com/ClickHouse/ClickHouse/pull/2910 rel="external nofollow noreferrer" target=_blank>#2910</a></li><li>Correction du résultat incorrect lors de la comparaison <code class=syntax>nan</code> avec des entiers. <a href=https://github.com/ClickHouse/ClickHouse/pull/3024 rel="external nofollow noreferrer" target=_blank>#3024</a></li><li>Correction d'une erreur dans le <code class=syntax>zlib-ng</code> bibliothèque qui pourrait conduire à segfault dans de rares cas. <a href=https://github.com/ClickHouse/ClickHouse/pull/2854 rel="external nofollow noreferrer" target=_blank>#2854</a></li><li>Correction d'une fuite de mémoire lors de l'insertion dans une table avec <code class=syntax>AggregateFunction</code> colonnes, si l'état de la fonction d'agrégat n'est pas simple (alloue la mémoire séparément), et si une seule demande d'insertion entraîne plusieurs petits blocs. <a href=https://github.com/ClickHouse/ClickHouse/pull/3084 rel="external nofollow noreferrer" target=_blank>#3084</a></li><li>Correction d'une condition de concurrence lors de la création et la suppression de la même <code class=syntax>Buffer</code> ou <code class=syntax>MergeTree</code> table en même temps.</li><li>Correction de la possibilité d'un segfault lors de la comparaison des tuples constitués de certains types non triviaux, tels que les tuples. <a href=https://github.com/ClickHouse/ClickHouse/pull/2989 rel="external nofollow noreferrer" target=_blank>#2989</a></li><li>Correction de la possibilité d'un segfault lors de l'exécution de certains <code class=syntax>ON CLUSTER</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/2960 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction d'une erreur dans le <code class=syntax>arrayDistinct</code> fonction pour <code class=syntax>Nullable</code> les éléments du tableau. <a href=https://github.com/ClickHouse/ClickHouse/pull/2845 rel="external nofollow noreferrer" target=_blank>#2845</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2937 rel="external nofollow noreferrer" target=_blank>#2937</a></li><li>Le <code class=syntax>enable_optimize_predicate_expression</code> option prend en charge correctement les cas avec <code class=syntax>SELECT *</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2929 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction du segfault lors de la réinitialisation de la session ZooKeeper. <a href=https://github.com/ClickHouse/ClickHouse/pull/2917 rel="external nofollow noreferrer" target=_blank>#2917</a></li><li>Blocage potentiel fixe lorsque vous travaillez avec ZooKeeper.</li><li>Correction d'un code incorrect pour ajouter des structures de données imbriquées dans un <code class=syntax>SummingMergeTree</code>.</li><li>Lors de l'allocation de mémoire pour les états de fonctions d'agrégat, l'alignement est correctement pris en compte, ce qui permet d'utiliser des opérations nécessitant un alignement lors de la mise en œuvre des états de fonctions d'agrégat. <a href=https://github.com/ClickHouse/ClickHouse/pull/2808 rel="external nofollow noreferrer" target=_blank>chenxing-xc</a></li></ul><h4 id=security-fix>Correction De Sécurité:<a class=headerlink href=../amp/#security-fix title="Permanent link"> </a></h4><ul><li>Utilisation sûre des sources de données ODBC. L'Interaction avec les pilotes ODBC utilise un <code class=syntax>clickhouse-odbc-bridge</code> processus. Les erreurs dans les pilotes ODBC tiers ne causent plus de problèmes de stabilité du serveur ou de vulnérabilités. <a href=https://github.com/ClickHouse/ClickHouse/pull/2828 rel="external nofollow noreferrer" target=_blank>#2828</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2879 rel="external nofollow noreferrer" target=_blank>#2879</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2886 rel="external nofollow noreferrer" target=_blank>#2886</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2893 rel="external nofollow noreferrer" target=_blank>#2893</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2921 rel="external nofollow noreferrer" target=_blank>#2921</a></li><li>Correction d'une validation incorrecte du chemin du fichier dans le <code class=syntax>catBoostPool</code> table de fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/2894 rel="external nofollow noreferrer" target=_blank>#2894</a></li><li>Le contenu des tableaux du système (<code class=syntax>tables</code>, <code class=syntax>databases</code>, <code class=syntax>parts</code>, <code class=syntax>columns</code>, <code class=syntax>parts_columns</code>, <code class=syntax>merges</code>, <code class=syntax>mutations</code>, <code class=syntax>replicas</code>, et <code class=syntax>replication_queue</code>) sont filtrés en fonction de l'accès configuré de l'utilisateur aux bases de données (<code class=syntax>allow_databases</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2856 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li></ul><h4 id=backward-incompatible-changes-3>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-3 title="Permanent link"> </a></h4><ul><li>Dans les requêtes avec jointure, le caractère étoile se développe en une liste de colonnes dans toutes les tables, conformément à la norme SQL. Vous pouvez restaurer l'ancien comportement en paramètre <code class=syntax>asterisk_left_columns_only</code> à 1 au niveau de la configuration utilisateur.</li></ul><h4 id=build-changes-2>Construire Des Changements:<a class=headerlink href=../amp/#build-changes-2 title="Permanent link"> </a></h4><ul><li>La plupart des tests d'intégration peuvent maintenant être exécutés par commit.</li><li>Les contrôles de style de Code peuvent également être exécutés par commit.</li><li>Le <code class=syntax>memcpy</code> l'implémentation est choisie correctement lors de la construction sur CentOS7/Fedora. <a href=https://github.com/ClickHouse/ClickHouse/pull/2912 rel="external nofollow noreferrer" target=_blank>Etienne Champetier</a></li><li>Lorsque vous utilisez clang pour construire, certains avertissements de <code class=syntax>-Weverything</code> ont été ajoutées, en plus de la <code class=syntax>-Wall-Wextra -Werror</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2957 rel="external nofollow noreferrer" target=_blank>#2957</a></li><li>Débogage de la construction utilise le <code class=syntax>jemalloc</code> option de débogage.</li><li>L'interface de la bibliothèque pour interagir avec ZooKeeper est déclarée abstraite. <a href=https://github.com/ClickHouse/ClickHouse/pull/2950 rel="external nofollow noreferrer" target=_blank>#2950</a></li></ul><h2 id=clickhouse-release-18-10>Clickhouse Version 18.10<a class=headerlink href=../amp/#clickhouse-release-18-10 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-10-3-2018-08-13>Clickhouse Version 18.10.3, 2018-08-13<a class=headerlink href=../amp/#clickhouse-release-18-10-3-2018-08-13 title="Permanent link"> </a></h3><h4 id=new-features-5>Nouveauté:<a class=headerlink href=../amp/#new-features-5 title="Permanent link"> </a></h4><ul><li>HTTPS peut être utilisé pour la réplication. <a href=https://github.com/ClickHouse/ClickHouse/pull/2760 rel="external nofollow noreferrer" target=_blank>#2760</a></li><li>Ajout des fonctions <code class=syntax>murmurHash2_64</code>, <code class=syntax>murmurHash3_32</code>, <code class=syntax>murmurHash3_64</code>, et <code class=syntax>murmurHash3_128</code> en plus de l'existant <code class=syntax>murmurHash2_32</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2791 rel="external nofollow noreferrer" target=_blank>#2791</a></li><li>Prise en charge des types Nullable dans le pilote ODBC ClickHouse (<code class=syntax>ODBCDriver2</code> le format de sortie). <a href=https://github.com/ClickHouse/ClickHouse/pull/2834 rel="external nofollow noreferrer" target=_blank>#2834</a></li><li>Soutien pour <code class=syntax>UUID</code> dans les colonnes de clé.</li></ul><h4 id=improvements-5>Amélioration:<a class=headerlink href=../amp/#improvements-5 title="Permanent link"> </a></h4><ul><li>Les Clusters peuvent être supprimés sans redémarrer le serveur lorsqu'ils sont supprimés des fichiers de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/2777 rel="external nofollow noreferrer" target=_blank>#2777</a></li><li>Les dictionnaires externes peuvent être supprimés sans redémarrer le serveur lorsqu'ils sont supprimés des fichiers de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/2779 rel="external nofollow noreferrer" target=_blank>#2779</a></li><li>Ajouter <code class=syntax>SETTINGS</code> soutien pour le <code class=syntax>Kafka</code> tableau moteur. <a href=https://github.com/ClickHouse/ClickHouse/pull/2781 rel="external nofollow noreferrer" target=_blank>Alexander Marshalov</a></li><li>Des améliorations pour l' <code class=syntax>UUID</code> type de données (pas encore terminée). <a href=https://github.com/ClickHouse/ClickHouse/pull/2618 rel="external nofollow noreferrer" target=_blank>#2618</a></li><li>Prise en charge des pièces vides après fusion dans le <code class=syntax>SummingMergeTree</code>, <code class=syntax>CollapsingMergeTree</code> et <code class=syntax>VersionedCollapsingMergeTree</code> moteur. <a href=https://github.com/ClickHouse/ClickHouse/pull/2815 rel="external nofollow noreferrer" target=_blank>#2815</a></li><li>Les anciens enregistrements de mutations terminées sont supprimés (<code class=syntax>ALTER DELETE</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/2784 rel="external nofollow noreferrer" target=_blank>#2784</a></li><li>Ajouté le <code class=syntax>system.merge_tree_settings</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/2841 rel="external nofollow noreferrer" target=_blank>Kirill Shvakov</a></li><li>Le <code class=syntax>system.tables</code> la table a maintenant des colonnes de dépendance: <code class=syntax>dependencies_database</code> et <code class=syntax>dependencies_table</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2851 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Ajouté le <code class=syntax>max_partition_size_to_drop</code> option de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/2782 rel="external nofollow noreferrer" target=_blank>#2782</a></li><li>Ajouté le <code class=syntax>output_format_json_escape_forward_slashes</code> option. <a href=https://github.com/ClickHouse/ClickHouse/pull/2812 rel="external nofollow noreferrer" target=_blank>Alexandre Botcharov</a></li><li>Ajouté le <code class=syntax>max_fetch_partition_retries_count</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/2831 rel="external nofollow noreferrer" target=_blank>#2831</a></li><li>Ajouté le <code class=syntax>prefer_localhost_replica</code> paramètre permettant de désactiver la préférence pour une réplique locale et d'accéder à une réplique locale sans interaction entre processus. <a href=https://github.com/ClickHouse/ClickHouse/pull/2832 rel="external nofollow noreferrer" target=_blank>#2832</a></li><li>Le <code class=syntax>quantileExact</code> fonction d'agrégation retourne <code class=syntax>nan</code> dans le cas de l'agrégation sur un vide <code class=syntax>Float32</code> ou <code class=syntax>Float64</code> définir. <a href=https://github.com/ClickHouse/ClickHouse/pull/2855 rel="external nofollow noreferrer" target=_blank>Sundy Li</a></li></ul><h4 id=bug-fixes-14>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-14 title="Permanent link"> </a></h4><ul><li>Suppression de l'échappement inutile des paramètres de chaîne de connexion pour ODBC, ce qui rendait impossible l'établissement d'une connexion. Cette erreur s'est produite dans la version 18.6.0.</li><li>Fixe la logique de traitement <code class=syntax>REPLACE PARTITION</code> les commandes dans la file d'attente de réplication. Si il y a deux <code class=syntax>REPLACE</code> pour la même partition, la logique incorrecte pourrait entraîner l'un d'entre eux de rester dans la file d'attente de réplication et ne pas être exécuté. <a href=https://github.com/ClickHouse/ClickHouse/pull/2814 rel="external nofollow noreferrer" target=_blank>#2814</a></li><li>Correction d'un bug de fusion lorsque toutes les parties de données étaient vides (parties formées à partir d'une fusion ou <code class=syntax>ALTER DELETE</code> si toutes les données ont été supprimées). Ce bug est apparu dans la version 18.1.0. <a href=https://github.com/ClickHouse/ClickHouse/pull/2930 rel="external nofollow noreferrer" target=_blank>#2930</a></li><li>Correction d'une erreur pour simultanées <code class=syntax>Set</code> ou <code class=syntax>Join</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2823 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Correction de l' <code class=syntax>Block structure mismatch in UNION stream: different number of columns</code> erreur qui s'est produite pour <code class=syntax>UNION ALL</code> requêtes dans une sous-requête si l'un des <code class=syntax>SELECT</code> les requêtes contiennent des noms de colonnes en double. <a href=https://github.com/ClickHouse/ClickHouse/pull/2094 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a></li><li>Correction d'une fuite de mémoire si une exception se produisait lors de la connexion à un serveur MySQL.</li><li>Correction d'un code de réponse clickhouse-client incorrect en cas d'erreur de requête.</li><li>Correction d'un comportement incorrect des vues matérialisées contenant DISTINCT. <a href=https://github.com/ClickHouse/ClickHouse/issues/2795 rel="external nofollow noreferrer" target=_blank>#2795</a></li></ul><h4 id=backward-incompatible-changes-4>Modifications Incompatibles En Arrière<a class=headerlink href=../amp/#backward-incompatible-changes-4 title="Permanent link"> </a></h4><ul><li>Suppression de la prise en charge des requêtes CHECK TABLE pour les tables distribuées.</li></ul><h4 id=build-changes-3>Construire Des Changements:<a class=headerlink href=../amp/#build-changes-3 title="Permanent link"> </a></h4><ul><li>L'allocateur a été remplacé: <code class=syntax>jemalloc</code> est maintenant utilisé à la place de <code class=syntax>tcmalloc</code>. Dans certains scénarios, cela augmente la vitesse jusqu'à 20%. Cependant, il y a des questions qui ont ralenti jusqu'à 20%. La consommation de mémoire a été réduite d'environ 10% dans certains scénarios, avec une meilleure stabilité. Avec des charges très compétitives, l'utilisation du processeur dans l'espace utilisateur et dans le système ne montre qu'une légère augmentation. <a href=https://github.com/ClickHouse/ClickHouse/pull/2773 rel="external nofollow noreferrer" target=_blank>#2773</a></li><li>L'utilisation de libressl à partir d'un sous-module. <a href=https://github.com/ClickHouse/ClickHouse/pull/1983 rel="external nofollow noreferrer" target=_blank>#1983</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/2807 rel="external nofollow noreferrer" target=_blank>#2807</a></li><li>Utilisation d'unixodbc à partir d'un sous-module. <a href=https://github.com/ClickHouse/ClickHouse/pull/2789 rel="external nofollow noreferrer" target=_blank>#2789</a></li><li>L'utilisation de mariadb-connecteur-c à partir d'un sous-module. <a href=https://github.com/ClickHouse/ClickHouse/pull/2785 rel="external nofollow noreferrer" target=_blank>#2785</a></li><li>Ajout de fichiers de test fonctionnels au référentiel qui dépendent de la disponibilité des données de test (pour le moment, sans les données de test elles-mêmes).</li></ul><h2 id=clickhouse-release-18-6>Clickhouse Version 18.6<a class=headerlink href=../amp/#clickhouse-release-18-6 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-6-0-2018-08-02>Clickhouse Version 18.6.0, 2018-08-02<a class=headerlink href=../amp/#clickhouse-release-18-6-0-2018-08-02 title="Permanent link"> </a></h3><h4 id=new-features-6>Nouveauté:<a class=headerlink href=../amp/#new-features-6 title="Permanent link"> </a></h4><ul><li>Ajout du support pour les expressions on pour la syntaxe JOIN ON:<br><code class=syntax>JOIN ON Expr([table.]column ...) = Expr([table.]column, ...) [AND Expr([table.]column, ...) = Expr([table.]column, ...) ...]</code><br> L'expression doit être une chaîne d'égalités rejoint par l'opérateur ET. De chaque côté de l'égalité peut être une expression arbitraire sur les colonnes de l'une des tables. L'utilisation de noms de colonnes entièrement qualifiés est prise en charge (<code class=syntax>table.name</code>, <code class=syntax>database.table.name</code>, <code class=syntax>table_alias.name</code>, <code class=syntax>subquery_alias.name</code>) pour la bonne table. <a href=https://github.com/ClickHouse/ClickHouse/pull/2742 rel="external nofollow noreferrer" target=_blank>#2742</a></li><li>HTTPS peut être activé pour la réplication. <a href=https://github.com/ClickHouse/ClickHouse/pull/2760 rel="external nofollow noreferrer" target=_blank>#2760</a></li></ul><h4 id=improvements-6>Amélioration:<a class=headerlink href=../amp/#improvements-6 title="Permanent link"> </a></h4><ul><li>Le serveur transmet le composant patch de sa version au client. Les données sur le composant de version de correctif sont <code class=syntax>system.processes</code> et <code class=syntax>query_log</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/2646 rel="external nofollow noreferrer" target=_blank>#2646</a></li></ul><h2 id=clickhouse-release-18-5>Clickhouse Version 18.5<a class=headerlink href=../amp/#clickhouse-release-18-5 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-5-1-2018-07-31>Clickhouse Version 18.5.1, 2018-07-31<a class=headerlink href=../amp/#clickhouse-release-18-5-1-2018-07-31 title="Permanent link"> </a></h3><h4 id=new-features-7>Nouveauté:<a class=headerlink href=../amp/#new-features-7 title="Permanent link"> </a></h4><ul><li>Ajout de la fonction de hachage <code class=syntax>murmurHash2_32</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2756 rel="external nofollow noreferrer" target=_blank>#2756</a>.</li></ul><h4 id=improvements-7>Amélioration:<a class=headerlink href=../amp/#improvements-7 title="Permanent link"> </a></h4><ul><li>Maintenant, vous pouvez utiliser le <code class=syntax>from_env</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2741 rel="external nofollow noreferrer" target=_blank>#2741</a> attribut pour définir des valeurs dans les fichiers de configuration à partir de variables d'environnement.</li><li>Ajout de versions insensibles à la casse <code class=syntax>coalesce</code>, <code class=syntax>ifNull</code>, et <code class=syntax>nullIf functions</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2752 rel="external nofollow noreferrer" target=_blank>#2752</a>.</li></ul><h4 id=bug-fixes-15>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-15 title="Permanent link"> </a></h4><ul><li>Correction d'un bug possible lors du démarrage d'une réplique <a href=https://github.com/ClickHouse/ClickHouse/pull/2759 rel="external nofollow noreferrer" target=_blank>#2759</a>.</li></ul><h2 id=clickhouse-release-18-4>Clickhouse Version 18.4<a class=headerlink href=../amp/#clickhouse-release-18-4 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-4-0-2018-07-28>Clickhouse Version 18.4.0, 2018-07-28<a class=headerlink href=../amp/#clickhouse-release-18-4-0-2018-07-28 title="Permanent link"> </a></h3><h4 id=new-features-8>Nouveauté:<a class=headerlink href=../amp/#new-features-8 title="Permanent link"> </a></h4><ul><li>Tables système ajoutées: <code class=syntax>formats</code>, <code class=syntax>data_type_families</code>, <code class=syntax>aggregate_function_combinators</code>, <code class=syntax>table_functions</code>, <code class=syntax>table_engines</code>, <code class=syntax>collations</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2721 rel="external nofollow noreferrer" target=_blank>#2721</a>.</li><li>Ajout de la possibilité d'utiliser une fonction de table au lieu d'un tableau en argument d'une <code class=syntax>remote</code> ou <code class=syntax>cluster table function</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2708 rel="external nofollow noreferrer" target=_blank>#2708</a>.</li><li>Soutien pour <code class=syntax>HTTP Basic</code> l'authentification dans le protocole de réplication <a href=https://github.com/ClickHouse/ClickHouse/pull/2727 rel="external nofollow noreferrer" target=_blank>#2727</a>.</li><li>Le <code class=syntax>has</code> fonction permet de rechercher une valeur numérique dans un tableau de <code class=syntax>Enum</code> valeur <a href=https://github.com/ClickHouse/ClickHouse/pull/2699 rel="external nofollow noreferrer" target=_blank>Maxim Khrisanfov</a>.</li><li>Prise en charge de l'ajout de séparateurs de messages arbitraires lors de la lecture de <code class=syntax>Kafka</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2701 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>.</li></ul><h4 id=improvements-8>Amélioration:<a class=headerlink href=../amp/#improvements-8 title="Permanent link"> </a></h4><ul><li>Le <code class=syntax>ALTER TABLE t DELETE WHERE</code> la requête ne réécrit pas les parties de données qui n'ont pas été affectées par la condition WHERE <a href=https://github.com/ClickHouse/ClickHouse/pull/2694 rel="external nofollow noreferrer" target=_blank>#2694</a>.</li><li>Le <code class=syntax>use_minimalistic_checksums_in_zookeeper</code> option pour <code class=syntax>ReplicatedMergeTree</code> des tables est activé par défaut. Ce paramètre a été ajouté dans la version 1.1.54378, 2018-04-16. Les Versions antérieures à 1.1.54378 ne peuvent plus être installées.</li><li>La prise en charge de <code class=syntax>KILL</code> et <code class=syntax>OPTIMIZE</code> requêtes qui spécifient <code class=syntax>ON CLUSTER</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2689 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>.</li></ul><h4 id=bug-fixes-16>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-16 title="Permanent link"> </a></h4><ul><li>Correction de l'erreur <code class=syntax>Column ... is not under an aggregate function and not in GROUP BY</code> pour l'agrégation avec une expression. Ce bug est apparu dans la version 18.1.0. (<a href=https://github.com/ClickHouse/ClickHouse/commit/bbdd780be0be06a0f336775941cdd536878dd2c2 rel="external nofollow noreferrer" target=_blank>bbdd780b</a>)</li><li>Correction d'un bug dans l' <code class=syntax>windowFunnel aggregate function</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/2735 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>.</li><li>Correction d'un bug dans l' <code class=syntax>anyHeavy</code> fonction d'agrégation (<a href=https://github.com/ClickHouse/ClickHouse/commit/a2101df25a6a0fba99aa71f8793d762af2b801ee rel="external nofollow noreferrer" target=_blank>a2101df2</a>)</li><li>Correction d'un crash du serveur lors de l'utilisation du <code class=syntax>countArray()</code> fonction d'agrégation.</li></ul><h4 id=backward-incompatible-changes-5>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-5 title="Permanent link"> </a></h4><ul><li>Paramètres pour <code class=syntax>Kafka</code> moteur a été changé de <code class=syntax>Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_schema, kafka_num_consumers])</code> de <code class=syntax>Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_row_delimiter, kafka_schema, kafka_num_consumers])</code>. Si vos tables utilisent <code class=syntax>kafka_schema</code> ou <code class=syntax>kafka_num_consumers</code> paramètres, vous devez modifier manuellement les fichiers de métadonnées <code class=syntax>path/metadata/database/table.sql</code> et d'ajouter <code class=syntax>kafka_row_delimiter</code> paramètre avec <code class=syntax>''</code> valeur.</li></ul><h2 id=clickhouse-release-18-1>Clickhouse Version 18.1<a class=headerlink href=../amp/#clickhouse-release-18-1 title="Permanent link"> </a></h2><h3 id=clickhouse-release-18-1-0-2018-07-23>Clickhouse Version 18.1.0, 2018-07-23<a class=headerlink href=../amp/#clickhouse-release-18-1-0-2018-07-23 title="Permanent link"> </a></h3><h4 id=new-features-9>Nouveauté:<a class=headerlink href=../amp/#new-features-9 title="Permanent link"> </a></h4><ul><li>Soutien pour le <code class=syntax>ALTER TABLE t DELETE WHERE</code> requête pour les tables MergeTree non répliquées (<a href=https://github.com/ClickHouse/ClickHouse/pull/2634 rel="external nofollow noreferrer" target=_blank>#2634</a>).</li><li>Prise en charge des types arbitraires pour <code class=syntax>uniq*</code> famille de fonctions agrégées (<a href=https://github.com/ClickHouse/ClickHouse/issues/2010 rel="external nofollow noreferrer" target=_blank>#2010</a>).</li><li>Prise en charge des types arbitraires dans les opérateurs de comparaison (<a href=https://github.com/ClickHouse/ClickHouse/issues/2026 rel="external nofollow noreferrer" target=_blank>#2026</a>).</li><li>Le <code class=syntax>users.xml</code> fichier permet de définir un masque de sous-réseau au format <code class=syntax>10.0.0.1/255.255.255.0</code>. Ceci est nécessaire pour utiliser des masques pour les réseaux IPv6 avec des zéros au milieu (<a href=https://github.com/ClickHouse/ClickHouse/pull/2637 rel="external nofollow noreferrer" target=_blank>#2637</a>).</li><li>Ajouté le <code class=syntax>arrayDistinct</code> fonction (<a href=https://github.com/ClickHouse/ClickHouse/pull/2670 rel="external nofollow noreferrer" target=_blank>#2670</a>).</li><li>Le moteur SummingMergeTree peut maintenant fonctionner avec des colonnes de type AggregateFunction (<a href=https://github.com/ClickHouse/ClickHouse/pull/2566 rel="external nofollow noreferrer" target=_blank>Constantin S. Pan</a>).</li></ul><h4 id=improvements-9>Amélioration:<a class=headerlink href=../amp/#improvements-9 title="Permanent link"> </a></h4><ul><li>Modification du schéma de numérotation pour les versions de version. Maintenant, la première partie contient l'année de sortie (A. D., fuseau horaire de Moscou, moins 2000), la deuxième partie contient le nombre de changements majeurs (augmente pour la plupart des versions), et la troisième partie est la version patch. Les versions sont toujours rétrocompatibles, sauf indication contraire dans le changelog.</li><li>Conversions plus rapides de nombres à virgule flottante en une chaîne (<a href=https://github.com/ClickHouse/ClickHouse/pull/2664 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>).</li><li>Si certaines lignes ont été ignorées lors d'une insertion en raison d'erreurs d'analyse (ceci est possible avec <code class=syntax>input_allow_errors_num</code> et <code class=syntax>input_allow_errors_ratio</code> paramètres activé), le nombre de lignes ignorées est maintenant écrit dans le journal du serveur (<a href=https://github.com/ClickHouse/ClickHouse/pull/2669 rel="external nofollow noreferrer" target=_blank>Leonardo Cecchi</a>).</li></ul><h4 id=bug-fixes-17>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-17 title="Permanent link"> </a></h4><ul><li>Correction de la commande TRUNCATE pour les tables temporaires (<a href=https://github.com/ClickHouse/ClickHouse/pull/2624 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>).</li><li>Correction d'une impasse rare dans la bibliothèque client ZooKeeper qui se produisait lorsqu'une erreur réseau se produisait lors de la lecture de la réponse (<a href=https://github.com/ClickHouse/ClickHouse/commit/c315200e64b87e44bdf740707fc857d1fdf7e947 rel="external nofollow noreferrer" target=_blank>c315200</a>).</li><li>Correction d'une erreur lors d'une conversion en types Nullable (<a href=https://github.com/ClickHouse/ClickHouse/issues/1322 rel="external nofollow noreferrer" target=_blank>#1322</a>).</li><li>Correction du résultat incorrect de l' <code class=syntax>maxIntersection()</code> fonction lorsque les limites des intervalles de coïncidé (<a href=https://github.com/ClickHouse/ClickHouse/pull/2657 rel="external nofollow noreferrer" target=_blank>Michael Furmur</a>).</li><li>Correction d'une transformation incorrecte de la chaîne d'expression OR dans un argument de fonction (<a href=https://github.com/ClickHouse/ClickHouse/pull/2663 rel="external nofollow noreferrer" target=_blank>chenxing-xc</a>).</li><li>Fixe une dégradation des performances pour les requêtes contenant <code class=syntax>IN (subquery)</code> expressions à l'intérieur d'une autre sous-requête (<a href=https://github.com/ClickHouse/ClickHouse/issues/2571 rel="external nofollow noreferrer" target=_blank>#2571</a>).</li><li>Fixe incompatibilité entre les serveurs avec des versions différentes requêtes distribuées qui utilisent un <code class=syntax>CAST</code> fonction qui n'est pas en majuscules (<a href=https://github.com/ClickHouse/ClickHouse/commit/fe8c4d64e434cacd4ceef34faa9005129f2190a5 rel="external nofollow noreferrer" target=_blank>fe8c4d6</a>).</li><li>Ajout de guillemets manquants d'identifiants pour les requêtes à un SGBD externe (<a href=https://github.com/ClickHouse/ClickHouse/issues/2635 rel="external nofollow noreferrer" target=_blank>#2635</a>).</li></ul><h4 id=backward-incompatible-changes-6>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-6 title="Permanent link"> </a></h4><ul><li>La conversion d'une chaîne contenant le nombre zéro en DateTime ne fonctionne pas. Exemple: <code class=syntax>SELECT toDateTime('0')</code>. C'est aussi la raison pour laquelle <code class=syntax>DateTime DEFAULT '0'</code> ne fonctionne pas dans les tableaux, ainsi que <code class=syntax>&lt;null_value&gt;0&lt;/null_value&gt;</code> dans les dictionnaires. Solution: remplacer <code class=syntax>0</code> avec <code class=syntax>0000-00-00 00:00:00</code>.</li></ul><h2 id=clickhouse-release-1-1>Clickhouse Version 1.1<a class=headerlink href=../amp/#clickhouse-release-1-1 title="Permanent link"> </a></h2><h3 id=clickhouse-release-1-1-54394-2018-07-12>Clickhouse Version 1.1.54394, 2018-07-12<a class=headerlink href=../amp/#clickhouse-release-1-1-54394-2018-07-12 title="Permanent link"> </a></h3><h4 id=new-features-10>Nouveauté:<a class=headerlink href=../amp/#new-features-10 title="Permanent link"> </a></h4><ul><li>Ajouté le <code class=syntax>histogram</code> fonction d'agrégation (<a href=https://github.com/ClickHouse/ClickHouse/pull/2521 rel="external nofollow noreferrer" target=_blank>Mikhail Surin</a>).</li><li>Maintenant <code class=syntax>OPTIMIZE TABLE ... FINAL</code> peut être utilisé sans spécifier de partitions pour <code class=syntax>ReplicatedMergeTree</code> (<a href=https://github.com/ClickHouse/ClickHouse/pull/2600 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>).</li></ul><h4 id=bug-fixes-18>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-18 title="Permanent link"> </a></h4><ul><li>Correction d'un problème avec un très petit délai d'attente pour les sockets (une seconde) pour la lecture et l'écriture lors de l'envoi et du téléchargement de données répliquées, ce qui rendait impossible le téléchargement de pièces plus grandes s'il y avait une charge sur le réseau ou le disque (cela entraînait des tentatives cycliques de téléchargement de pièces). Cette erreur s'est produite dans la version 1.1.54388.</li><li>Correction de problèmes lors de l'utilisation de chroot dans ZooKeeper si vous avez inséré des blocs de données en double dans la table.</li><li>Le <code class=syntax>has</code> la fonction fonctionne maintenant correctement pour un tableau avec les valeurs null éléments (<a href=https://github.com/ClickHouse/ClickHouse/issues/2115 rel="external nofollow noreferrer" target=_blank>#2115</a>).</li><li>Le <code class=syntax>system.tables</code> table fonctionne maintenant correctement lorsqu'il est utilisé dans les requêtes distribuées. Le <code class=syntax>metadata_modification_time</code> et <code class=syntax>engine_full</code> les colonnes sont maintenant non-virtuel. Correction d'une erreur qui s'est produite si seules ces colonnes étaient interrogées à partir de la table.</li><li>Correction de la façon dont un vide <code class=syntax>TinyLog</code> table fonctionne après l'insertion d'un bloc de données vide (<a href=https://github.com/ClickHouse/ClickHouse/issues/2563 rel="external nofollow noreferrer" target=_blank>#2563</a>).</li><li>Le <code class=syntax>system.zookeeper</code> table fonctionne si la valeur du nœud dans ZooKeeper est NULL.</li></ul><h3 id=clickhouse-release-1-1-54390-2018-07-06>Clickhouse Version 1.1.54390, 2018-07-06<a class=headerlink href=../amp/#clickhouse-release-1-1-54390-2018-07-06 title="Permanent link"> </a></h3><h4 id=new-features-11>Nouveauté:<a class=headerlink href=../amp/#new-features-11 title="Permanent link"> </a></h4><ul><li>Les requêtes peuvent être envoyées <code class=syntax>multipart/form-data</code> format (dans le <code class=syntax>query</code> champ), ce qui est utile si des données externes sont également envoyées pour le traitement de la requête (<a href=https://github.com/ClickHouse/ClickHouse/pull/2490 rel="external nofollow noreferrer" target=_blank>Olga Hvostikova</a>).</li><li>Ajout de la possibilité d'activer ou de désactiver le traitement des guillemets simples ou doubles lors de la lecture de données au format CSV. Vous pouvez configurer cela dans le <code class=syntax>format_csv_allow_single_quotes</code> et <code class=syntax>format_csv_allow_double_quotes</code> paramètre (<a href=https://github.com/ClickHouse/ClickHouse/pull/2574 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>).</li><li>Maintenant <code class=syntax>OPTIMIZE TABLE ... FINAL</code> peut être utilisé sans spécifier la partition pour les variantes non répliquées de <code class=syntax>MergeTree</code> (<a href=https://github.com/ClickHouse/ClickHouse/pull/2599 rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>).</li></ul><h4 id=improvements-10>Amélioration:<a class=headerlink href=../amp/#improvements-10 title="Permanent link"> </a></h4><ul><li>Amélioration des performances, réduction de la consommation de mémoire et suivi correct de la consommation de mémoire avec l'utilisation de L'opérateur IN lorsqu'un index de table peut être utilisé (<a href=https://github.com/ClickHouse/ClickHouse/pull/2584 rel="external nofollow noreferrer" target=_blank>#2584</a>).</li><li>Retiré redondant vérification des sommes de contrôle lors de l'ajout d'une partie des données. Ceci est important lorsqu'il y a un grand nombre de répliques, car dans ces cas, le nombre total de contrôles était égal à n^2.</li><li>Ajout du support pour <code class=syntax>Array(Tuple(...))</code> arguments en faveur de la <code class=syntax>arrayEnumerateUniq</code> fonction (<a href=https://github.com/ClickHouse/ClickHouse/pull/2573 rel="external nofollow noreferrer" target=_blank>#2573</a>).</li><li>Ajouter <code class=syntax>Nullable</code> soutien pour le <code class=syntax>runningDifference</code> fonction (<a href=https://github.com/ClickHouse/ClickHouse/pull/2594 rel="external nofollow noreferrer" target=_blank>#2594</a>).</li><li>Amélioration des performances d'analyse des requêtes lorsqu'il existe un très grand nombre d'expressions (<a href=https://github.com/ClickHouse/ClickHouse/pull/2572 rel="external nofollow noreferrer" target=_blank>#2572</a>).</li><li>Sélection plus rapide des parties de données à fusionner <code class=syntax>ReplicatedMergeTree</code> table. Récupération plus rapide de la session ZooKeeper (<a href=https://github.com/ClickHouse/ClickHouse/pull/2597 rel="external nofollow noreferrer" target=_blank>#2597</a>).</li><li>Le <code class=syntax>format_version.txt</code> fichier pour <code class=syntax>MergeTree</code> tables est recréée si elle est manquante, ce qui est logique si ClickHouse est lancé après avoir copié la structure de répertoire sans fichiers (<a href=https://github.com/ClickHouse/ClickHouse/pull/2593 rel="external nofollow noreferrer" target=_blank>Ciprian Hacman</a>).</li></ul><h4 id=bug-fixes-19>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-19 title="Permanent link"> </a></h4><ul><li>Correction d'un bug lorsque vous travaillez avec ZooKeeper qui pourrait rendre impossible la récupération de la session et des États en lecture seule des tables avant de redémarrer le serveur.</li><li>Correction d'un bug lorsque vous travaillez avec ZooKeeper qui pourrait entraîner la suppression des anciens nœuds si la session est interrompue.</li><li>Correction d'une erreur dans le <code class=syntax>quantileTDigest</code> fonction pour les arguments Float (ce bug a été introduit dans la version 1.1.54388) (<a href=https://github.com/ClickHouse/ClickHouse/pull/2553 rel="external nofollow noreferrer" target=_blank>Mikhail Surin</a>).</li><li>Correction d'un bug dans l'index des tables MergeTree si la colonne de clé primaire est située à l'intérieur de la fonction de conversion des types entre des entiers signés et non signés de même taille (<a href=https://github.com/ClickHouse/ClickHouse/pull/2603 rel="external nofollow noreferrer" target=_blank>#2603</a>).</li><li>Fixe erreur de segmentation si <code class=syntax>macros</code> sont utilisés mais ils ne sont pas dans le fichier de configuration (<a href=https://github.com/ClickHouse/ClickHouse/pull/2570 rel="external nofollow noreferrer" target=_blank>#2570</a>).</li><li>Correction du passage à la base de données par défaut lors de la reconnexion du client (<a href=https://github.com/ClickHouse/ClickHouse/pull/2583 rel="external nofollow noreferrer" target=_blank>#2583</a>).</li><li>Correction d'un bug qui se produisait lors de la <code class=syntax>use_index_for_in_with_subqueries</code> paramètre a été désactivé.</li></ul><h4 id=security-fix-1>Correction De Sécurité:<a class=headerlink href=../amp/#security-fix-1 title="Permanent link"> </a></h4><ul><li>L'envoi de fichiers n'est plus possible lorsqu'il est connecté à MySQL (<code class=syntax>LOAD DATA LOCAL INFILE</code>).</li></ul><h3 id=clickhouse-release-1-1-54388-2018-06-28>Clickhouse Version 1.1.54388, 2018-06-28<a class=headerlink href=../amp/#clickhouse-release-1-1-54388-2018-06-28 title="Permanent link"> </a></h3><h4 id=new-features-12>Nouveauté:<a class=headerlink href=../amp/#new-features-12 title="Permanent link"> </a></h4><ul><li>Soutien pour le <code class=syntax>ALTER TABLE t DELETE WHERE</code> requête pour les tables répliquées. Ajouté le <code class=syntax>system.mutations</code> tableau pour suivre la progression de ce type de requêtes.</li><li>Soutien pour le <code class=syntax>ALTER TABLE t [REPLACE|ATTACH] PARTITION</code> requête pour les tables * MergeTree.</li><li>Soutien pour le <code class=syntax>TRUNCATE TABLE</code> requête (<a href=https://github.com/ClickHouse/ClickHouse/pull/2260 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Plusieurs nouveaux <code class=syntax>SYSTEM</code> requêtes pour les tables répliquées (<code class=syntax>RESTART REPLICAS</code>, <code class=syntax>SYNC REPLICA</code>, <code class=syntax>[STOP|START] [MERGES|FETCHES|SENDS REPLICATED|REPLICATION QUEUES]</code>).</li><li>Ajout de la possibilité d'écrire dans une table avec le moteur MySQL et la fonction de table correspondante (<a href=https://github.com/ClickHouse/ClickHouse/pull/2294 rel="external nofollow noreferrer" target=_blank>sundy-li</a>).</li><li>Ajouté le <code class=syntax>url()</code> fonction de table et le <code class=syntax>URL</code> tableau moteur (<a href=https://github.com/ClickHouse/ClickHouse/pull/2501 rel="external nofollow noreferrer" target=_blank>Alexander Sapin</a>).</li><li>Ajouté le <code class=syntax>windowFunnel</code> fonction d'agrégation (<a href=https://github.com/ClickHouse/ClickHouse/pull/2352 rel="external nofollow noreferrer" target=_blank>sundy-li</a>).</li><li>Nouveau <code class=syntax>startsWith</code> et <code class=syntax>endsWith</code> fonctions pour les chaînes (<a href=https://github.com/ClickHouse/ClickHouse/pull/2429 rel="external nofollow noreferrer" target=_blank>Vadim Plakhtinsky</a>).</li><li>Le <code class=syntax>numbers()</code> la fonction table vous permet maintenant de spécifier le décalage (<a href=https://github.com/ClickHouse/ClickHouse/pull/2535 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>).</li><li>Le mot de passe pour <code class=syntax>clickhouse-client</code> peut être saisi de manière interactive.</li><li>Les journaux du serveur peuvent maintenant être envoyés à syslog (<a href=https://github.com/ClickHouse/ClickHouse/pull/2459 rel="external nofollow noreferrer" target=_blank>Alexander Krasheninnikov</a>).</li><li>Prise en charge de la connexion dans les dictionnaires avec une source de bibliothèque partagée (<a href=https://github.com/ClickHouse/ClickHouse/pull/2472 rel="external nofollow noreferrer" target=_blank>Alexander Sapin</a>).</li><li>Prise en charge des délimiteurs CSV personnalisés (<a href=https://github.com/ClickHouse/ClickHouse/pull/2263 rel="external nofollow noreferrer" target=_blank>Ivan Joukov</a>)</li><li>Ajouté le <code class=syntax>date_time_input_format</code> paramètre. Si vous basculez ce paramètre sur <code class=syntax>'best_effort'</code>, Les valeurs DateTime seront lues dans un large éventail de formats.</li><li>Ajouté le <code class=syntax>clickhouse-obfuscator</code> utilitaire pour l'obscurcissement des données. Exemple d'utilisation: publication des données utilisées dans les tests de performance.</li></ul><h4 id=experimental-features-2>Caractéristiques Expérimentales:<a class=headerlink href=../amp/#experimental-features-2 title="Permanent link"> </a></h4><ul><li>Ajout de la possibilité de calculer <code class=syntax>and</code> arguments uniquement là où ils sont nécessaires (<a href=https://github.com/ClickHouse/ClickHouse/pull/2272 rel="external nofollow noreferrer" target=_blank>Anastasia Tsarkova</a>)</li><li>La compilation JIT en code natif est maintenant disponible pour certaines expressions (<a href=https://github.com/ClickHouse/ClickHouse/pull/2277 rel="external nofollow noreferrer" target=_blank>pyos</a>).</li></ul><h4 id=bug-fixes-20>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-20 title="Permanent link"> </a></h4><ul><li>Les doublons n'apparaissent plus pour une requête avec <code class=syntax>DISTINCT</code> et <code class=syntax>ORDER BY</code>.</li><li>Les requêtes avec <code class=syntax>ARRAY JOIN</code> et <code class=syntax>arrayFilter</code> ne renvoie plus un résultat incorrect.</li><li>Correction d'une erreur lors de la lecture d'une colonne de tableau à partir d'une structure Imbriquée (<a href=https://github.com/ClickHouse/ClickHouse/issues/2066 rel="external nofollow noreferrer" target=_blank>#2066</a>).</li><li>Correction d'une erreur lors de l'analyse des requêtes avec une clause HAVING comme <code class=syntax>HAVING tuple IN (...)</code>.</li><li>Correction d'une erreur lors de l'analyse des requêtes avec récursive des alias.</li><li>Correction d'une erreur lors de la lecture de ReplacingMergeTree avec une condition dans PREWHERE qui filtre Toutes les lignes (<a href=https://github.com/ClickHouse/ClickHouse/issues/2525 rel="external nofollow noreferrer" target=_blank>#2525</a>).</li><li>Les paramètres de profil utilisateur n'ont pas été appliqués lors de l'utilisation de sessions dans L'interface HTTP.</li><li>Correction de la façon dont les paramètres sont appliqués à partir des paramètres de ligne de commande dans clickhouse-local.</li><li>La bibliothèque client ZooKeeper utilise maintenant le délai d'attente de session reçu du serveur.</li><li>Correction d'un bug dans la bibliothèque client ZooKeeper lorsque le client attendait la réponse du serveur plus longtemps que le délai d'attente.</li><li>Correction de l'élagage des pièces pour les requêtes avec des conditions sur les colonnes de clé de partition (<a href=https://github.com/ClickHouse/ClickHouse/issues/2342 rel="external nofollow noreferrer" target=_blank>#2342</a>).</li><li>Les fusions sont maintenant possibles après <code class=syntax>CLEAR COLUMN IN PARTITION</code> (<a href=https://github.com/ClickHouse/ClickHouse/issues/2315 rel="external nofollow noreferrer" target=_blank>#2315</a>).</li><li>Le mappage de Type dans la fonction de table ODBC a été corrigé (<a href=https://github.com/ClickHouse/ClickHouse/pull/2268 rel="external nofollow noreferrer" target=_blank>sundy-li</a>).</li><li>Les comparaisons de Type ont été corrigées pour <code class=syntax>DateTime</code> avec et sans le fuseau horaire (<a href=https://github.com/ClickHouse/ClickHouse/pull/2400 rel="external nofollow noreferrer" target=_blank>Alexandre Botcharov</a>).</li><li>Correction de l'analyse syntaxique et du formatage <code class=syntax>CAST</code> opérateur.</li><li>Insertion fixe dans une vue matérialisée pour le moteur de table distribué (<a href=https://github.com/ClickHouse/ClickHouse/pull/2411 rel="external nofollow noreferrer" target=_blank>Babacar Diassé</a>).</li><li>Correction d'une condition de concurrence lors de l'écriture de données <code class=syntax>Kafka</code> moteur aux vues matérialisées (<a href=https://github.com/ClickHouse/ClickHouse/pull/2448 rel="external nofollow noreferrer" target=_blank>Yangkuan Liu</a>).</li><li>Correction de SSRF dans la fonction de table remote ().</li><li>Comportement de sortie fixe de <code class=syntax>clickhouse-client</code> en mode multi-lignes (<a href=https://github.com/ClickHouse/ClickHouse/issues/2510 rel="external nofollow noreferrer" target=_blank>#2510</a>).</li></ul><h4 id=improvements-11>Amélioration:<a class=headerlink href=../amp/#improvements-11 title="Permanent link"> </a></h4><ul><li>Les tâches d'arrière plan dans les tables répliquées sont maintenant effectuées dans un pool de threads plutôt que dans des threads séparés (<a href=https://github.com/ClickHouse/ClickHouse/pull/1722 rel="external nofollow noreferrer" target=_blank>Silviu Caragea</a>).</li><li>Amélioration des performances de compression LZ4.</li><li>Analyse plus rapide pour les requêtes avec un grand nombre de jointures et de sous-requêtes.</li><li>Le cache DNS est maintenant mis à jour automatiquement lorsqu'il y a trop d'erreurs réseau.</li><li>Les insertions de Table ne se produisent plus si l'insertion dans l'une des vues matérialisées n'est pas possible car elle comporte trop de parties.</li><li>Correction de l'écart dans les compteurs d'événements <code class=syntax>Query</code>, <code class=syntax>SelectQuery</code>, et <code class=syntax>InsertQuery</code>.</li><li>Des Expressions comme <code class=syntax>tuple IN (SELECT tuple)</code> sont autorisés si les types de tuple correspondent.</li><li>Un serveur avec des tables répliquées peut démarrer même si vous n'avez pas configuré ZooKeeper.</li><li>Lors du calcul du nombre de cœurs CPU disponibles, les limites sur les groupes cgroups sont maintenant prises en compte (<a href=https://github.com/ClickHouse/ClickHouse/pull/2325 rel="external nofollow noreferrer" target=_blank>Atri Sharma</a>).</li><li>Ajouté chown pour les répertoires de configuration dans le fichier de configuration systemd (<a href=https://github.com/ClickHouse/ClickHouse/pull/2421 rel="external nofollow noreferrer" target=_blank>Mikhaïl Shirjaeva</a>).</li></ul><h4 id=build-changes-4>Construire Des Changements:<a class=headerlink href=../amp/#build-changes-4 title="Permanent link"> </a></h4><ul><li>Le compilateur gcc8 peut être utilisé pour les builds.</li><li>Ajout de la possibilité de construire llvm à partir du sous-module.</li><li>La version de la bibliothèque librdkafka a été mise à jour vers v0. 11. 4.</li><li>Ajout de la possibilité d'utiliser la bibliothèque libcpuid du système. La version de la bibliothèque a été mise à jour à 0.4.0.</li><li>Correction de la construction en utilisant la bibliothèque vectorclass (<a href=https://github.com/ClickHouse/ClickHouse/pull/2274 rel="external nofollow noreferrer" target=_blank>Babacar Diassé</a>).</li><li>Cmake génère maintenant des fichiers pour ninja par défaut (comme lors de l'utilisation <code class=syntax>-G Ninja</code>).</li><li>Ajout de la possibilité d'utiliser la bibliothèque libtinfo au lieu de libtermcap (<a href=https://github.com/ClickHouse/ClickHouse/pull/2519 rel="external nofollow noreferrer" target=_blank>Georgy Kondratiev</a>).</li><li>Correction d'un conflit de fichier d'en-tête dans Fedora Rawhide (<a href=https://github.com/ClickHouse/ClickHouse/issues/2520 rel="external nofollow noreferrer" target=_blank>#2520</a>).</li></ul><h4 id=backward-incompatible-changes-7>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-7 title="Permanent link"> </a></h4><ul><li>Retiré échapper dans <code class=syntax>Vertical</code> et <code class=syntax>Pretty*</code> formats et supprimé le <code class=syntax>VerticalRaw</code> format.</li><li>Si des serveurs avec la version 1.1.54388 (ou plus récente) et des serveurs avec une version plus ancienne sont utilisés simultanément dans une requête distribuée et la requête a le <code class=syntax>cast(x, 'Type')</code> expression sans <code class=syntax>AS</code> mot clé et n'a pas le mot <code class=syntax>cast</code> en majuscules, une exception sera levée avec un message du genre <code class=syntax>Not found column cast(0, 'UInt8') in block</code>. Solution: mettez à jour le serveur sur l'ensemble du cluster.</li></ul><h3 id=clickhouse-release-1-1-54385-2018-06-01>Clickhouse Version 1.1.54385, 2018-06-01<a class=headerlink href=../amp/#clickhouse-release-1-1-54385-2018-06-01 title="Permanent link"> </a></h3><h4 id=bug-fixes-21>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-21 title="Permanent link"> </a></h4><ul><li>Correction d'une erreur qui, dans certains cas, provoquait le blocage des opérations de ZooKeeper.</li></ul><h3 id=clickhouse-release-1-1-54383-2018-05-22>Clickhouse Version 1.1.54383, 2018-05-22<a class=headerlink href=../amp/#clickhouse-release-1-1-54383-2018-05-22 title="Permanent link"> </a></h3><h4 id=bug-fixes-22>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-22 title="Permanent link"> </a></h4><ul><li>Correction d'un ralentissement de la file d'attente de réplication si une table a plusieurs répliques.</li></ul><h3 id=clickhouse-release-1-1-54381-2018-05-14>Clickhouse Version 1.1.54381, 2018-05-14<a class=headerlink href=../amp/#clickhouse-release-1-1-54381-2018-05-14 title="Permanent link"> </a></h3><h4 id=bug-fixes-23>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-23 title="Permanent link"> </a></h4><ul><li>Correction d'une fuite de nœuds dans ZooKeeper lorsque ClickHouse perd la connexion au serveur ZooKeeper.</li></ul><h3 id=clickhouse-release-1-1-54380-2018-04-21>Clickhouse Version 1.1.54380, 2018-04-21<a class=headerlink href=../amp/#clickhouse-release-1-1-54380-2018-04-21 title="Permanent link"> </a></h3><h4 id=new-features-13>Nouveauté:<a class=headerlink href=../amp/#new-features-13 title="Permanent link"> </a></h4><ul><li>Ajout de la fonction table <code class=syntax>file(path, format, structure)</code>. Un exemple de lecture d'octets depuis <code class=syntax>/dev/urandom</code>: <code class=syntax>ln -s /dev/urandom /var/lib/clickhouse/user_files/random``clickhouse-client -q "SELECT * FROM file('random', 'RowBinary', 'd UInt8') LIMIT 10"</code>.</li></ul><h4 id=improvements-12>Amélioration:<a class=headerlink href=../amp/#improvements-12 title="Permanent link"> </a></h4><ul><li>Les sous-requêtes peuvent être encapsulées <code class=syntax>()</code> crochets pour améliorer la lisibilité des requêtes. Exemple: <code class=syntax>(SELECT 1) UNION ALL (SELECT 1)</code>.</li><li>Simple <code class=syntax>SELECT</code> les requêtes de l' <code class=syntax>system.processes</code> le tableau ne sont pas inclus dans le <code class=syntax>max_concurrent_queries</code> limite.</li></ul><h4 id=bug-fixes-24>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-24 title="Permanent link"> </a></h4><ul><li>Correction d'un comportement incorrect de la <code class=syntax>IN</code> opérateur quand sélectionner à partir de <code class=syntax>MATERIALIZED VIEW</code>.</li><li>Correction d'un filtrage incorrect par index de partition dans des expressions comme <code class=syntax>partition_key_column IN (...)</code>.</li><li>Incapacité fixe à exécuter <code class=syntax>OPTIMIZE</code> requête sur réplica non leader si <code class=syntax>REANAME</code> a été effectuée sur la table.</li><li>Correction de l'erreur d'autorisation lors de l'exécution <code class=syntax>OPTIMIZE</code> ou <code class=syntax>ALTER</code> requêtes sur une réplique non-leader.</li><li>Fixe le gel de l' <code class=syntax>KILL QUERY</code>.</li><li>Correction d'une erreur dans la bibliothèque client ZooKeeper qui a conduit à la perte de montres, le gel de la file d'attente DDL distribuée, et des ralentissements dans la file d'attente de réplication si un non vide <code class=syntax>chroot</code> le préfixe est utilisé dans la configuration de ZooKeeper.</li></ul><h4 id=backward-incompatible-changes-8>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-8 title="Permanent link"> </a></h4><ul><li>Suppression du support pour les expressions comme <code class=syntax>(a, b) IN (SELECT (a, b))</code> (vous pouvez utiliser l'expression équivalente <code class=syntax>(a, b) IN (SELECT a, b)</code>). Dans les versions précédentes, ces expressions ont conduit à indéterminé <code class=syntax>WHERE</code> filtrage ou causé des erreurs.</li></ul><h3 id=clickhouse-release-1-1-54378-2018-04-16>Clickhouse Version 1.1.54378, 2018-04-16<a class=headerlink href=../amp/#clickhouse-release-1-1-54378-2018-04-16 title="Permanent link"> </a></h3><h4 id=new-features-14>Nouveauté:<a class=headerlink href=../amp/#new-features-14 title="Permanent link"> </a></h4><ul><li>Niveau d'enregistrement peut être modifié sans redémarrer le serveur.</li><li>Ajouté le <code class=syntax>SHOW CREATE DATABASE</code> requête.</li><li>Le <code class=syntax>query_id</code> peut être passé à <code class=syntax>clickhouse-client</code> (elBroom).</li><li>Nouveau paramètre: <code class=syntax>max_network_bandwidth_for_all_users</code>.</li><li>Ajout du support pour <code class=syntax>ALTER TABLE ... PARTITION ...</code> pour <code class=syntax>MATERIALIZED VIEW</code>.</li><li>Ajout d'informations sur la taille des parties de données sous forme non compressée dans la table système.</li><li>Prise en charge du chiffrement de serveur à serveur pour les tables distribuées (<code class=syntax>&lt;secure&gt;1&lt;/secure&gt;</code> dans la configuration de la réplique <code class=syntax>&lt;remote_servers&gt;</code>).</li><li>Configuration du niveau de la table pour <code class=syntax>ReplicatedMergeTree</code> la famille afin de minimiser la quantité de données stockées dans Zookeeper: : <code class=syntax>use_minimalistic_checksums_in_zookeeper = 1</code></li><li>Configuration de l' <code class=syntax>clickhouse-client</code> invite. Par défaut, les noms de serveur sont maintenant affichés à l'invite. Le nom d'affichage du serveur peut être modifié. Il est également envoyé dans le <code class=syntax>X-ClickHouse-Display-Name</code> En-tête HTTP (Kirill Shvakov).</li><li>Séparés par des virgules multiples <code class=syntax>topics</code> peut être spécifié pour l' <code class=syntax>Kafka</code> moteur (Tobias Adamson)</li><li>Quand une requête est arrêtée par <code class=syntax>KILL QUERY</code> ou <code class=syntax>replace_running_query</code> le client reçoit l' <code class=syntax>Query was canceled</code> exception au lieu d'un résultat incomplète.</li></ul><h4 id=improvements-13>Amélioration:<a class=headerlink href=../amp/#improvements-13 title="Permanent link"> </a></h4><ul><li><code class=syntax>ALTER TABLE ... DROP/DETACH PARTITION</code> les requêtes sont exécutées à l'avant de la file d'attente de réplication.</li><li><code class=syntax>SELECT ... FINAL</code> et <code class=syntax>OPTIMIZE ... FINAL</code> peut être utilisé même lorsque la table a une seule partie de données.</li><li>A <code class=syntax>query_log</code> la table est recréée à la volée si elle a été supprimée manuellement (Kirill Shvakov).</li><li>Le <code class=syntax>lengthUTF8</code> fonction fonctionne plus rapidement (zhang2014).</li><li>Amélioration des performances des inserts synchrones dans <code class=syntax>Distributed</code> table (<code class=syntax>insert_distributed_sync = 1</code> lorsqu'il existe un très grand nombre de fragments.</li><li>Le serveur accepte le <code class=syntax>send_timeout</code> et <code class=syntax>receive_timeout</code> les paramètres du client et les applique lors de la connexion au client (ils sont appliqués dans l'ordre inverse: le socket du serveur <code class=syntax>send_timeout</code> est définie à l' <code class=syntax>receive_timeout</code> valeur reçue du client, et vice versa).</li><li>Récupération de crash plus robuste pour une insertion asynchrone dans <code class=syntax>Distributed</code> table.</li><li>Le type de retour de la <code class=syntax>countEqual</code> la fonction a changé à partir de <code class=syntax>UInt32</code> de <code class=syntax>UInt64</code> (谢磊).</li></ul><h4 id=bug-fixes-25>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-25 title="Permanent link"> </a></h4><ul><li>Correction d'une erreur avec <code class=syntax>IN</code> lorsque le côté gauche de l'expression est <code class=syntax>Nullable</code>.</li><li>Les résultats corrects sont maintenant retournés lors de l'utilisation de tuples avec <code class=syntax>IN</code> lorsque certains des composants tuple sont dans l'index de la table.</li><li>Le <code class=syntax>max_execution_time</code> limite fonctionne désormais correctement avec les requêtes distribuées.</li><li>Correction d'erreurs lors du calcul de la taille des colonnes composites <code class=syntax>system.columns</code> table.</li><li>Correction d'une erreur lors de la création d'une table temporaire <code class=syntax>CREATE TEMPORARY TABLE IF NOT EXISTS.</code></li><li>Erreurs corrigées dans <code class=syntax>StorageKafka</code> (##2075)</li><li>Le serveur fixe se bloque à partir d'arguments non valides de certaines fonctions d'agrégat.</li><li>Correction de l'erreur qui a empêché l' <code class=syntax>DETACH DATABASE</code> requête de l'arrêt des tâches d'arrière-plan pour <code class=syntax>ReplicatedMergeTree</code> table.</li><li><code class=syntax>Too many parts</code> l'état est moins susceptible de se produire lors de l'insertion dans agrégées des vues matérialisées (##2084).</li><li>Correction de la gestion récursive des substitutions dans la configuration si une substitution doit être suivie d'une autre substitution au même niveau.</li><li>Correction de la syntaxe dans le fichier de métadonnées lors de la création d'un <code class=syntax>VIEW</code> qui utilise une requête avec <code class=syntax>UNION ALL</code>.</li><li><code class=syntax>SummingMergeTree</code> fonctionne maintenant correctement pour la sommation des structures de données imbriquées avec une clé composite.</li><li>Correction de la possibilité d'une condition de course lors du choix du leader pour <code class=syntax>ReplicatedMergeTree</code> table.</li></ul><h4 id=build-changes-5>Construire Des Changements:<a class=headerlink href=../amp/#build-changes-5 title="Permanent link"> </a></h4><ul><li>La construction prend en charge <code class=syntax>ninja</code> plutôt <code class=syntax>make</code> et utilise <code class=syntax>ninja</code> par défaut pour les versions de construction.</li><li>Paquets renommés: <code class=syntax>clickhouse-server-base</code> dans <code class=syntax>clickhouse-common-static</code>; <code class=syntax>clickhouse-server-common</code> dans <code class=syntax>clickhouse-server</code>; <code class=syntax>clickhouse-common-dbg</code> dans <code class=syntax>clickhouse-common-static-dbg</code>. Pour installer, utilisez <code class=syntax>clickhouse-server clickhouse-client</code>. Les paquets avec les anciens noms seront toujours chargés dans les dépôts pour une compatibilité descendante.</li></ul><h4 id=backward-incompatible-changes-9>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-9 title="Permanent link"> </a></h4><ul><li>Retiré de l'interprétation d'une expression si un tableau est spécifié sur le côté gauche. Auparavant, l'expression <code class=syntax>arr IN (set)</code> a été interprété comme “at least one <code class=syntax>arr</code> element belongs to the <code class=syntax>set</code>”. Pour obtenir le même comportement dans la nouvelle version, écrire <code class=syntax>arrayExists(x -&gt; x IN (set), arr)</code>.</li><li>Désactivé l'utilisation incorrecte de l'option socket <code class=syntax>SO_REUSEPORT</code>, qui a été incorrectement activé par défaut dans la bibliothèque Poco. Notez que sous Linux il n'y a plus aucune raison de spécifier simultanément les adresses <code class=syntax>::</code> et <code class=syntax>0.0.0.0</code> for listen – use just <code class=syntax>::</code>, qui permet d'écouter la connexion à la fois sur IPv4 et IPv6 (avec les paramètres de configuration du noyau par défaut). Vous pouvez également revenir au comportement des versions précédentes en spécifiant <code class=syntax>&lt;listen_reuse_port&gt;1&lt;/listen_reuse_port&gt;</code> dans la config.</li></ul><h3 id=clickhouse-release-1-1-54370-2018-03-16>Clickhouse Version 1.1.54370, 2018-03-16<a class=headerlink href=../amp/#clickhouse-release-1-1-54370-2018-03-16 title="Permanent link"> </a></h3><h4 id=new-features-15>Nouveauté:<a class=headerlink href=../amp/#new-features-15 title="Permanent link"> </a></h4><ul><li>Ajouté le <code class=syntax>system.macros</code> table et mise à jour automatique des macros lorsque le fichier de configuration est modifié.</li><li>Ajouté le <code class=syntax>SYSTEM RELOAD CONFIG</code> requête.</li><li>Ajouté le <code class=syntax>maxIntersections(left_col, right_col)</code> fonction d'agrégation, qui retourne le nombre maximal d'simultanément intersection d'intervalles <code class=syntax>[left; right]</code>. Le <code class=syntax>maxIntersectionsPosition(left, right)</code> fonction retourne le début de la “maximum” intervalle. (<a href=https://github.com/ClickHouse/ClickHouse/pull/2012 rel="external nofollow noreferrer" target=_blank>Michael Furmur</a>).</li></ul><h4 id=improvements-14>Amélioration:<a class=headerlink href=../amp/#improvements-14 title="Permanent link"> </a></h4><ul><li>Lors de l'insertion de données dans une <code class=syntax>Replicated</code> tableau, moins de demandes sont faites à <code class=syntax>ZooKeeper</code> (et la plupart des erreurs au niveau de l'utilisateur ont disparu de la <code class=syntax>ZooKeeper</code> journal).</li><li>Ajout de la possibilité de créer des alias pour les ensembles de données. Exemple: <code class=syntax>WITH (1, 2, 3) AS set SELECT number IN set FROM system.numbers LIMIT 10</code>.</li></ul><h4 id=bug-fixes-26>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-26 title="Permanent link"> </a></h4><ul><li>Correction de l' <code class=syntax>Illegal PREWHERE</code> erreur lors de la lecture des tables de fusion pour <code class=syntax>Distributed</code>table.</li><li>Ajout de correctifs qui vous permettent de démarrer clickhouse-server dans des conteneurs Docker IPv4 uniquement.</li><li>Correction d'une condition de course lors de la lecture du système <code class=syntax>system.parts_columns tables.</code></li><li>Suppression de la double mise en mémoire tampon lors d'un insert synchrone <code class=syntax>Distributed</code> table, ce qui aurait pu provoquer la connexion à timeout.</li><li>Correction d'un bug qui a causé des attentes trop longues pour une réplique indisponible avant de commencer un <code class=syntax>SELECT</code> requête.</li><li>Correction de dates incorrectes dans le <code class=syntax>system.parts</code> table.</li><li>Correction d'un bug qui rendait impossible l'insertion de données dans un <code class=syntax>Replicated</code> le tableau si <code class=syntax>chroot</code> était non vide dans la configuration du <code class=syntax>ZooKeeper</code> cluster.</li><li>Correction de l'algorithme de fusion verticale pour un <code class=syntax>ORDER BY</code> table.</li><li>Restauré la possibilité d'utiliser des dictionnaires dans les requêtes aux tables distantes, même si ces dictionnaires ne sont pas présents sur le serveur demandeur. Cette fonctionnalité a été perdue dans la version 1.1.54362.</li><li>Restauré le comportement pour les requêtes comme <code class=syntax>SELECT * FROM remote('server2', default.table) WHERE col IN (SELECT col2 FROM default.table)</code> lorsque le côté droit de la <code class=syntax>IN</code> devrait utiliser une télécommande <code class=syntax>default.table</code> au lieu d'un local. Ce comportement a été rompu dans la version 1.1.54358.</li><li>Suppression de la journalisation au niveau des erreurs <code class=syntax>Not found column ... in block</code>.</li></ul><h3 id=clickhouse-release-1-1-54362-2018-03-11>Clickhouse Version 1.1.54362, 2018-03-11<a class=headerlink href=../amp/#clickhouse-release-1-1-54362-2018-03-11 title="Permanent link"> </a></h3><h4 id=new-features-16>Nouveauté:<a class=headerlink href=../amp/#new-features-16 title="Permanent link"> </a></h4><ul><li>Agrégation sans <code class=syntax>GROUP BY</code> pour un ensemble vide (comme <code class=syntax>SELECT count(*) FROM table WHERE 0</code>) renvoie maintenant un résultat avec une ligne avec des valeurs null pour les fonctions d'agrégation, conformément à la norme SQL. Pour restaurer l'ancien comportement (renvoyer un résultat vide), définissez <code class=syntax>empty_result_for_aggregation_by_empty_set</code> 1.</li><li>Conversion de type ajouté pour <code class=syntax>UNION ALL</code>. Différents noms d'alias sont autorisés dans <code class=syntax>SELECT</code> les positions dans <code class=syntax>UNION ALL</code> en conformité avec le standard SQL.</li><li>Les expressions arbitraires sont prises en charge dans <code class=syntax>LIMIT BY</code> clause. Auparavant, il était seulement possible d'utiliser des colonnes résultant de <code class=syntax>SELECT</code>.</li><li>Un indice de <code class=syntax>MergeTree</code> tables est utilisé lorsque <code class=syntax>IN</code> est appliqué à un n-uplet d'expressions à partir des colonnes de la clé primaire. Exemple: <code class=syntax>WHERE (UserID, EventDate) IN ((123, '2000-01-01'), ...)</code> (Anastasiya Tsarkova).</li><li>Ajouté le <code class=syntax>clickhouse-copier</code> outil pour copier entre les clusters et remodeler les données (beta).</li><li>Ajout de fonctions de hachage cohérentes: <code class=syntax>yandexConsistentHash</code>, <code class=syntax>jumpConsistentHash</code>, <code class=syntax>sumburConsistentHash</code>. Ils peuvent être utilisés comme une clé de sharding afin de réduire la quantité de trafic réseau lors de remaniements ultérieurs.</li><li>L'ajout de fonctions: <code class=syntax>arrayAny</code>, <code class=syntax>arrayAll</code>, <code class=syntax>hasAny</code>, <code class=syntax>hasAll</code>, <code class=syntax>arrayIntersect</code>, <code class=syntax>arrayResize</code>.</li><li>Ajouté le <code class=syntax>arrayCumSum</code> fonction (Javi Santana).</li><li>Ajouté le <code class=syntax>parseDateTimeBestEffort</code>, <code class=syntax>parseDateTimeBestEffortOrZero</code>, et <code class=syntax>parseDateTimeBestEffortOrNull</code> fonctions pour lire le DateTime à partir d'une chaîne contenant du texte dans une grande variété de formats possibles.</li><li>Les données peuvent être partiellement rechargées à partir de dictionnaires externes lors de la mise à jour (charger uniquement les enregistrements dans lesquels la valeur du champ spécifié supérieure à celle du téléchargement précédent) (Arsen Hakobyan).</li><li>Ajouté le <code class=syntax>cluster</code> table de fonction. Exemple: <code class=syntax>cluster(cluster_name, db, table)</code>. Le <code class=syntax>remote</code> la fonction table peut accepter le nom du cluster comme premier argument, s'il est spécifié comme identifiant.</li><li>Le <code class=syntax>remote</code> et <code class=syntax>cluster</code> les fonctions de table peuvent être utilisées dans <code class=syntax>INSERT</code> requête.</li><li>Ajouté le <code class=syntax>create_table_query</code> et <code class=syntax>engine_full</code> colonnes virtuelles au <code class=syntax>system.tables</code>table . Le <code class=syntax>metadata_modification_time</code> la colonne est virtuel.</li><li>Ajouté le <code class=syntax>data_path</code> et <code class=syntax>metadata_path</code> les colonnes à <code class=syntax>system.tables</code>et<code class=syntax>system.databases</code> tables, et a ajouté le <code class=syntax>path</code> la colonne de la <code class=syntax>system.parts</code> et <code class=syntax>system.parts_columns</code> table.</li><li>Ajout d'informations supplémentaires sur les fusions <code class=syntax>system.part_log</code> table.</li><li>Une clé de partitionnement arbitraire peut être utilisée pour <code class=syntax>system.query_log</code> table (Kirill Shvakov).</li><li>Le <code class=syntax>SHOW TABLES</code> query affiche maintenant également des tables temporaires. Ajout de tables temporaires et <code class=syntax>is_temporary</code> colonne de <code class=syntax>system.tables</code> (zhang2014).</li><li>Ajouter <code class=syntax>DROP TEMPORARY TABLE</code> et <code class=syntax>EXISTS TEMPORARY TABLE</code> les requêtes (zhang2014).</li><li>Soutien pour <code class=syntax>SHOW CREATE TABLE</code> pour les tables temporaires (zhang2014).</li><li>Ajouté le <code class=syntax>system_profile</code> paramètre de configuration pour les paramètres utilisés par les processus internes.</li><li>Soutien pour le chargement <code class=syntax>object_id</code> comme un attribut de <code class=syntax>MongoDB</code> dictionnaires (Pavel Litvinenko).</li><li>Lecture <code class=syntax>null</code> comme valeur par défaut lors du chargement de données pour un dictionnaire externe <code class=syntax>MongoDB</code> source (Pavel Litvinenko).</li><li>Lecture <code class=syntax>DateTime</code> les valeurs dans la <code class=syntax>Values</code> formater à partir D'un horodatage Unix sans guillemets simples.</li><li>Le basculement est pris en charge dans <code class=syntax>remote</code> fonctions de table pour les cas où certaines répliques manquent la table demandée.</li><li>Les paramètres de Configuration peuvent être remplacées dans la ligne de commande lorsque vous exécutez <code class=syntax>clickhouse-server</code>. Exemple: <code class=syntax>clickhouse-server -- --logger.level=information</code>.</li><li>Mise en œuvre de la <code class=syntax>empty</code> fonction à partir d'un <code class=syntax>FixedString</code> argument: la fonction renvoie 1 si la chaîne est entièrement composée d'octets nuls (zhang2014).</li><li>Ajouté le <code class=syntax>listen_try</code>paramètre de configuration pour l'écoute d'au moins une des adresses listen sans quitter, si certaines adresses ne peuvent pas être écoutées (utile pour les systèmes avec prise en charge désactivée pour IPv4 ou IPv6).</li><li>Ajouté le <code class=syntax>VersionedCollapsingMergeTree</code> tableau moteur.</li><li>Prise en charge des lignes et des types numériques arbitraires <code class=syntax>library</code> source du dictionnaire.</li><li><code class=syntax>MergeTree</code> les tableaux peuvent être utilisés sans une clé primaire (vous devez spécifier <code class=syntax>ORDER BY tuple()</code>).</li><li>A <code class=syntax>Nullable</code> peut être de type <code class=syntax>CAST</code> pour un non-<code class=syntax>Nullable</code> type si l'argument n'est pas <code class=syntax>NULL</code>.</li><li><code class=syntax>RENAME TABLE</code> peut être effectuée pour <code class=syntax>VIEW</code>.</li><li>Ajouté le <code class=syntax>throwIf</code> fonction.</li><li>Ajouté le <code class=syntax>odbc_default_field_size</code> option, qui vous permet d'étendre la taille maximale de la valeur chargée à partir D'une source ODBC (par défaut, il est 1024).</li><li>Le <code class=syntax>system.processes</code> table et <code class=syntax>SHOW PROCESSLIST</code> ont maintenant la <code class=syntax>is_cancelled</code> et <code class=syntax>peak_memory_usage</code> colonne.</li></ul><h4 id=improvements-15>Amélioration:<a class=headerlink href=../amp/#improvements-15 title="Permanent link"> </a></h4><ul><li>Les limites et quotas sur le résultat ne sont plus appliqués aux données intermédiaires pour <code class=syntax>INSERT SELECT</code> les requêtes ou pour <code class=syntax>SELECT</code> les sous-requêtes.</li><li>Moins de faux déclencheurs de <code class=syntax>force_restore_data</code> lors de la vérification de l'état de <code class=syntax>Replicated</code> les tables lorsque le serveur démarre.</li><li>Ajouté le <code class=syntax>allow_distributed_ddl</code> option.</li><li>Les fonctions non déterministes ne sont pas autorisées dans les expressions <code class=syntax>MergeTree</code> table de clés.</li><li>Fichiers avec des substitutions de <code class=syntax>config.d</code> les répertoires sont chargés par ordre alphabétique.</li><li>Amélioration de la performance de l' <code class=syntax>arrayElement</code> fonction dans le cas d'une constante tableau multidimensionnel avec un tableau vide comme l'un des éléments. Exemple: <code class=syntax>[[1], []][x]</code>.</li><li>Le serveur démarre plus rapidement maintenant lors de l'utilisation de fichiers de configuration avec de très grandes substitutions (par exemple, de très grandes listes de réseaux IP).</li><li>Lors de l'exécution d'une requête, les fonctions de valeur de table s'exécutent une fois. Précédemment, <code class=syntax>remote</code> et <code class=syntax>mysql</code> les fonctions à valeur de table ont effectué la même requête deux fois pour récupérer la structure de la table à partir d'un serveur distant.</li><li>Le <code class=syntax>MkDocs</code> générateur de documentation est utilisé.</li><li>Lorsque vous essayez de supprimer une colonne de table <code class=syntax>DEFAULT</code>/<code class=syntax>MATERIALIZED</code> les expressions des autres colonnes dépendent, une exception est levée (zhang2014).</li><li>Ajout de la possibilité d'analyser une ligne vide dans des formats de texte comme le nombre 0 pour <code class=syntax>Float</code> types de données. Cette fonctionnalité était auparavant disponible mais a été perdue dans la version 1.1.54342.</li><li><code class=syntax>Enum</code> les valeurs peuvent être utilisés dans <code class=syntax>min</code>, <code class=syntax>max</code>, <code class=syntax>sum</code> et quelques autres fonctions. Dans ces cas, il utilise des valeurs numériques correspondantes. Cette fonctionnalité était auparavant disponible mais a été perdue dans la version 1.1.54337.</li><li>Ajouter <code class=syntax>max_expanded_ast_elements</code> pour limiter la taille de L'AST après l'expansion récursive des alias.</li></ul><h4 id=bug-fixes-27>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-27 title="Permanent link"> </a></h4><ul><li>Correction de cas où des colonnes inutiles ont été supprimées des sous-requêtes par erreur, ou non supprimées des sous-requêtes contenant <code class=syntax>UNION ALL</code>.</li><li>Correction d'un bug dans les fusions pour <code class=syntax>ReplacingMergeTree</code> table.</li><li>Insertions synchrones fixes dans <code class=syntax>Distributed</code> table (<code class=syntax>insert_distributed_sync = 1</code>).</li><li>Fixe erreur de segmentation pour certaines utilisations de <code class=syntax>FULL</code> et <code class=syntax>RIGHT JOIN</code> avec des colonnes en double dans les sous-requêtes.</li><li>Fixe erreur de segmentation pour certaines utilisations de <code class=syntax>replace_running_query</code> et <code class=syntax>KILL QUERY</code>.</li><li>Fixe l'ordre du <code class=syntax>source</code> et <code class=syntax>last_exception</code> les colonnes dans l' <code class=syntax>system.dictionaries</code> table.</li><li>Correction d'un bug lors de l' <code class=syntax>DROP DATABASE</code> la requête n'a pas supprimé le fichier contenant des métadonnées.</li><li>Correction de l' <code class=syntax>DROP DATABASE</code> requête pour <code class=syntax>Dictionary</code> les bases de données.</li><li>Fixe la faible précision de <code class=syntax>uniqHLL12</code> et <code class=syntax>uniqCombined</code> fonctions pour les cardinalités supérieures à 100 millions d'articles (Alex Bocharov).</li><li>Correction du calcul des valeurs par défaut implicites si nécessaire pour calculer simultanément des expressions explicites par défaut dans <code class=syntax>INSERT</code> les requêtes (zhang2014).</li><li>Correction d'un cas rare lorsqu'une requête à un <code class=syntax>MergeTree</code> la table n'a pas pu finir (chenxing-xc).</li><li>Correction d'un plantage survenu lors de l'exécution d'un <code class=syntax>CHECK</code> requête pour <code class=syntax>Distributed</code> tables si tous les fragments sont locaux (chenxing.xc).</li><li>Correction d'une légère régression des performances avec des fonctions qui utilisent des expressions régulières.</li><li>Correction d'une régression de performance lors de la création de tableaux multidimensionnels à partir d'expressions complexes.</li><li>Correction d'un bug qui pourrait causer un supplément <code class=syntax>FORMAT</code> article à paraître dans un <code class=syntax>.sql</code> fichier de métadonnées.</li><li>Correction d'un bug qui a causé la <code class=syntax>max_table_size_to_drop</code> limite à appliquer lorsque vous essayez de supprimer un <code class=syntax>MATERIALIZED VIEW</code> en regardant une table explicitement spécifiée.</li><li>Correction de l'incompatibilité avec les anciens clients (les anciens clients étaient parfois envoyés <code class=syntax>DateTime('timezone')</code> type, dont ils ne comprennent pas).</li><li>Correction d'un bug lors de la lecture <code class=syntax>Nested</code> éléments de colonne de structures qui ont été ajoutés en utilisant <code class=syntax>ALTER</code> mais qui sont vides pour les anciennes partitions, lorsque les conditions de ces colonnes a déménagé à <code class=syntax>PREWHERE</code>.</li><li>Correction d'un bug lors du filtrage des tables virtuelles <code class=syntax>_table</code> colonnes dans les requêtes à <code class=syntax>Merge</code> table.</li><li>Correction d'un bug lors de l'utilisation <code class=syntax>ALIAS</code> les colonnes en <code class=syntax>Distributed</code> table.</li><li>Correction d'un bug qui rendait la compilation dynamique impossible pour les requêtes avec des fonctions <code class=syntax>quantile</code> famille.</li><li>Correction d'une condition de concurrence dans le pipeline d'exécution de requête qui s'est produite dans de très rares cas lors de l'utilisation <code class=syntax>Merge</code> avec un grand nombre de tables, et lors de l'utilisation <code class=syntax>GLOBAL</code> les sous-requêtes.</li><li>Correction d'un crash lors du passage de tableaux de tailles différentes pour un <code class=syntax>arrayReduce</code> fonction lors de l'utilisation de fonctions d'agrégation à partir de plusieurs arguments.</li><li>Interdit l'utilisation de requêtes avec <code class=syntax>UNION ALL</code> dans un <code class=syntax>MATERIALIZED VIEW</code>.</li><li>Correction d'une erreur lors de l'initialisation du <code class=syntax>part_log</code> table système au démarrage du serveur (par défaut, <code class=syntax>part_log</code> est désactivée).</li></ul><h4 id=backward-incompatible-changes-10>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-10 title="Permanent link"> </a></h4><ul><li>Enlevé le <code class=syntax>distributed_ddl_allow_replicated_alter</code> option. Ce comportement est activé par défaut.</li><li>Enlevé le <code class=syntax>strict_insert_defaults</code> paramètre. Si vous utilisez cette fonctionnalité, écrivez à <code class=syntax>clickhouse-feedback@yandex-team.com</code>.</li><li>Enlevé le <code class=syntax>UnsortedMergeTree</code> moteur.</li></ul><h3 id=clickhouse-release-1-1-54343-2018-02-05>Clickhouse Version 1.1.54343, 2018-02-05<a class=headerlink href=../amp/#clickhouse-release-1-1-54343-2018-02-05 title="Permanent link"> </a></h3><ul><li>Ajout de la prise en charge des macros pour définir les noms de cluster dans les requêtes DDL distribuées et les constructeurs de tables distribuées: <code class=syntax>CREATE TABLE distr ON CLUSTER '{cluster}' (...) ENGINE = Distributed('{cluster}', 'db', 'table')</code>.</li><li>Maintenant requêtes comme <code class=syntax>SELECT ... FROM table WHERE expr IN (subquery)</code> sont traitées à l'aide de la <code class=syntax>table</code> index.</li><li>Amélioration du traitement des doublons lors de l'insertion dans des tables répliquées, de sorte qu'ils ne ralentissent plus l'exécution de la file d'attente de réplication.</li></ul><h3 id=clickhouse-release-1-1-54342-2018-01-22>Clickhouse Version 1.1.54342, 2018-01-22<a class=headerlink href=../amp/#clickhouse-release-1-1-54342-2018-01-22 title="Permanent link"> </a></h3><p>Cette version contient des corrections de bugs pour la version précédente 1.1.54337:</p><ul><li>Correction d'une régression dans 1.1.54337: si l'utilisateur par défaut a un accès en lecture seule, le serveur refuse de démarrer avec le message <code class=syntax>Cannot create database in readonly mode</code>.</li><li>Correction d'une régression dans 1.1.54337: sur les systèmes avec systemd, les journaux sont toujours écrits dans syslog quelle que soit la configuration; le script watchdog utilise toujours init.d.</li><li>Correction d'une régression dans 1.1.54337: mauvaise configuration par défaut dans L'image Docker.</li><li>Correction du comportement non déterministe de GraphiteMergeTree (vous pouvez le voir dans les messages de journal <code class=syntax>Data after merge is not byte-identical to the data on another replicas</code>).</li><li>Correction d'un bug qui peut conduire à des fusions incohérentes après optimiser la requête aux tables répliquées (vous pouvez le voir dans les messages de journal <code class=syntax>Part ... intersects the previous part</code>).</li><li>Les tables tampon fonctionnent maintenant correctement lorsque des colonnes matérialisées sont présentes dans la table de destination (par zhang2014).</li><li>Correction d'un bug dans la mise en œuvre de NULL.</li></ul><h3 id=clickhouse-release-1-1-54337-2018-01-18>Clickhouse Version 1.1.54337, 2018-01-18<a class=headerlink href=../amp/#clickhouse-release-1-1-54337-2018-01-18 title="Permanent link"> </a></h3><h4 id=new-features-17>Nouveauté:<a class=headerlink href=../amp/#new-features-17 title="Permanent link"> </a></h4><ul><li>Ajout du support pour le stockage de tableaux et de tuples multidimensionnels (<code class=syntax>Tuple</code> type de données) dans les tableaux.</li><li>Prise en charge des fonctions de table pour <code class=syntax>DESCRIBE</code> et <code class=syntax>INSERT</code> requête. Ajout du support pour les sous-requêtes dans <code class=syntax>DESCRIBE</code>. Exemple: <code class=syntax>DESC TABLE remote('host', default.hits)</code>; <code class=syntax>DESC TABLE (SELECT 1)</code>; <code class=syntax>INSERT INTO TABLE FUNCTION remote('host', default.hits)</code>. Soutien pour <code class=syntax>INSERT INTO TABLE</code> outre <code class=syntax>INSERT INTO</code>.</li><li>Amélioration du support pour les fuseaux horaires. Le <code class=syntax>DateTime</code> le type de données peut être annoté avec le fuseau horaire utilisé pour l'analyse et le formatage dans les formats de texte. Exemple: <code class=syntax>DateTime('Europe/Moscow')</code>. Lorsque les fuseaux horaires sont spécifiés dans les fonctions <code class=syntax>DateTime</code> arguments, le type de retour pour suivre le fuseau horaire, et la valeur sera affichée comme prévu.</li><li>Ajout des fonctions <code class=syntax>toTimeZone</code>, <code class=syntax>timeDiff</code>, <code class=syntax>toQuarter</code>, <code class=syntax>toRelativeQuarterNum</code>. Le <code class=syntax>toRelativeHour</code>/<code class=syntax>Minute</code>/<code class=syntax>Second</code> les fonctions peuvent prendre une valeur de type <code class=syntax>Date</code> comme argument. Le <code class=syntax>now</code> nom de la fonction est sensible à la casse.</li><li>Ajouté le <code class=syntax>toStartOfFifteenMinutes</code> fonction (Kirill Shvakov).</li><li>Ajouté le <code class=syntax>clickhouse format</code> outil de formatage des requêtes.</li><li>Ajouté le <code class=syntax>format_schema_path</code> configuration parameter (Marek Vavruşa). It is used for specifying a schema in <code class=syntax>Cap'n Proto</code> format. Les fichiers de schéma peuvent être situés uniquement dans le répertoire spécifié.</li><li>Ajout du support pour les substitutions de configuration (<code class=syntax>incl</code> et <code class=syntax>conf.d</code>) pour la configuration de dictionnaires et de modèles externes (Pavel Yakunin).</li><li>Ajout d'une colonne avec la documentation pour le <code class=syntax>system.settings</code> table (Kirill Shvakov).</li><li>Ajouté le <code class=syntax>system.parts_columns</code> table avec des informations sur la taille des colonnes dans chaque partie <code class=syntax>MergeTree</code> table.</li><li>Ajouté le <code class=syntax>system.models</code> tableau avec des informations sur chargé <code class=syntax>CatBoost</code> machine de modèles d'apprentissage.</li><li>Ajouté le <code class=syntax>mysql</code> et <code class=syntax>odbc</code> fonction de table et correspondant <code class=syntax>MySQL</code> et <code class=syntax>ODBC</code> moteurs de table pour accéder aux bases de données distantes. Cette fonctionnalité est en phase bêta.</li><li>Ajout de la possibilité de passer un argument de type <code class=syntax>AggregateFunction</code> pour l' <code class=syntax>groupArray</code> fonction d'agrégation (vous pouvez donc créer un tableau d'États d'une fonction d'agrégation).</li><li>Suppression des restrictions sur diverses combinaisons de combinateurs de fonction d'agrégat. Par exemple, vous pouvez utiliser <code class=syntax>avgForEachIf</code> ainsi que <code class=syntax>avgIfForEach</code> les fonctions d'agrégation, qui ont des comportements différents.</li><li>Le <code class=syntax>-ForEach</code> fonction d'agrégation combinator est prolongée pour le cas des fonctions d'agrégation de plusieurs arguments.</li><li>Ajout du support pour les fonctions d'agrégation de <code class=syntax>Nullable</code> arguments même pour les cas où la fonction renvoie un non-<code class=syntax>Nullable</code> résultat (ajouté avec la contribution de Silviu Caragea). Exemple: <code class=syntax>groupArray</code>, <code class=syntax>groupUniqArray</code>, <code class=syntax>topK</code>.</li><li>Ajouté le <code class=syntax>max_client_network_bandwidth</code> pour <code class=syntax>clickhouse-client</code> (Kirill Shvakov).</li><li>Les utilisateurs avec le <code class=syntax>readonly = 2</code> setting are allowed to work with TEMPORARY tables (CREATE, DROP, INSERT…) (Kirill Shvakov).</li><li>Ajout du support pour l'utilisation de plusieurs consommateurs avec le <code class=syntax>Kafka</code> moteur. Options de configuration étendues pour <code class=syntax>Kafka</code> (Marek Vavruša).</li><li>Ajouté le <code class=syntax>intExp3</code> et <code class=syntax>intExp4</code> fonction.</li><li>Ajouté le <code class=syntax>sumKahan</code> fonction d'agrégation.</li><li>Ajout des fonctions to* Number * OrNull, où * Number * est un type numérique.</li><li>Ajout du support pour <code class=syntax>WITH</code> clauses pour un <code class=syntax>INSERT SELECT</code> requête (auteur: zhang2014).</li><li>Ajout des paramètres de: <code class=syntax>http_connection_timeout</code>, <code class=syntax>http_send_timeout</code>, <code class=syntax>http_receive_timeout</code>. En particulier, ces paramètres sont utilisés pour télécharger des parties de données pour la réplication. La modification de ces paramètres permet un basculement plus rapide si le réseau est surchargé.</li><li>Ajout du support pour <code class=syntax>ALTER</code> pour les tables de type <code class=syntax>Null</code> (Anastasiya Tsarkova).</li><li>Le <code class=syntax>reinterpretAsString</code> la fonction est étendue pour tous les types de données stockés de manière contiguë en mémoire.</li><li>Ajouté le <code class=syntax>--silent</code> option pour le <code class=syntax>clickhouse-local</code> outil. Il supprime les informations d'exécution de requête d'impression dans stderr.</li><li>Ajout du support pour la lecture des valeurs de type <code class=syntax>Date</code> à partir du texte dans un format où le mois et / ou le jour du mois est spécifié en utilisant un seul chiffre au lieu de deux chiffres (oiseau Amos).</li></ul><h4 id=performance-optimizations>Optimisations Des Performances:<a class=headerlink href=../amp/#performance-optimizations title="Permanent link"> </a></h4><ul><li>Amélioration des performances des fonctions d'agrégation <code class=syntax>min</code>, <code class=syntax>max</code>, <code class=syntax>any</code>, <code class=syntax>anyLast</code>, <code class=syntax>anyHeavy</code>, <code class=syntax>argMin</code>, <code class=syntax>argMax</code> à partir d'arguments de chaîne.</li><li>Amélioration des performances des fonctions <code class=syntax>isInfinite</code>, <code class=syntax>isFinite</code>, <code class=syntax>isNaN</code>, <code class=syntax>roundToExp2</code>.</li><li>Amélioration des performances de l'analyse et du formatage <code class=syntax>Date</code> et <code class=syntax>DateTime</code> tapez les valeurs au format texte.</li><li>Amélioration des performances et de la précision de l'analyse des nombres à virgule flottante.</li><li>Abaissé l'utilisation de la mémoire pour <code class=syntax>JOIN</code> dans le cas où les parties gauche et droite ont des colonnes avec des noms identiques qui ne sont pas contenus dans <code class=syntax>USING</code> .</li><li>Amélioration des performances des fonctions d'agrégation <code class=syntax>varSamp</code>, <code class=syntax>varPop</code>, <code class=syntax>stddevSamp</code>, <code class=syntax>stddevPop</code>, <code class=syntax>covarSamp</code>, <code class=syntax>covarPop</code>, <code class=syntax>corr</code> en réduisant la stabilité de calcul. Les anciennes fonctions sont disponibles sous les noms de <code class=syntax>varSampStable</code>, <code class=syntax>varPopStable</code>, <code class=syntax>stddevSampStable</code>, <code class=syntax>stddevPopStable</code>, <code class=syntax>covarSampStable</code>, <code class=syntax>covarPopStable</code>, <code class=syntax>corrStable</code>.</li></ul><h4 id=bug-fixes-28>Corrections De Bugs:<a class=headerlink href=../amp/#bug-fixes-28 title="Permanent link"> </a></h4><ul><li>Déduplication de données fixe après l'exécution d'un <code class=syntax>DROP</code> ou <code class=syntax>DETACH PARTITION</code> requête. Dans la version précédente, la suppression d'une partition et l'insertion à nouveau des mêmes données ne fonctionnaient pas car les blocs insérés étaient considérés comme des doublons.</li><li>Correction d'un bug qui pourrait conduire à une interprétation incorrecte de la <code class=syntax>WHERE</code> la clause de <code class=syntax>CREATE MATERIALIZED VIEW</code> les requêtes avec <code class=syntax>POPULATE</code> .</li><li>Correction d'un bug dans l'utilisation de l' <code class=syntax>root_path</code> paramètre dans l' <code class=syntax>zookeeper_servers</code> configuration.</li><li>Correction des résultats inattendus du passage du <code class=syntax>Date</code> argument <code class=syntax>toStartOfDay</code> .</li><li>Correction de l' <code class=syntax>addMonths</code> et <code class=syntax>subtractMonths</code> fonctions et l'arithmétique pour <code class=syntax>INTERVAL n MONTH</code> dans les cas où le résultat de l'année précédente.</li><li>Ajout du support manquant pour le <code class=syntax>UUID</code> type de données pour <code class=syntax>DISTINCT</code> , <code class=syntax>JOIN</code> , et <code class=syntax>uniq</code> fonctions agrégées et dictionnaires externes (Evgeniy Ivanov). Soutien pour <code class=syntax>UUID</code> est encore incomplète.</li><li>Fixe <code class=syntax>SummingMergeTree</code> comportement dans les cas où les lignes additionnées à zéro.</li><li>Diverses corrections pour le <code class=syntax>Kafka</code> engine (Marek Vavruša).</li><li>Correction d'un comportement incorrect de la <code class=syntax>Join</code> moteur de table (oiseau Amos).</li><li>Correction d'un comportement d'allocateur incorrect sous FreeBSD et OS X.</li><li>Le <code class=syntax>extractAll</code> fonction prend désormais en charge les correspondances vides.</li><li>Correction d'une erreur qui bloquait l'utilisation de <code class=syntax>libressl</code> plutôt <code class=syntax>openssl</code> .</li><li>Correction de l' <code class=syntax>CREATE TABLE AS SELECT</code> requête à partir de tables temporaires.</li><li>Correction de la non-atomicité de la mise à jour de la file d'attente de réplication. Cela peut entraîner la désynchronisation des répliques jusqu'au redémarrage du serveur.</li><li>Correction d'un débordement possible dans <code class=syntax>gcd</code> , <code class=syntax>lcm</code> et <code class=syntax>modulo</code> (<code class=syntax>%</code> de l'opérateur) (Mak Skorokhod).</li><li><code class=syntax>-preprocessed</code> les fichiers sont maintenant créés après modification <code class=syntax>umask</code> (<code class=syntax>umask</code> peut être changé dans le fichier de configuration).</li><li>Correction d'un bug dans la vérification des antécédents des pièces (<code class=syntax>MergeTreePartChecker</code> ) lors de l'utilisation d'une coutume clé de partition.</li><li>Correction de l'analyse des tuples (valeurs du <code class=syntax>Tuple</code> type de données) dans des formats de texte.</li><li>Amélioration des messages d'erreur sur les types incompatibles transmis à <code class=syntax>multiIf</code> , <code class=syntax>array</code> et quelques autres fonctions.</li><li>Repensé de soutien pour <code class=syntax>Nullable</code> type. Correction de bugs qui peuvent conduire à un plantage du serveur. Correction de presque tous les autres bugs liés à <code class=syntax>NULL</code> support: conversions de type incorrectes dans INSERT SELECT, support insuffisant pour Nullable dans HAVING et PREWHERE, <code class=syntax>join_use_nulls</code> mode, Nullable types comme arguments de <code class=syntax>OR</code> l'opérateur, etc.</li><li>Correction de divers bugs liés à la sémantique interne des types de données. Exemples: sommation inutile de <code class=syntax>Enum</code> tapez les champs dans <code class=syntax>SummingMergeTree</code> ; l'alignement de la <code class=syntax>Enum</code> types de <code class=syntax>Pretty</code> formats, etc.</li><li>Contrôles plus stricts pour les combinaisons autorisées de colonnes composites.</li><li>Correction du débordement lors de la spécification d'un très grand paramètre pour le <code class=syntax>FixedString</code> type de données.</li><li>Correction d'un bug dans l' <code class=syntax>topK</code> fonction d'agrégation dans un cas générique.</li><li>Ajout de la vérification manquante pour l'égalité des tailles de tableau dans les arguments de n-ARY variantes de fonctions d'agrégation avec un <code class=syntax>-Array</code> combinator.</li><li>Correction d'un bug dans <code class=syntax>--pager</code> pour <code class=syntax>clickhouse-client</code> (auteur: ks1322).</li><li>Fixe la précision de la <code class=syntax>exp10</code> fonction.</li><li>Correction du comportement du <code class=syntax>visitParamExtract</code> fonction pour une meilleure conformité avec la documentation.</li><li>Correction du crash lorsque des types de données incorrects sont spécifiés.</li><li>Correction du comportement de <code class=syntax>DISTINCT</code> dans le cas lorsque toutes les colonnes sont des constantes.</li><li>Correction du formatage de la requête dans le cas de l'utilisation du <code class=syntax>tupleElement</code> fonction avec une expression constante complexe comme indice d'élément tuple.</li><li>Correction d'un bug dans <code class=syntax>Dictionary</code> tables pour <code class=syntax>range_hashed</code> dictionnaire.</li><li>Correction d'un bug qui conduit à des lignes excessives dans le résultat de <code class=syntax>FULL</code> et <code class=syntax>RIGHT JOIN</code> (Oiseau Amos).</li><li>Correction d'un plantage du serveur lors de la création et de la suppression de fichiers temporaires <code class=syntax>config.d</code> répertoires pendant le rechargement de la configuration.</li><li>Correction de l' <code class=syntax>SYSTEM DROP DNS CACHE</code> requête: le cache a été vidé mais les adresses des nœuds de cluster n'ont pas été mises à jour.</li><li>Correction du comportement de <code class=syntax>MATERIALIZED VIEW</code> après l'exécution de <code class=syntax>DETACH TABLE</code> for the table under the view (Marek Vavruša).</li></ul><h4 id=build-improvements-4>Construire Des Améliorations:<a class=headerlink href=../amp/#build-improvements-4 title="Permanent link"> </a></h4><ul><li>Le <code class=syntax>pbuilder</code> l'outil est utilisé pour les versions. Le processus de construction est presque complètement indépendant de l'environnement hôte de construction.</li><li>Une seule version est utilisée pour différentes versions du système d'exploitation. Les paquets et les binaires ont été rendus compatibles avec un large éventail de systèmes Linux.</li><li>Ajouté le <code class=syntax>clickhouse-test</code> paquet. Il peut être utilisé pour exécuter des tests fonctionnels.</li><li>L'archive source peut maintenant être publié dans le référentiel. Il peut être utilisé pour reproduire la construction sans utiliser GitHub.</li><li>Ajout d'une intégration limitée avec Travis CI. En raison des limites de temps de construction dans Travis, seule la construction de débogage est testée et un sous-ensemble limité de tests est exécuté.</li><li>Ajout du support pour <code class=syntax>Cap'n'Proto</code> dans la construction par défaut.</li><li>Modification du format des sources de documentation à partir de <code class=syntax>Restricted Text</code> de <code class=syntax>Markdown</code>.</li><li>Ajout du support pour <code class=syntax>systemd</code> (Vladimir Smirnov). Il est désactivé par défaut en raison d'une incompatibilité avec certaines images du système D'exploitation et peut être activé manuellement.</li><li>Pour la génération de code dynamique, <code class=syntax>clang</code> et <code class=syntax>lld</code> sont intégrées dans le <code class=syntax>clickhouse</code> binaire. Ils peuvent également être invoqués comme <code class=syntax>clickhouse clang</code> et <code class=syntax>clickhouse lld</code> .</li><li>Suppression de l'utilisation des extensions GNU du code. Permis à l' <code class=syntax>-Wextra</code> option. Lors de la construction avec <code class=syntax>clang</code> la valeur par défaut est <code class=syntax>libc++</code> plutôt <code class=syntax>libstdc++</code>.</li><li>Extrait <code class=syntax>clickhouse_parsers</code> et <code class=syntax>clickhouse_common_io</code> les bibliothèques pour accélérer les constructions des différents outils.</li></ul><h4 id=backward-incompatible-changes-11>Modifications Incompatibles En Arrière:<a class=headerlink href=../amp/#backward-incompatible-changes-11 title="Permanent link"> </a></h4><ul><li>Le format des marques dans <code class=syntax>Log</code> tapez les tables qui contiennent <code class=syntax>Nullable</code> les colonnes ont été modifiées d'une manière incompatible avec l'arrière. Si vous avez ces tables, vous devez les convertir en <code class=syntax>TinyLog</code> tapez avant de démarrer la nouvelle version du serveur. Pour ce faire, remplacez <code class=syntax>ENGINE = Log</code> avec <code class=syntax>ENGINE = TinyLog</code> dans le correspondant <code class=syntax>.sql</code> fichier dans le <code class=syntax>metadata</code> répertoire. Si votre table n'a pas <code class=syntax>Nullable</code> les colonnes ou si le type de votre table n'est pas <code class=syntax>Log</code>, alors vous n'avez pas besoin de faire quoi que ce soit.</li><li>Enlevé le <code class=syntax>experimental_allow_extended_storage_definition_syntax</code> paramètre. Maintenant cette fonctionnalité est activée par défaut.</li><li>Le <code class=syntax>runningIncome</code> fonction a été renommée en <code class=syntax>runningDifferenceStartingWithFirstvalue</code> pour éviter toute confusion.</li><li>Enlevé le <code class=syntax>FROM ARRAY JOIN arr</code> syntaxe lorsque la jointure du tableau est spécifiée directement après FROM sans table (Amos Bird).</li><li>Enlevé le <code class=syntax>BlockTabSeparated</code> format utilisé uniquement à des fins de démonstration.</li><li>Modification du format d'État pour les fonctions d'agrégation <code class=syntax>varSamp</code>, <code class=syntax>varPop</code>, <code class=syntax>stddevSamp</code>, <code class=syntax>stddevPop</code>, <code class=syntax>covarSamp</code>, <code class=syntax>covarPop</code>, <code class=syntax>corr</code>. Si vous avez stocké des états de ces fonctions d'agrégat dans des tables (en utilisant <code class=syntax>AggregateFunction</code> type de données ou vues matérialisées avec les états correspondants), écrivez svp à <a href=../mailto:clickhouse-feedback@yandex-team.comamp/ >clickhouse-feedback@yandex-team.com</a>.</li><li>Dans les versions précédentes du serveur, il y avait une fonctionnalité non documentée: si une fonction d'agrégation dépend de paramètres, vous pouvez toujours la spécifier sans paramètres dans le type de données AggregateFunction. Exemple: <code class=syntax>AggregateFunction(quantiles, UInt64)</code> plutôt <code class=syntax>AggregateFunction(quantiles(0.5, 0.9), UInt64)</code>. Cette fonctionnalité a été perdu. Bien qu'il ne soit pas documenté, nous prévoyons de le soutenir à nouveau dans les prochaines versions.</li><li>Les types de données Enum ne peuvent pas être utilisés dans les fonctions d'agrégat min/max. Cette capacité sera rendu dans la prochaine version.</li></ul><h4 id=please-note-when-upgrading>Veuillez Noter Lors De La Mise À Niveau:<a class=headerlink href=../amp/#please-note-when-upgrading title="Permanent link"> </a></h4><ul><li>Lorsque vous effectuez une mise à jour continue sur un cluster, au moment où certaines répliques exécutent L'ancienne version de ClickHouse et d'autres la nouvelle version, la réplication est temporairement arrêtée et le message <code class=syntax>unknown parameter 'shard'</code> apparaît dans le journal. La réplication se poursuivra après la mise à jour de toutes les répliques du cluster.</li><li>Si différentes versions de ClickHouse sont en cours d'exécution sur les serveurs de cluster, il est possible que les requêtes distribuées utilisant les fonctions suivantes aient des résultats incorrects: <code class=syntax>varSamp</code>, <code class=syntax>varPop</code>, <code class=syntax>stddevSamp</code>, <code class=syntax>stddevPop</code>, <code class=syntax>covarSamp</code>, <code class=syntax>covarPop</code>, <code class=syntax>corr</code>. Vous devez mettre à jour tous les nœuds de cluster.</li></ul><h2 id=changelog-for-2017><a href=../../2017/amp/#clickhouse-release-1-1-54327-2017-12-21>Changelog pour 2017</a><a class=headerlink href=../amp/#changelog-for-2017 title="Permanent link"> </a></h2>
        </div>
      </div>
      <div class="row">
        <div class="col">
          
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Évaluation: RATING_VALUE - RATING_COUNT vote</p>
  <span class="alert-heading display-6">L'Article De Notation</span>
  <div id="rating-stars" class="display-6 mb-0"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>Construit à partir de <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, publié le <span title="2020-04-30T21:19:18+03:00">2020-04-30</span>, modifié sur <span title="2020-05-15T07:34:54+03:00">2020-05-15</span>
    
    </div>
</div>

        </div>
      </div>
      <div id="to-full-website" class="row fixed-bottom text-center bg-white py-3">
        <div class="col">
          <a class="btn btn-lg btn-outline-orange" href="https://clickhouse.tech/docs/fr/whats-new/changelog/2018/">To full website</a>
        </div>
      </div>
    </div>
    <amp-analytics type="metrika">
      <script type="application/json">{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script>
  </amp-analytics>
  </body>
</html>
