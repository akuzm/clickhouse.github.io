










    



    



    



    
    






    <!doctype html>
<html ⚡ lang="fr">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>2019 | Documentation ClickHouse</title>
    <link rel="canonical" href="https://clickhouse.tech/docs/fr/whats-new/changelog/2019/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "2019 | Documentation ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fr/whats-new/changelog/2019/",

"datePublished": "2020-04-04T12:15:31+03:00",
"dateModified": "2020-05-15T07:34:54+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "2019 | Documentation ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>

    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}article,footer,header,main,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ul{margin-top:0;margin-bottom:1rem}ul ul{margin-bottom:0}dd{margin-bottom:.5rem;margin-left:0}b{font-weight:bolder}small{font-size:80%}sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}input,select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}input{overflow:visible}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-inline{padding-left:0;list-style:none}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table-primary{background-color:#b8daff}.table-info{background-color:#bee5eb}.table-light{background-color:#fdfdfe}.table-dark{background-color:#c6c8ca}.table-dark{color:#fff;background-color:#343a40}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.is-invalid~.invalid-feedback{display:block}.custom-select.is-invalid{border-color:#dc3545;padding-right:calc(.75em+2.3125rem);background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px,url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e") #fff no-repeat center right 1.75rem/calc(.75em+.375rem) calc(.75em+.375rem)}.custom-select.is-invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.btn-group{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group>.btn:hover{z-index:1}.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select{position:relative;-ms-flex:1 1 0;flex:1 1 0;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select{margin-left:-1px}.input-group>.custom-select:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select{height:calc(1.5em+1rem+2px)}.input-group-lg>.custom-select{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-lg>.custom-select{padding-right:1.75rem}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em+.75rem+2px);margin:0;opacity:0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info .alert-link{color:#062c33}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:-ms-flexbox;display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-info{background-color:#17a2b8}a.bg-info:focus,a.bg-info:hover{background-color:#117a8b}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}.d-table{display:table}.d-table-row{display:table-row}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}.d-md-table{display:table}.d-md-table-row{display:table-row}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}.d-lg-table{display:table}.d-lg-table-row{display:table-row}}.float-left{float:left}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-left{float:left}.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-left{float:left}.float-lg-right{float:right}.float-lg-none{float:none}}.overflow-hidden{overflow:hidden}.position-static{position:static}.position-fixed{position:fixed}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)}.shadow-none{box-shadow:none}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.m-0{margin:0}.mt-0,.my-0{margin-top:0}.mr-0,.mx-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.ml-0,.mx-0{margin-left:0}.m-1{margin:.25rem}.mt-1,.my-1{margin-top:.25rem}.mr-1,.mx-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.ml-1,.mx-1{margin-left:.25rem}.m-2{margin:.5rem}.mt-2,.my-2{margin-top:.5rem}.mr-2,.mx-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.ml-2,.mx-2{margin-left:.5rem}.m-3{margin:1rem}.mt-3,.my-3{margin-top:1rem}.mr-3,.mx-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.ml-3,.mx-3{margin-left:1rem}.m-4{margin:1.5rem}.mt-4,.my-4{margin-top:1.5rem}.mr-4,.mx-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.ml-4,.mx-4{margin-left:1.5rem}.m-5{margin:3rem}.mt-5,.my-5{margin-top:3rem}.mr-5,.mx-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.ml-5,.mx-5{margin-left:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pr-0{padding-right:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pr-1{padding-right:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pr-2{padding-right:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pr-3{padding-right:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pr-4{padding-right:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pr-5{padding-right:3rem}.pb-5,.py-5{padding-bottom:3rem}.m-n1{margin:-.25rem}.mt-n1,.my-n1{margin-top:-.25rem}.mr-n1,.mx-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.ml-n1,.mx-n1{margin-left:-.25rem}.m-n2{margin:-.5rem}.mt-n2,.my-n2{margin-top:-.5rem}.mr-n2,.mx-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.ml-n2,.mx-n2{margin-left:-.5rem}.m-n3{margin:-1rem}.mt-n3,.my-n3{margin-top:-1rem}.mr-n3,.mx-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.ml-n3,.mx-n3{margin-left:-1rem}.m-n4{margin:-1.5rem}.mt-n4,.my-n4{margin-top:-1.5rem}.mr-n4,.mx-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.ml-n4,.mx-n4{margin-left:-1.5rem}.m-n5{margin:-3rem}.mt-n5,.my-n5{margin-top:-3rem}.mr-n5,.mx-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}.ml-n5,.mx-n5{margin-left:-3rem}@media(min-width:768px){.m-md-0{margin:0}.mt-md-0,.my-md-0{margin-top:0}.mr-md-0,.mx-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.ml-md-0,.mx-md-0{margin-left:0}.m-md-1{margin:.25rem}.mt-md-1,.my-md-1{margin-top:.25rem}.mr-md-1,.mx-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.ml-md-1,.mx-md-1{margin-left:.25rem}.m-md-2{margin:.5rem}.mt-md-2,.my-md-2{margin-top:.5rem}.mr-md-2,.mx-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.ml-md-2,.mx-md-2{margin-left:.5rem}.m-md-3{margin:1rem}.mt-md-3,.my-md-3{margin-top:1rem}.mr-md-3,.mx-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.ml-md-3,.mx-md-3{margin-left:1rem}.m-md-4{margin:1.5rem}.mt-md-4,.my-md-4{margin-top:1.5rem}.mr-md-4,.mx-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.ml-md-4,.mx-md-4{margin-left:1.5rem}.m-md-5{margin:3rem}.mt-md-5,.my-md-5{margin-top:3rem}.mr-md-5,.mx-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.ml-md-5,.mx-md-5{margin-left:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pr-md-0{padding-right:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pr-md-1{padding-right:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pr-md-2{padding-right:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pr-md-3{padding-right:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pr-md-4{padding-right:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pr-md-5{padding-right:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.m-md-n1{margin:-.25rem}.mt-md-n1,.my-md-n1{margin-top:-.25rem}.mr-md-n1,.mx-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.ml-md-n1,.mx-md-n1{margin-left:-.25rem}.m-md-n2{margin:-.5rem}.mt-md-n2,.my-md-n2{margin-top:-.5rem}.mr-md-n2,.mx-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.ml-md-n2,.mx-md-n2{margin-left:-.5rem}.m-md-n3{margin:-1rem}.mt-md-n3,.my-md-n3{margin-top:-1rem}.mr-md-n3,.mx-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.ml-md-n3,.mx-md-n3{margin-left:-1rem}.m-md-n4{margin:-1.5rem}.mt-md-n4,.my-md-n4{margin-top:-1.5rem}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem}.m-md-n5{margin:-3rem}.mt-md-n5,.my-md-n5{margin-top:-3rem}.mr-md-n5,.mx-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}.ml-md-n5,.mx-md-n5{margin-left:-3rem}}@media(min-width:992px){.m-lg-0{margin:0}.mt-lg-0,.my-lg-0{margin-top:0}.mr-lg-0,.mx-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.ml-lg-0,.mx-lg-0{margin-left:0}.m-lg-1{margin:.25rem}.mt-lg-1,.my-lg-1{margin-top:.25rem}.mr-lg-1,.mx-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.ml-lg-1,.mx-lg-1{margin-left:.25rem}.m-lg-2{margin:.5rem}.mt-lg-2,.my-lg-2{margin-top:.5rem}.mr-lg-2,.mx-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.ml-lg-2,.mx-lg-2{margin-left:.5rem}.m-lg-3{margin:1rem}.mt-lg-3,.my-lg-3{margin-top:1rem}.mr-lg-3,.mx-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.ml-lg-3,.mx-lg-3{margin-left:1rem}.m-lg-4{margin:1.5rem}.mt-lg-4,.my-lg-4{margin-top:1.5rem}.mr-lg-4,.mx-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.ml-lg-4,.mx-lg-4{margin-left:1.5rem}.m-lg-5{margin:3rem}.mt-lg-5,.my-lg-5{margin-top:3rem}.mr-lg-5,.mx-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.ml-lg-5,.mx-lg-5{margin-left:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pr-lg-0{padding-right:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pr-lg-1{padding-right:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pr-lg-2{padding-right:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pr-lg-3{padding-right:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pr-lg-4{padding-right:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pr-lg-5{padding-right:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.m-lg-n1{margin:-.25rem}.mt-lg-n1,.my-lg-n1{margin-top:-.25rem}.mr-lg-n1,.mx-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.ml-lg-n1,.mx-lg-n1{margin-left:-.25rem}.m-lg-n2{margin:-.5rem}.mt-lg-n2,.my-lg-n2{margin-top:-.5rem}.mr-lg-n2,.mx-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.ml-lg-n2,.mx-lg-n2{margin-left:-.5rem}.m-lg-n3{margin:-1rem}.mt-lg-n3,.my-lg-n3{margin-top:-1rem}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem}.m-lg-n4{margin:-1.5rem}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem}.m-lg-n5{margin:-3rem}.mt-lg-n5,.my-lg-n5{margin-top:-3rem}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem}}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-left{text-align:left}.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-left{text-align:left}.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-info{color:#17a2b8}a.text-info:focus,a.text-info:hover{color:#0f6674}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}.table{border-collapse:collapse}.table-dark{color:inherit}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-red{color:#ff3939}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}summary{font-weight:700;color:#eee}.headerlink{text-decoration:none;margin-left:.5rem}body[data-spy] #content{overflow-x:scroll}#content table{border:1px solid #dee2e6;width:100%;margin-bottom:1rem;overflow-x:auto}#content code{color:#111;background:#eee}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,tr{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content table{border:1px solid #2a2b2c}#content code{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#815ba4}.syntax .l{color:#f99b15}.syntax .n{color:#2f1e2e}.syntax .o{color:#5bc4bf}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .m{color:#f99b15}.syntax .s{color:#48b685}.syntax .no{color:#ef6155}.syntax .ni{color:#2f1e2e}.syntax .ne{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .mo{color:#f99b15}.syntax .sc{color:#2f1e2e}.syntax .s2{color:#48b685}.syntax .se{color:#f99b15}.syntax .si{color:#f99b15}.syntax .s1{color:#48b685}.syntax .il{color:#f99b15}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .ni{color:#f8f9fa}.syntax .py{color:#f8f9fa}.syntax .sc{color:#f8f9fa}}</style>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body class="amp" dir="ltr">
    <div class="container-fluid container-lg pb-5">
      <div class="row pt-3 mb-3">
        <div class="col">
          <a href="/" class="text-decoration-none">
            <amp-img class="d-inline-block mr-3" layout="fixed" width="40" height="36" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout="fixed" width="238" height="36" src="/images/clickhouse-black.svg" alt="ClickHouse" title="ClickHouse"></amp-img>
          </a>
        </div>
      </div>
      <div class="row">
        <div id="content" class="col">
          
    <div class="alert alert-primary" role="alert">
      <p class="display-5 mb-2">Demander de l'aide!</p>
      <p class="lead">Le contenu suivant de cette page de documentation a été traduit à la machine. Mais contrairement à d'autres sites web, il ne se fait pas à la volée. Ce texte traduit vit sur le dépôt GitHub aux côtés de la base de code ClickHouse principale et attend que d'autres locuteurs natifs le rendent plus lisible par l'homme. <a href="/docs/en/whats-new/changelog/2019/" class="alert-link">Vous pouvez également utiliser la version originale anglaise comme référence.</a></p>
      <p class="lead">
          <a class="btn btn-lg btn-primary text-white" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/fr/whats-new/changelog/2019.md" target="_blank" rel="external nofollow noreferrer">
              Aide clickhouse documentation en éditant cette page
          </a>
      </p>
    </div>

          <h2 id=clickhouse-release-v19-17>Clickhouse Version 19.17<a class=headerlink href=../amp/#clickhouse-release-v19-17 title="Permanent link"> </a></h2><h3 id=clickhouse-release-v19-17-6-36-2019-12-27>Clickhouse Version 19.17.6.36, 2019-12-27<a class=headerlink href=../amp/#clickhouse-release-v19-17-6-36-2019-12-27 title="Permanent link"> </a></h3><h4 id=bug-fix>Bug Fix<a class=headerlink href=../amp/#bug-fix title="Permanent link"> </a></h4><ul><li>Dépassement de tampon potentiel fixe en décompression. Un utilisateur malveillant peut transmettre des données compressées fabriquées qui pourraient provoquer une lecture après le tampon. Ce problème a été trouvé par Eldar Zaitov de l'équipe de sécurité de L'information Yandex. <a href=https://github.com/ClickHouse/ClickHouse/pull/8404 rel="external nofollow noreferrer" target=_blank>#8404</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction possible plantage du serveur (<code class=syntax>std::terminate</code>) lorsque le serveur ne peut pas envoyer ou écrire des données au format JSON ou XML avec des valeurs de type string data (qui nécessitent une validation UTF-8) ou lors de la compression des données de résultat avec l'algorithme Brotli ou dans certains autres cas rares. <a href=https://github.com/ClickHouse/ClickHouse/pull/8384 rel="external nofollow noreferrer" target=_blank>#8384</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Dictionnaires fixes avec la source d'un clickhouse <code class=syntax>VIEW</code>, maintenant la lecture de tels dictionnaires ne provoque pas l'erreur <code class=syntax>There is no query</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/8351 rel="external nofollow noreferrer" target=_blank>#8351</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Fixe vérifier si un hôte client est autorisé par host_regexp spécifié dans les utilisateurs.XML. <a href=https://github.com/ClickHouse/ClickHouse/pull/8241 rel="external nofollow noreferrer" target=_blank>#8241</a>, <a href=https://github.com/ClickHouse/ClickHouse/pull/8342 rel="external nofollow noreferrer" target=_blank>#8342</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li><code class=syntax>RENAME TABLE</code> pour une table distribuée renomme maintenant le dossier contenant les données insérées avant d'envoyer aux fragments. Cela résout un problème avec les renommages successifs <code class=syntax>tableA-&gt;tableB</code>, <code class=syntax>tableC-&gt;tableA</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/8306 rel="external nofollow noreferrer" target=_blank>#8306</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li><code class=syntax>range_hashed</code> les dictionnaires externes créés par des requêtes DDL autorisent désormais des plages de types numériques arbitraires. <a href=https://github.com/ClickHouse/ClickHouse/pull/8275 rel="external nofollow noreferrer" target=_blank>#8275</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>INSERT INTO table SELECT ... FROM mysql(...)</code> table de fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/8234 rel="external nofollow noreferrer" target=_blank>#8234</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Fixe erreur de segmentation dans <code class=syntax>INSERT INTO TABLE FUNCTION file()</code> lors de l'insertion dans un fichier qui n'existe pas. Maintenant, dans ce cas, le fichier sera créé et insérez seraient traités. <a href=https://github.com/ClickHouse/ClickHouse/pull/8177 rel="external nofollow noreferrer" target=_blank>#8177</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Correction d'une erreur bitmapAnd lors de l'intersection d'un bitmap agrégé et d'un bitmap scalaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/8082 rel="external nofollow noreferrer" target=_blank>#8082</a> (<a href=https://github.com/moon03432 rel="external nofollow noreferrer" target=_blank>Yue Huang</a>)</li><li>Correction de segfault quand <code class=syntax>EXISTS</code> la requête a été utilisé sans <code class=syntax>TABLE</code> ou <code class=syntax>DICTIONARY</code> qualificatif, tout comme <code class=syntax>EXISTS t</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/8213 rel="external nofollow noreferrer" target=_blank>#8213</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Type de retour fixe pour les fonctions <code class=syntax>rand</code> et <code class=syntax>randConstant</code> en cas d'argument nullable. Maintenant renvoient toujours <code class=syntax>UInt32</code> et jamais <code class=syntax>Nullable(UInt32)</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/8204 rel="external nofollow noreferrer" target=_blank>#8204</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Fixe <code class=syntax>DROP DICTIONARY IF EXISTS db.dict</code> maintenant il ne lance pas d'exception si <code class=syntax>db</code> n'existe pas. <a href=https://github.com/ClickHouse/ClickHouse/pull/8185 rel="external nofollow noreferrer" target=_blank>#8185</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Si une table n'a pas été complètement abandonnée en raison d'un plantage du serveur, le serveur essaiera de la restaurer et de la charger <a href=https://github.com/ClickHouse/ClickHouse/pull/8176 rel="external nofollow noreferrer" target=_blank>#8176</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'une requête de comptage trivial pour une table distribuée s'il y a plus de deux tables locales de fragments. <a href=https://github.com/ClickHouse/ClickHouse/pull/8164 rel="external nofollow noreferrer" target=_blank>#8164</a> (<a href=https://github.com/nicelulu rel="external nofollow noreferrer" target=_blank>小路</a>)</li><li>Correction d'un bug qui conduisait à une course de données dans DB:: BlockStreamProfileInfo:: calculateRowsBeforeLimit() <a href=https://github.com/ClickHouse/ClickHouse/pull/8143 rel="external nofollow noreferrer" target=_blank>#8143</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander Kazakov</a>)</li><li>Fixe <code class=syntax>ALTER table MOVE part</code> exécuté immédiatement après la fusion de la partie spécifiée, ce qui pourrait provoquer le déplacement d'une partie la partie fusionné. Maintenant, il déplace correctement la partie spécifiée. <a href=https://github.com/ClickHouse/ClickHouse/pull/8104 rel="external nofollow noreferrer" target=_blank>#8104</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Les Expressions pour les dictionnaires peuvent maintenant être spécifiées en tant que chaînes. Ceci est utile pour le calcul des attributs lors de l'extraction de données à partir de sources non-ClickHouse, car il permet d'utiliser une syntaxe non-ClickHouse pour ces expressions. <a href=https://github.com/ClickHouse/ClickHouse/pull/8098 rel="external nofollow noreferrer" target=_blank>#8098</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'une course très rare dans <code class=syntax>clickhouse-copier</code> en raison d'un débordement dans ZXid. <a href=https://github.com/ClickHouse/ClickHouse/pull/8088 rel="external nofollow noreferrer" target=_blank>#8088</a> (<a href=https://github.com/dingxiangfei2009 rel="external nofollow noreferrer" target=_blank>Ding Xiang Fei</a>)</li><li>Correction du bug quand après la requête a échoué (en raison de “Too many simultaneous queries” par exemple) il ne lirait pas les informations des tables externes, et le<br> la requête suivante interpréterait cette information comme le début de la requête suivante provoquant une erreur comme <code class=syntax>Unknown packet from client</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/8084 rel="external nofollow noreferrer" target=_blank>#8084</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Éviter la déréférence nulle après “Unknown packet X from server” <a href=https://github.com/ClickHouse/ClickHouse/pull/8071 rel="external nofollow noreferrer" target=_blank>#8071</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Restaurer la prise en charge de tous les paramètres régionaux ICU, ajouter la possibilité d'appliquer des collations pour les expressions constantes et ajouter le nom de la langue au système.tableau de collations. <a href=https://github.com/ClickHouse/ClickHouse/pull/8051 rel="external nofollow noreferrer" target=_blank>#8051</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Nombre de flux pour lire à partir <code class=syntax>StorageFile</code> et <code class=syntax>StorageHDFS</code> est maintenant limitée, pour éviter de dépasser la limite de mémoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/7981 rel="external nofollow noreferrer" target=_blank>#7981</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>CHECK TABLE</code> requête pour <code class=syntax>*MergeTree</code> les tables sans clé. <a href=https://github.com/ClickHouse/ClickHouse/pull/7979 rel="external nofollow noreferrer" target=_blank>#7979</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Suppression du numéro de mutation d'un nom de pièce au cas où il n'y aurait pas de mutations. Cette suppression a amélioré la compatibilité avec les anciennes versions. <a href=https://github.com/ClickHouse/ClickHouse/pull/8250 rel="external nofollow noreferrer" target=_blank>#8250</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction du bug que les mutations sont ignorées pour certaines parties attachées en raison de leur data_version sont plus grandes que la version de mutation de table. <a href=https://github.com/ClickHouse/ClickHouse/pull/7812 rel="external nofollow noreferrer" target=_blank>#7812</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Autoriser le démarrage du serveur avec des copies redondantes des pièces après les avoir déplacées vers un autre périphérique. <a href=https://github.com/ClickHouse/ClickHouse/pull/7810 rel="external nofollow noreferrer" target=_blank>#7810</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction de l'erreur “Sizes of columns doesn’t match” qui pourraient apparaître lors de l'utilisation de fonction d'agrégation des colonnes. <a href=https://github.com/ClickHouse/ClickHouse/pull/7790 rel="external nofollow noreferrer" target=_blank>#7790</a> (<a href=https://github.com/bgranvea rel="external nofollow noreferrer" target=_blank>Boris Granveaud</a>)</li><li>Maintenant, une exception sera levée en cas d'utilisation avec des liens à côté de LIMIT BY. Et maintenant, il est possible d'utiliser TOP avec LIMIT BY. <a href=https://github.com/ClickHouse/ClickHouse/pull/7637 rel="external nofollow noreferrer" target=_blank>#7637</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>)</li><li>Correction du rechargement du dictionnaire s'il a <code class=syntax>invalidate_query</code>, qui a arrêté les mises à jour et une exception sur les tentatives de mise à jour précédentes. <a href=https://github.com/ClickHouse/ClickHouse/pull/8029 rel="external nofollow noreferrer" target=_blank>#8029</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h3 id=clickhouse-release-v19-17-4-11-2019-11-22>Clickhouse Version 19.17.4.11, 2019-11-22<a class=headerlink href=../amp/#clickhouse-release-v19-17-4-11-2019-11-22 title="Permanent link"> </a></h3><h4 id=backward-incompatible-change>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change title="Permanent link"> </a></h4><ul><li>Utilisation de column au lieu de AST pour stocker les résultats de la sous-requête scalaire pour de meilleures performances. Paramètre <code class=syntax>enable_scalar_subquery_optimization</code> a été ajouté dans 19.17 et il a été activé par défaut. Cela conduit à des erreurs comme <a href=https://github.com/ClickHouse/ClickHouse/issues/7851 rel="external nofollow noreferrer" target=_blank>ce</a> lors de la mise à niveau vers 19.17.2 ou 19.17.3 à partir des versions précédentes. Ce paramètre a été désactivé par défaut dans 19.17.4, pour permettre la mise à niveau à partir de 19.16 et des versions plus anciennes sans erreurs. <a href=https://github.com/ClickHouse/ClickHouse/pull/7392 rel="external nofollow noreferrer" target=_blank>#7392</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li></ul><h4 id=new-feature>Nouveauté<a class=headerlink href=../amp/#new-feature title="Permanent link"> </a></h4><ul><li>Ajoutez la possibilité de créer des dictionnaires avec des requêtes DDL. <a href=https://github.com/ClickHouse/ClickHouse/pull/7360 rel="external nofollow noreferrer" target=_blank>#7360</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Faire <code class=syntax>bloom_filter</code> type de support d'index <code class=syntax>LowCardinality</code> et <code class=syntax>Nullable</code> <a href=https://github.com/ClickHouse/ClickHouse/issues/7363 rel="external nofollow noreferrer" target=_blank>#7363</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7561 rel="external nofollow noreferrer" target=_blank>#7561</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Ajouter une fonction <code class=syntax>isValidJSON</code> pour vérifier que la chaîne est un json valide. <a href=https://github.com/ClickHouse/ClickHouse/issues/5910 rel="external nofollow noreferrer" target=_blank>#5910</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7293 rel="external nofollow noreferrer" target=_blank>#7293</a> (<a href=https://github.com/Vdimir rel="external nofollow noreferrer" target=_blank>Vdimir</a>)</li><li>Mettre <code class=syntax>arrayCompact</code> fonction <a href=https://github.com/ClickHouse/ClickHouse/pull/7328 rel="external nofollow noreferrer" target=_blank>#7328</a> (<a href=https://github.com/Joeywzr rel="external nofollow noreferrer" target=_blank>Mémo</a>)</li><li>Créé fonction <code class=syntax>hex</code> pour les nombres Décimaux. Il fonctionne comme <code class=syntax>hex(reinterpretAsString())</code>, mais ne supprime pas les derniers octets zéro. <a href=https://github.com/ClickHouse/ClickHouse/pull/7355 rel="external nofollow noreferrer" target=_blank>#7355</a> (<a href=https://github.com/millb rel="external nofollow noreferrer" target=_blank>Mikhail Korotov</a>)</li><li>Ajouter <code class=syntax>arrayFill</code> et <code class=syntax>arrayReverseFill</code> fonctions, qui remplacent les éléments par d'autres éléments en avant / arrière d'eux dans le tableau. <a href=https://github.com/ClickHouse/ClickHouse/pull/7380 rel="external nofollow noreferrer" target=_blank>#7380</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Ajouter <code class=syntax>CRC32IEEE()</code>/<code class=syntax>CRC64()</code> soutien <a href=https://github.com/ClickHouse/ClickHouse/pull/7480 rel="external nofollow noreferrer" target=_blank>#7480</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Mettre <code class=syntax>char</code> fonction similaire à celle dans <a href=https://dev.mysql.com/doc/refman/8.0/en/string-functions.html#function_char rel="external nofollow noreferrer" target=_blank>mysql</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7486 rel="external nofollow noreferrer" target=_blank>#7486</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Ajouter <code class=syntax>bitmapTransform</code> fonction. Il transforme un tableau de valeurs d'une image bitmap dans un autre tableau de valeurs, le résultat est un nouveau bitmap <a href=https://github.com/ClickHouse/ClickHouse/pull/7598 rel="external nofollow noreferrer" target=_blank>#7598</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Mettre <code class=syntax>javaHashUTF16LE()</code> fonction <a href=https://github.com/ClickHouse/ClickHouse/pull/7651 rel="external nofollow noreferrer" target=_blank>#7651</a> (<a href=https://github.com/achimbab rel="external nofollow noreferrer" target=_blank>achimbab</a>)</li><li>Ajouter <code class=syntax>_shard_num</code> colonne virtuelle pour le moteur distribué <a href=https://github.com/ClickHouse/ClickHouse/pull/7624 rel="external nofollow noreferrer" target=_blank>#7624</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li></ul><h4 id=experimental-feature>Caractéristique Expérimentale<a class=headerlink href=../amp/#experimental-feature title="Permanent link"> </a></h4><ul><li>Prise en charge des processeurs (nouveau pipeline d'exécution de requêtes) dans <code class=syntax>MergeTree</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7181 rel="external nofollow noreferrer" target=_blank>#7181</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li></ul><h4 id=bug-fix-1>Bug Fix<a class=headerlink href=../amp/#bug-fix-1 title="Permanent link"> </a></h4><ul><li>Correction d'une analyse float incorrecte Dans <code class=syntax>Values</code> <a href=https://github.com/ClickHouse/ClickHouse/issues/7817 rel="external nofollow noreferrer" target=_blank>#7817</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7870 rel="external nofollow noreferrer" target=_blank>#7870</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'un blocage rare qui peut se produire lorsque trace_log est activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/7838 rel="external nofollow noreferrer" target=_blank>#7838</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Empêcher la duplication des messages lors de la production de la table Kafka a tout MVS en sélectionnant <a href=https://github.com/ClickHouse/ClickHouse/pull/7265 rel="external nofollow noreferrer" target=_blank>#7265</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Soutien pour <code class=syntax>Array(LowCardinality(Nullable(String)))</code> dans <code class=syntax>IN</code>. Résoudre <a href=https://github.com/ClickHouse/ClickHouse/issues/7364 rel="external nofollow noreferrer" target=_blank>#7364</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7366 rel="external nofollow noreferrer" target=_blank>#7366</a> (<a href=https://github.com/achimbab rel="external nofollow noreferrer" target=_blank>achimbab</a>)</li><li>Ajouter le traitement de <code class=syntax>SQL_TINYINT</code> et <code class=syntax>SQL_BIGINT</code> et correction de la gestion des <code class=syntax>SQL_FLOAT</code> types de sources de données dans ODBC Bridge. <a href=https://github.com/ClickHouse/ClickHouse/pull/7491 rel="external nofollow noreferrer" target=_blank>#7491</a> (<a href=https://github.com/traceon rel="external nofollow noreferrer" target=_blank>Denis Glazachev</a>)</li><li>Correction de l'agrégation (<code class=syntax>avg</code> et quantiles) sur des colonnes décimales vides <a href=https://github.com/ClickHouse/ClickHouse/pull/7431 rel="external nofollow noreferrer" target=_blank>#7431</a> (<a href=https://github.com/akonyaev90 rel="external nofollow noreferrer" target=_blank>Andrey Konyaev</a>)</li><li>Fixer <code class=syntax>INSERT</code> en Distribué avec <code class=syntax>MATERIALIZED</code> colonne <a href=https://github.com/ClickHouse/ClickHouse/pull/7377 rel="external nofollow noreferrer" target=_blank>#7377</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Faire <code class=syntax>MOVE PARTITION</code> fonctionne si certaines parties de la partition sont déjà sur le disque ou le volume de destination <a href=https://github.com/ClickHouse/ClickHouse/pull/7434 rel="external nofollow noreferrer" target=_blank>#7434</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction d'un bug avec hardlinks ne pas être créé lors de mutations dans <code class=syntax>ReplicatedMergeTree</code> dans des configurations multi-disques. <a href=https://github.com/ClickHouse/ClickHouse/pull/7558 rel="external nofollow noreferrer" target=_blank>#7558</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction d'un bug avec une mutation sur un MergeTree lorsque la partie entière reste inchangée et le meilleur espace est trouvé sur un autre disque <a href=https://github.com/ClickHouse/ClickHouse/pull/7602 rel="external nofollow noreferrer" target=_blank>#7602</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction d'un bug avec <code class=syntax>keep_free_space_ratio</code> ne pas être lu à partir de la configuration des disques <a href=https://github.com/ClickHouse/ClickHouse/pull/7645 rel="external nofollow noreferrer" target=_blank>#7645</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction d'un bug avec la table ne contient que <code class=syntax>Tuple</code> colonnes ou colonnes avec des chemins complexes. Fixer <a href=https://github.com/ClickHouse/ClickHouse/issues/7541 rel="external nofollow noreferrer" target=_blank>7541</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7545 rel="external nofollow noreferrer" target=_blank>#7545</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ne pas tenir compte de la mémoire pour le moteur tampon dans la limite max_memory_usage <a href=https://github.com/ClickHouse/ClickHouse/pull/7552 rel="external nofollow noreferrer" target=_blank>#7552</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Correction de l'utilisation finale de la marque dans <code class=syntax>MergeTree</code> tableaux commandés par <code class=syntax>tuple()</code>. Dans de rares cas cela pourrait conduire à <code class=syntax>Can't adjust last granule</code> erreur lors de la sélection. <a href=https://github.com/ClickHouse/ClickHouse/pull/7639 rel="external nofollow noreferrer" target=_blank>#7639</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction d'un bug dans les mutations qui ont un prédicat avec des actions qui nécessitent un contexte (par exemple des fonctions pour json), ce qui peut entraîner des plantages ou des exceptions étranges. <a href=https://github.com/ClickHouse/ClickHouse/pull/7664 rel="external nofollow noreferrer" target=_blank>#7664</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de l'inadéquation des noms de base de données et de table s'échappant dans <code class=syntax>data/</code> et <code class=syntax>shadow/</code> annuaire <a href=https://github.com/ClickHouse/ClickHouse/pull/7575 rel="external nofollow noreferrer" target=_blank>#7575</a> (<a href=https://github.com/Alex-Burmak rel="external nofollow noreferrer" target=_blank>Alexander Burmak</a>)</li><li>Support duplicated keys in RIGHT|FULL JOINs, e.g. <code class=syntax>ON t.x = u.x AND t.x = u.y</code>. Correction d'un crash dans ce cas. <a href=https://github.com/ClickHouse/ClickHouse/pull/7586 rel="external nofollow noreferrer" target=_blank>#7586</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixer <code class=syntax>Not found column &lt;expression&gt; in block</code> lors de la jointure sur l'expression avec jointure droite ou complète. <a href=https://github.com/ClickHouse/ClickHouse/pull/7641 rel="external nofollow noreferrer" target=_blank>#7641</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Une tentative de plus pour corriger la boucle infinie dans <code class=syntax>PrettySpace</code> format <a href=https://github.com/ClickHouse/ClickHouse/pull/7591 rel="external nofollow noreferrer" target=_blank>#7591</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Correction d'un bug dans <code class=syntax>concat</code> fonction lorsque tous les arguments étaient <code class=syntax>FixedString</code> de la même taille. <a href=https://github.com/ClickHouse/ClickHouse/pull/7635 rel="external nofollow noreferrer" target=_blank>#7635</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'une exception en cas d'utilisation de 1 argument lors de la définition des stockages S3, URL et HDFS. <a href=https://github.com/ClickHouse/ClickHouse/pull/7618 rel="external nofollow noreferrer" target=_blank>#7618</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction de la portée de InterpreterSelectQuery pour les vues Avec requête <a href=https://github.com/ClickHouse/ClickHouse/pull/7601 rel="external nofollow noreferrer" target=_blank>#7601</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li></ul><h4 id=improvement>Amélioration<a class=headerlink href=../amp/#improvement title="Permanent link"> </a></h4><ul><li><code class=syntax>Nullable</code> colonnes reconnues et valeurs NULL gérées correctement par ODBC-bridge <a href=https://github.com/ClickHouse/ClickHouse/pull/7402 rel="external nofollow noreferrer" target=_blank>#7402</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Ecrire le lot actuel pour distribué envoyer atomiquement <a href=https://github.com/ClickHouse/ClickHouse/pull/7600 rel="external nofollow noreferrer" target=_blank>#7600</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Lancez une exception si nous ne pouvons pas détecter la table pour le nom de la colonne dans la requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/7358 rel="external nofollow noreferrer" target=_blank>#7358</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajouter <code class=syntax>merge_max_block_size</code> réglage de <code class=syntax>MergeTreeSettings</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/7412 rel="external nofollow noreferrer" target=_blank>#7412</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Les requêtes avec <code class=syntax>HAVING</code> et sans <code class=syntax>GROUP BY</code> supposons groupe par constante. Si, <code class=syntax>SELECT 1 HAVING 1</code> maintenant retourne un résultat. <a href=https://github.com/ClickHouse/ClickHouse/pull/7496 rel="external nofollow noreferrer" target=_blank>#7496</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Soutien à l'analyse <code class=syntax>(X,)</code> comme tuple similaire à python. <a href=https://github.com/ClickHouse/ClickHouse/pull/7501 rel="external nofollow noreferrer" target=_blank>#7501</a>, <a href=https://github.com/ClickHouse/ClickHouse/pull/7562 rel="external nofollow noreferrer" target=_blank>#7562</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Faire <code class=syntax>range</code> les comportements de fonction ressemblent presque à ceux de pythonic. <a href=https://github.com/ClickHouse/ClickHouse/pull/7518 rel="external nofollow noreferrer" target=_blank>#7518</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Ajouter <code class=syntax>constraints</code> les colonnes de la table <code class=syntax>system.settings</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/7553 rel="external nofollow noreferrer" target=_blank>#7553</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Meilleur format Null pour le gestionnaire tcp, de sorte qu'il est possible d'utiliser <code class=syntax>select ignore(&lt;expression&gt;) from table format Null</code> pour perf mesure via clickhouse-client <a href=https://github.com/ClickHouse/ClickHouse/pull/7606 rel="external nofollow noreferrer" target=_blank>#7606</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Les requêtes comme <code class=syntax>CREATE TABLE ... AS (SELECT (1, 2))</code> sont analysés correctement <a href=https://github.com/ClickHouse/ClickHouse/pull/7542 rel="external nofollow noreferrer" target=_blank>#7542</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li></ul><h4 id=performance-improvement>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement title="Permanent link"> </a></h4><ul><li>Les performances de l'agrégation sur les clés de chaîne courte sont améliorées. <a href=https://github.com/ClickHouse/ClickHouse/pull/6243 rel="external nofollow noreferrer" target=_blank>#6243</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander Kuzmenkov</a>, <a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Exécutez une autre passe d'analyse de syntaxe / expression pour obtenir des optimisations potentielles après que les prédicats constants sont pliés. <a href=https://github.com/ClickHouse/ClickHouse/pull/7497 rel="external nofollow noreferrer" target=_blank>#7497</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Utilisez les méta informations de stockage pour évaluer trivial <code class=syntax>SELECT count() FROM table;</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/7510 rel="external nofollow noreferrer" target=_blank>#7510</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>, <a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Vectoriser le traitement <code class=syntax>arrayReduce</code> semblable à Agrégateur <code class=syntax>addBatch</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7608 rel="external nofollow noreferrer" target=_blank>#7608</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Améliorations mineures des performances de <code class=syntax>Kafka</code> consommation <a href=https://github.com/ClickHouse/ClickHouse/pull/7475 rel="external nofollow noreferrer" target=_blank>#7475</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h4 id=buildtestingpackaging-improvement>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement title="Permanent link"> </a></h4><ul><li>Ajouter la prise en charge de la compilation croisée à L'architecture du processeur AARCH64. Refactoriser le code emballeur script. <a href=https://github.com/ClickHouse/ClickHouse/pull/7370 rel="external nofollow noreferrer" target=_blank>#7370</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7539 rel="external nofollow noreferrer" target=_blank>#7539</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Décompressez les chaînes d'outils darwin-x86_64 et linux-aarch64 dans le volume Docker monté lors de la construction de paquets <a href=https://github.com/ClickHouse/ClickHouse/pull/7534 rel="external nofollow noreferrer" target=_blank>#7534</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Mise à jour de L'Image Docker pour le Packager binaire <a href=https://github.com/ClickHouse/ClickHouse/pull/7474 rel="external nofollow noreferrer" target=_blank>#7474</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction des erreurs de compilation sur macOS Catalina <a href=https://github.com/ClickHouse/ClickHouse/pull/7585 rel="external nofollow noreferrer" target=_blank>#7585</a> (<a href=https://github.com/ernestp rel="external nofollow noreferrer" target=_blank>Ernest Poletaev</a>)</li><li>Certains refactoring dans la logique d'analyse de requête: diviser la classe complexe en plusieurs classes simples. <a href=https://github.com/ClickHouse/ClickHouse/pull/7454 rel="external nofollow noreferrer" target=_blank>#7454</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fix construire sans submodules <a href=https://github.com/ClickHouse/ClickHouse/pull/7295 rel="external nofollow noreferrer" target=_blank>#7295</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Mieux <code class=syntax>add_globs</code> dans les fichiers CMake <a href=https://github.com/ClickHouse/ClickHouse/pull/7418 rel="external nofollow noreferrer" target=_blank>#7418</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Supprimer les chemins codés en dur dans <code class=syntax>unwind</code> cible <a href=https://github.com/ClickHouse/ClickHouse/pull/7460 rel="external nofollow noreferrer" target=_blank>#7460</a> (<a href=https://github.com/podshumok rel="external nofollow noreferrer" target=_blank>Konstantin Podshumok</a>)</li><li>Permettre d'utiliser le format mysql sans ssl <a href=https://github.com/ClickHouse/ClickHouse/pull/7524 rel="external nofollow noreferrer" target=_blank>#7524</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=other>Autre<a class=headerlink href=../amp/#other title="Permanent link"> </a></h4><ul><li>Ajout de la grammaire ANTLR4 pour le dialecte ClickHouse SQL <a href=https://github.com/ClickHouse/ClickHouse/issues/7595 rel="external nofollow noreferrer" target=_blank>#7595</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/7596 rel="external nofollow noreferrer" target=_blank>#7596</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h2 id=clickhouse-release-v19-16>Clickhouse Version 19.16<a class=headerlink href=../amp/#clickhouse-release-v19-16 title="Permanent link"> </a></h2><h4 id=clickhouse-release-v19-16-14-65-2020-03-25>Clickhouse Version 19.16.14.65, 2020-03-25<a class=headerlink href=../amp/#clickhouse-release-v19-16-14-65-2020-03-25 title="Permanent link"> </a></h4><ul><li>Correction d'un bug dans les calculs par lots des opérations logiques ternaires sur plusieurs arguments (plus de 10). <a href=https://github.com/ClickHouse/ClickHouse/pull/8718 rel="external nofollow noreferrer" target=_blank>#8718</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander Kazakov</a>) Ce correctif a été rétroporté à la version 19.16 par une demande spéciale D'Altinity.</li></ul><h4 id=clickhouse-release-v19-16-14-65-2020-03-05>Clickhouse Version 19.16.14.65, 2020-03-05<a class=headerlink href=../amp/#clickhouse-release-v19-16-14-65-2020-03-05 title="Permanent link"> </a></h4><ul><li>Correction de l'incompatibilité des sous-requêtes distribuées avec les anciennes versions de CH. Fixer <a href=https://github.com/ClickHouse/ClickHouse/issues/7851 rel="external nofollow noreferrer" target=_blank>#7851</a><br><a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>(tabplubix)</a></li><li>Lors de l'exécution de <code class=syntax>CREATE</code> requête, plier les expressions constantes dans les arguments du moteur de stockage. Remplacez le nom de base de données vide par la base de données actuelle. Fixer <a href=https://github.com/ClickHouse/ClickHouse/issues/6508 rel="external nofollow noreferrer" target=_blank>#6508</a>, <a href=https://github.com/ClickHouse/ClickHouse/issues/3492 rel="external nofollow noreferrer" target=_blank>#3492</a>. Corrigez également la vérification de l'adresse locale dans <code class=syntax>ClickHouseDictionarySource</code>.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/9262 rel="external nofollow noreferrer" target=_blank>#9262</a> <a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>(tabplubix)</a></li><li>Maintenant fond fusionne dans <code class=syntax>*MergeTree</code> la famille des moteurs de table préserve l'ordre de volume de la Politique de stockage avec plus de précision.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/8549 rel="external nofollow noreferrer" target=_blank>#8549</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Empêcher la perte de données dans <code class=syntax>Kafka</code> dans de rares cas, lorsque l'exception se produit après la lecture du suffixe mais avant la validation. Fixer <a href=https://github.com/ClickHouse/ClickHouse/issues/9378 rel="external nofollow noreferrer" target=_blank>#9378</a>. Concerner: <a href=https://github.com/ClickHouse/ClickHouse/issues/7175 rel="external nofollow noreferrer" target=_blank>#7175</a><br><a href=https://github.com/ClickHouse/ClickHouse/pull/9507 rel="external nofollow noreferrer" target=_blank>#9507</a> <a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>(filimonov)</a></li><li>Correction d'un bug menant à la résiliation du serveur lorsque vous essayez d'utiliser / drop <code class=syntax>Kafka</code> tableau créé avec de mauvais paramètres. Fixer <a href=https://github.com/ClickHouse/ClickHouse/issues/9494 rel="external nofollow noreferrer" target=_blank>#9494</a>. Incorporer <a href=https://github.com/ClickHouse/ClickHouse/issues/9507 rel="external nofollow noreferrer" target=_blank>#9507</a>.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/9513 rel="external nofollow noreferrer" target=_blank>#9513</a> <a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>(filimonov)</a></li><li>Autoriser l'utilisation des <code class=syntax>MaterializedView</code> avec les sous-requêtes ci-dessus <code class=syntax>Kafka</code> table.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/8197 rel="external nofollow noreferrer" target=_blank>#8197</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li></ul><h4 id=new-feature-1>Nouveauté<a class=headerlink href=../amp/#new-feature-1 title="Permanent link"> </a></h4><ul><li>Ajouter <code class=syntax>deduplicate_blocks_in_dependent_materialized_views</code> option pour contrôler le comportement des insertions idempotent dans des tables avec des vues matérialisées. Cette nouvelle fonctionnalité a été ajoutée à la version de bugfix par une demande spéciale D'Altinity.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/9070 rel="external nofollow noreferrer" target=_blank>#9070</a> <a href=https://github.com/urykhy rel="external nofollow noreferrer" target=_blank>(urykhy)</a></li></ul><h3 id=clickhouse-release-v19-16-2-2-2019-10-30>Clickhouse Version 19.16.2.2, 2019-10-30<a class=headerlink href=../amp/#clickhouse-release-v19-16-2-2-2019-10-30 title="Permanent link"> </a></h3><h4 id=backward-incompatible-change-1>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-1 title="Permanent link"> </a></h4><ul><li>Ajouter une validation d'arité manquante pour count / counIf.<br><a href=https://github.com/ClickHouse/ClickHouse/issues/7095 rel="external nofollow noreferrer" target=_blank>#7095</a><br><a href=https://github.com/ClickHouse/ClickHouse/pull/7298 rel="external nofollow noreferrer" target=_blank>#7298</a> (<a href=https://github.com/Vdimir rel="external nofollow noreferrer" target=_blank>Vdimir</a>)</li><li>Supprimer l'héritage <code class=syntax>asterisk_left_columns_only</code> paramètre (il est désactivé par défaut).<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7335 rel="external nofollow noreferrer" target=_blank>#7335</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem<br> Zuikov</a>)</li><li>Les chaînes de Format pour le format de données de modèle sont maintenant spécifiées dans les fichiers.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7118 rel="external nofollow noreferrer" target=_blank>#7118</a><br> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li></ul><h4 id=new-feature-2>Nouveauté<a class=headerlink href=../amp/#new-feature-2 title="Permanent link"> </a></h4><ul><li>Introduisez uniqCombined64() pour calculer la cardinalité supérieure à UINT_MAX.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7213 rel="external nofollow noreferrer" target=_blank>#7213</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7222 rel="external nofollow noreferrer" target=_blank>#7222</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat<br> Khuzhin</a>)</li><li>Soutenir les index de filtre Bloom sur les colonnes de tableau.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/6984 rel="external nofollow noreferrer" target=_blank>#6984</a><br> (<a href=https://github.com/achimbab rel="external nofollow noreferrer" target=_blank>achimbab</a>)</li><li>Ajouter une fonction <code class=syntax>getMacro(name)</code> cela renvoie une chaîne avec la valeur de <code class=syntax>&lt;macros&gt;</code><br> à partir de la configuration du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/7240 rel="external nofollow noreferrer" target=_blank>#7240</a><br> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Définissez deux options de configuration pour un dictionnaire basé sur une source HTTP: <code class=syntax>credentials</code> et<br><code class=syntax>http-headers</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7092 rel="external nofollow noreferrer" target=_blank>#7092</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume<br> Tassery</a>)</li><li>Ajouter un nouveau ProfileEvent <code class=syntax>Merge</code> cela compte le nombre de fusions d'arrière-plan lancées.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7093 rel="external nofollow noreferrer" target=_blank>#7093</a> (<a href=https://github.com/millb rel="external nofollow noreferrer" target=_blank>Mikhail<br> Korotov</a>)</li><li>Ajouter la fonction fullHostName qui renvoie un nom de domaine complet.<br><a href=https://github.com/ClickHouse/ClickHouse/issues/7263 rel="external nofollow noreferrer" target=_blank>#7263</a><br><a href=https://github.com/ClickHouse/ClickHouse/pull/7291 rel="external nofollow noreferrer" target=_blank>#7291</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Ajouter une fonction <code class=syntax>arraySplit</code> et <code class=syntax>arrayReverseSplit</code> qui divise un tableau par “cut off”<br> condition. Ils sont utiles dans la gestion de la séquence temporelle.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7294 rel="external nofollow noreferrer" target=_blank>#7294</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Ajoutez de nouvelles fonctions qui renvoient le tableau de tous les indices appariés dans la famille de fonctions multiMatch.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7299 rel="external nofollow noreferrer" target=_blank>#7299</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila<br> Kutenin</a>)</li><li>Ajouter un nouveau moteur de base de données <code class=syntax>Lazy</code> qui est optimisé pour stocker un grand nombre de petits journaux<br> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/7171 rel="external nofollow noreferrer" target=_blank>#7171</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita<br> Vasiliev</a>)</li><li>Ajouter des fonctions d'agrégation groupBitmapAnd, - ou, - Xor pour les colonnes bitmap. <a href=https://github.com/ClickHouse/ClickHouse/pull/7109 rel="external nofollow noreferrer" target=_blank>#7109</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang<br> Yu</a>)</li><li>Ajouter des combinateurs de fonctions d'agrégat-OrNull et-OrDefault, qui renvoient null<br> ou des valeurs par défaut lorsqu'il n'y a rien à agréger.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7331 rel="external nofollow noreferrer" target=_blank>#7331</a><br> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Introduire le format de données CustomSeparated qui prend en charge l'échappement personnalisé et<br> séparateur de règles. <a href=https://github.com/ClickHouse/ClickHouse/pull/7118 rel="external nofollow noreferrer" target=_blank>#7118</a><br> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Soutien Redis comme source de dictionnaire externe. <a href=https://github.com/ClickHouse/ClickHouse/pull/4361 rel="external nofollow noreferrer" target=_blank>#4361</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6962 rel="external nofollow noreferrer" target=_blank>#6962</a> (<a href=https://github.com/comunodi rel="external nofollow noreferrer" target=_blank>comunodi</a>, <a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton<br> Popov</a>)</li></ul><h4 id=bug-fix-2>Bug Fix<a class=headerlink href=../amp/#bug-fix-2 title="Permanent link"> </a></h4><ul><li>Correction d'un résultat de requête incorrect s'il a <code class=syntax>WHERE IN (SELECT ...)</code> la section et <code class=syntax>optimize_read_in_order</code> être<br> utiliser. <a href=https://github.com/ClickHouse/ClickHouse/pull/7371 rel="external nofollow noreferrer" target=_blank>#7371</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton<br> Popov</a>)</li><li>Plugin D'authentification MariaDB désactivé, qui dépend des fichiers en dehors du projet.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7140 rel="external nofollow noreferrer" target=_blank>#7140</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Iouri<br> Baranov</a>)</li><li>Correction d'une exception <code class=syntax>Cannot convert column ... because it is constant but values of constants are different in source and result</code> ce qui pourrait rarement arriver lorsque les fonctions <code class=syntax>now()</code>, <code class=syntax>today()</code>,<br><code class=syntax>yesterday()</code>, <code class=syntax>randConstant()</code> sont utilisés.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7156 rel="external nofollow noreferrer" target=_blank>#7156</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolaï<br> Kochetov</a>)</li><li>Correction d'un problème d'utilisation de HTTP keep alive timeout au lieu de TCP keep alive timeout.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7351 rel="external nofollow noreferrer" target=_blank>#7351</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vassili<br> Nemkov</a>)</li><li>Correction d'un défaut de segmentation dans groupBitmapOr (problème <a href=https://github.com/ClickHouse/ClickHouse/issues/7109 rel="external nofollow noreferrer" target=_blank>#7109</a>).<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7289 rel="external nofollow noreferrer" target=_blank>#7289</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang<br> Yu</a>)</li><li>Pour les vues matérialisées, le commit pour Kafka est appelé après l'écriture de toutes les données.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7175 rel="external nofollow noreferrer" target=_blank>#7175</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fixe de mal <code class=syntax>duration_ms</code> valeur en <code class=syntax>system.part_log</code> table. Il y a dix reprises.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7172 rel="external nofollow noreferrer" target=_blank>#7172</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir<br> Chebotarev</a>)</li><li>Une solution rapide pour résoudre le crash dans la table LIVE VIEW et réactiver tous les tests LIVE VIEW.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7201 rel="external nofollow noreferrer" target=_blank>#7201</a><br> (<a href=https://github.com/vzakaznikov rel="external nofollow noreferrer" target=_blank>vzakaznikov</a>)</li><li>Sérialiser correctement les valeurs NULL dans les index min / max des parties MergeTree.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7234 rel="external nofollow noreferrer" target=_blank>#7234</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander<br> Kuzmenkov</a>)</li><li>Ne mettez pas de colonnes virtuelles à .métadonnées sql lorsque la table est créée en tant que <code class=syntax>CREATE TABLE AS</code>.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7183 rel="external nofollow noreferrer" target=_blank>#7183</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction d'un défaut de segmentation dans <code class=syntax>ATTACH PART</code> requête.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7185 rel="external nofollow noreferrer" target=_blank>#7185</a><br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un mauvais résultat pour certaines requêtes données par l'optimisation de empty IN subqueries et empty<br> INNER/RIGHT JOIN. <a href=https://github.com/ClickHouse/ClickHouse/pull/7284 rel="external nofollow noreferrer" target=_blank>#7284</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolaï<br> Kochetov</a>)</li><li>Correction D'une erreur AddressSanitizer dans la méthode LIVE VIEW getHeader ().<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7271 rel="external nofollow noreferrer" target=_blank>#7271</a><br> (<a href=https://github.com/vzakaznikov rel="external nofollow noreferrer" target=_blank>vzakaznikov</a>)</li></ul><h4 id=improvement-1>Amélioration<a class=headerlink href=../amp/#improvement-1 title="Permanent link"> </a></h4><ul><li>Ajouter un message en cas d'attente queue_wait_max_ms.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7390 rel="external nofollow noreferrer" target=_blank>#7390</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat<br> Khuzhin</a>)</li><li>Faites le réglage de <code class=syntax>s3_min_upload_part_size</code> au niveau de la table.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7059 rel="external nofollow noreferrer" target=_blank>#7059</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir<br> Chebotarev</a>)</li><li>Vérifiez TTL dans StorageFactory. <a href=https://github.com/ClickHouse/ClickHouse/pull/7304 rel="external nofollow noreferrer" target=_blank>#7304</a><br> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Squash blocs de gauche en fusion partielle join (optimisation).<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7122 rel="external nofollow noreferrer" target=_blank>#7122</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem<br> Zuikov</a>)</li><li>N'autorisez pas les fonctions non déterministes dans les mutations des moteurs de table répliqués, car<br> peut introduire des incohérences entre les répliques.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7247 rel="external nofollow noreferrer" target=_blank>#7247</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander<br> Kazakov</a>)</li><li>Désactivez le suivi de la mémoire lors de la conversion de trace de pile d'exception en chaîne. Il peut empêcher la perte<br> des messages d'erreur de type <code class=syntax>Memory limit exceeded</code> sur le serveur, qui a causé la <code class=syntax>Attempt to read after eof</code> exception sur le client. <a href=https://github.com/ClickHouse/ClickHouse/pull/7264 rel="external nofollow noreferrer" target=_blank>#7264</a><br> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Améliorations diverses du format. Résoudre<br><a href=https://github.com/ClickHouse/ClickHouse/issues/6033 rel="external nofollow noreferrer" target=_blank>#6033</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/issues/2633 rel="external nofollow noreferrer" target=_blank>#2633</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/issues/6611 rel="external nofollow noreferrer" target=_blank>#6611</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/issues/6742 rel="external nofollow noreferrer" target=_blank>#6742</a><br><a href=https://github.com/ClickHouse/ClickHouse/pull/7215 rel="external nofollow noreferrer" target=_blank>#7215</a><br> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>ClickHouse ignore les valeurs du côté droit de L'opérateur IN qui ne sont pas convertibles vers la gauche<br> side type. Make it work properly for compound types – Array and Tuple.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7283 rel="external nofollow noreferrer" target=_blank>#7283</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander<br> Kuzmenkov</a>)</li><li>Soutenir les inégalités manquantes pour ASOF JOIN. Il est possible de rejoindre une variante moins ou égale et stricte<br> plus grandes et moins de variantes pour la colonne ASOF dans la syntaxe ON.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7282 rel="external nofollow noreferrer" target=_blank>#7282</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem<br> Zuikov</a>)</li><li>Optimiser la fusion partielle jointure. <a href=https://github.com/ClickHouse/ClickHouse/pull/7070 rel="external nofollow noreferrer" target=_blank>#7070</a><br> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>N'utilisez pas plus de 98K de mémoire dans les fonctions uniqCombined.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7236 rel="external nofollow noreferrer" target=_blank>#7236</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7270 rel="external nofollow noreferrer" target=_blank>#7270</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat<br> Khuzhin</a>)</li><li>Rincer les parties de la table de jonction de droite sur le disque dans PartialMergeJoin (s'il n'y en a pas assez<br> mémoire). Chargez les données en arrière en cas de besoin. <a href=https://github.com/ClickHouse/ClickHouse/pull/7186 rel="external nofollow noreferrer" target=_blank>#7186</a><br> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=performance-improvement-1>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement-1 title="Permanent link"> </a></h4><ul><li>Accélérez joinGet avec des arguments const en évitant la duplication des données.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7359 rel="external nofollow noreferrer" target=_blank>#7359</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos<br> Oiseau</a>)</li><li>De retour plus tôt si la sous-requête est vide.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7007 rel="external nofollow noreferrer" target=_blank>#7007</a> (<a href=https://github.com/nicelulu rel="external nofollow noreferrer" target=_blank>小路</a>)</li><li>Optimiser l'analyse de l'expression SQL dans les valeurs.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/6781 rel="external nofollow noreferrer" target=_blank>#6781</a><br> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li></ul><h4 id=buildtestingpackaging-improvement-1>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-1 title="Permanent link"> </a></h4><ul><li>Désactivez certaines contribs pour la compilation croisée sur Mac OS.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7101 rel="external nofollow noreferrer" target=_blank>#7101</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Ajouter un lien manquant avec PocoXML pour clickhouse_common_io.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7200 rel="external nofollow noreferrer" target=_blank>#7200</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat<br> Khuzhin</a>)</li><li>Accepter plusieurs arguments de filtre de test dans clickhouse-test.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7226 rel="external nofollow noreferrer" target=_blank>#7226</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander<br> Kuzmenkov</a>)</li><li>Activer musl et jemalloc pour ARM. <a href=https://github.com/ClickHouse/ClickHouse/pull/7300 rel="external nofollow noreferrer" target=_blank>#7300</a><br> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Ajouter <code class=syntax>--client-option</code> paramètre <code class=syntax>clickhouse-test</code> pour passer des paramètres supplémentaires au client.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7277 rel="external nofollow noreferrer" target=_blank>#7277</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolaï<br> Kochetov</a>)</li><li>Préserver les configurations existantes lors de la mise à niveau du package rpm.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7103 rel="external nofollow noreferrer" target=_blank>#7103</a><br> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Correction des erreurs détectées par PVS. <a href=https://github.com/ClickHouse/ClickHouse/pull/7153 rel="external nofollow noreferrer" target=_blank>#7153</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem<br> Zuikov</a>)</li><li>Correction de la construction pour Darwin. <a href=https://github.com/ClickHouse/ClickHouse/pull/7149 rel="external nofollow noreferrer" target=_blank>#7149</a><br> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>compatibilité glibc 2.29. <a href=https://github.com/ClickHouse/ClickHouse/pull/7142 rel="external nofollow noreferrer" target=_blank>#7142</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos<br> Oiseau</a>)</li><li>Assurez-vous que dh_clean ne touche pas les fichiers sources potentiels.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7205 rel="external nofollow noreferrer" target=_blank>#7205</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos<br> Oiseau</a>)</li><li>Essayez d'éviter les conflits lors de la mise à jour à partir d'altinity rpm-le fichier de configuration est emballé séparément<br> dans clickhouse-serveur commun. <a href=https://github.com/ClickHouse/ClickHouse/pull/7073 rel="external nofollow noreferrer" target=_blank>#7073</a><br> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Optimisez certains fichiers d'en-tête pour des reconstructions plus rapides.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7212 rel="external nofollow noreferrer" target=_blank>#7212</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7231 rel="external nofollow noreferrer" target=_blank>#7231</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander<br> Kuzmenkov</a>)</li><li>Ajouter des tests de performance pour Date et DateTime. <a href=https://github.com/ClickHouse/ClickHouse/pull/7332 rel="external nofollow noreferrer" target=_blank>#7332</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vassili<br> Nemkov</a>)</li><li>Correction de certains tests contenant des mutations non déterministes.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7132 rel="external nofollow noreferrer" target=_blank>#7132</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander<br> Kazakov</a>)</li><li>Ajouter build avec MemorySanitizer à CI. <a href=https://github.com/ClickHouse/ClickHouse/pull/7066 rel="external nofollow noreferrer" target=_blank>#7066</a><br> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander Kuzmenkov</a>)</li><li>Évitez l'utilisation de valeurs non initialisées dans MetricsTransmitter.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7158 rel="external nofollow noreferrer" target=_blank>#7158</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat<br> Khuzhin</a>)</li><li>Correction de certains problèmes dans les champs trouvés par MemorySanitizer.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7135 rel="external nofollow noreferrer" target=_blank>#7135</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7179 rel="external nofollow noreferrer" target=_blank>#7179</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander<br> Kuzmenkov</a>), <a href=https://github.com/ClickHouse/ClickHouse/pull/7376 rel="external nofollow noreferrer" target=_blank>#7376</a><br> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Correction d'un comportement indéfini dans murmurhash32. <a href=https://github.com/ClickHouse/ClickHouse/pull/7388 rel="external nofollow noreferrer" target=_blank>#7388</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos<br> Oiseau</a>)</li><li>Correction d'un comportement indéfini dans StoragesInfoStream. <a href=https://github.com/ClickHouse/ClickHouse/pull/7384 rel="external nofollow noreferrer" target=_blank>#7384</a><br> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction du pliage d'expressions constantes pour les moteurs de base de données externes (MySQL, ODBC, JDBC). Dans les précédents<br> versions il ne fonctionnait pas pour plusieurs expressions constantes et ne fonctionnait pas du tout pour la Date,<br> DateTime et UUID. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/7245 rel="external nofollow noreferrer" target=_blank>#7245</a><br><a href=https://github.com/ClickHouse/ClickHouse/pull/7252 rel="external nofollow noreferrer" target=_blank>#7252</a><br> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction D'une erreur de course de données ThreadSanitizer dans la vue en direct lors de l'accès à la variable no_users_thread.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7353 rel="external nofollow noreferrer" target=_blank>#7353</a><br> (<a href=https://github.com/vzakaznikov rel="external nofollow noreferrer" target=_blank>vzakaznikov</a>)</li><li>Débarrassez-vous des symboles malloc dans libcommon<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7134 rel="external nofollow noreferrer" target=_blank>#7134</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7065 rel="external nofollow noreferrer" target=_blank>#7065</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos<br> Oiseau</a>)</li><li>Ajoutez l'indicateur global ENABLE_LIBRARIES pour désactiver toutes les bibliothèques.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7063 rel="external nofollow noreferrer" target=_blank>#7063</a><br> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=code-cleanup>Nettoyage De Code<a class=headerlink href=../amp/#code-cleanup title="Permanent link"> </a></h4><ul><li>Généraliser le référentiel de configuration pour préparer DDL pour les dictionnaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/7155 rel="external nofollow noreferrer" target=_blank>#7155</a><br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Parser pour les dictionnaires DDL sans aucune sémantique.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7209 rel="external nofollow noreferrer" target=_blank>#7209</a><br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Divisez ParserCreateQuery en différents analyseurs plus petits.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7253 rel="external nofollow noreferrer" target=_blank>#7253</a><br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Petit refactoring et renommage près de dictionnaires externes.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7111 rel="external nofollow noreferrer" target=_blank>#7111</a><br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Refactorisez du code pour vous préparer au contrôle d'accès basé sur les rôles. <a href=https://github.com/ClickHouse/ClickHouse/pull/7235 rel="external nofollow noreferrer" target=_blank>#7235</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly<br> Baranov</a>)</li><li>Quelques améliorations dans Databasecode ordinaire.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7086 rel="external nofollow noreferrer" target=_blank>#7086</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita<br> Vasiliev</a>)</li><li>N'utilisez pas d'itérateurs dans les méthodes find() et emplace () des tables de hachage.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7026 rel="external nofollow noreferrer" target=_blank>#7026</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander<br> Kuzmenkov</a>)</li><li>Fix getMultipleValuesFromConfig dans le cas où le paramètre root n'est pas vide. <a href=https://github.com/ClickHouse/ClickHouse/pull/7374 rel="external nofollow noreferrer" target=_blank>#7374</a><br> (<a href=https://github.com/millb rel="external nofollow noreferrer" target=_blank>Mikhail Korotov</a>)</li><li>Supprimer un copier-coller (TemporaryFile et TemporaryFileStream)<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7166 rel="external nofollow noreferrer" target=_blank>#7166</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem<br> Zuikov</a>)</li><li>Amélioration de la lisibilité du code un peu (<code class=syntax>MergeTreeData::getActiveContainingPart</code>).<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7361 rel="external nofollow noreferrer" target=_blank>#7361</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir<br> Chebotarev</a>)</li><li>Attendez tous les travaux planifiés, qui utilisent des objets locaux, si <code class=syntax>ThreadPool::schedule(...)</code> jeter<br> exception. Renommer <code class=syntax>ThreadPool::schedule(...)</code> de <code class=syntax>ThreadPool::scheduleOrThrowOnError(...)</code> et<br> correction des commentaires pour rendre évident qu'il peut jeter.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7350 rel="external nofollow noreferrer" target=_blank>#7350</a><br> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li></ul><h2 id=clickhouse-release-19-15>Version ClickHouse 19.15<a class=headerlink href=../amp/#clickhouse-release-19-15 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-15-4-10-2019-10-31>Clickhouse Version 19.15.4.10, 2019-10-31<a class=headerlink href=../amp/#clickhouse-release-19-15-4-10-2019-10-31 title="Permanent link"> </a></h3><h4 id=bug-fix-3>Bug Fix<a class=headerlink href=../amp/#bug-fix-3 title="Permanent link"> </a></h4><ul><li>Ajout de la gestion de SQL_TINYINT et SQL_BIGINT, et correction de la gestion des types de sources de données SQL_FLOAT dans ODBC Bridge.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7491 rel="external nofollow noreferrer" target=_blank>#7491</a> (<a href=https://github.com/traceon rel="external nofollow noreferrer" target=_blank>Denis Glazachev</a>)</li><li>Autorisé à avoir certaines parties sur le disque de destination ou le volume dans la PARTITION de déplacement.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7434 rel="external nofollow noreferrer" target=_blank>#7434</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Valeurs NULL fixes dans les colonnes nullables via ODBC-bridge.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7402 rel="external nofollow noreferrer" target=_blank>#7402</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Insertion fixe dans un nœud non Local distribué avec des colonnes matérialisées.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7377 rel="external nofollow noreferrer" target=_blank>#7377</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Fonction fixe getMultipleValuesFromConfig.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7374 rel="external nofollow noreferrer" target=_blank>#7374</a> (<a href=https://github.com/millb rel="external nofollow noreferrer" target=_blank>Mikhail Korotov</a>)</li><li>Correction d'un problème d'utilisation de HTTP keep alive timeout au lieu de TCP keep alive timeout.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7351 rel="external nofollow noreferrer" target=_blank>#7351</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Attendez que tous les travaux se terminent à l'exception (corrige les segfaults rares).<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7350 rel="external nofollow noreferrer" target=_blank>#7350</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Ne poussez pas vers MVs lors de l'insertion dans la table Kafka.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7265 rel="external nofollow noreferrer" target=_blank>#7265</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Désactiver le suivi de la mémoire pour la pile d'exception.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7264 rel="external nofollow noreferrer" target=_blank>#7264</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'un mauvais code dans la transformation de la requête pour la base de données externe.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7252 rel="external nofollow noreferrer" target=_blank>#7252</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Évitez l'utilisation de valeurs non initialisées dans MetricsTransmitter.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7158 rel="external nofollow noreferrer" target=_blank>#7158</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Ajout d'un exemple de configuration avec des macros pour les tests (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-15-3-6-2019-10-09>Clickhouse Version 19.15.3.6, 2019-10-09<a class=headerlink href=../amp/#clickhouse-release-19-15-3-6-2019-10-09 title="Permanent link"> </a></h3><h4 id=bug-fix-4>Bug Fix<a class=headerlink href=../amp/#bug-fix-4 title="Permanent link"> </a></h4><ul><li>Correction de bad_variant dans le dictionnaire haché.<br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug avec défaut de segmentation dans la requête de pièce jointe.<br> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Calcul du temps fixe en <code class=syntax>MergeTreeData</code>.<br> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Commit à Kafka explicitement après la finalisation de l'écriture.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7175 rel="external nofollow noreferrer" target=_blank>#7175</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Sérialiser correctement les valeurs NULL dans les index min / max des parties MergeTree.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/7234 rel="external nofollow noreferrer" target=_blank>#7234</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander Kuzmenkov</a>)</li></ul><h3 id=clickhouse-release-19-15-2-2-2019-10-01>Clickhouse Version 19.15.2.2, 2019-10-01<a class=headerlink href=../amp/#clickhouse-release-19-15-2-2-2019-10-01 title="Permanent link"> </a></h3><h4 id=new-feature-3>Nouveauté<a class=headerlink href=../amp/#new-feature-3 title="Permanent link"> </a></h4><ul><li>Stockage à plusieurs niveaux: prise en charge de l'utilisation de plusieurs volumes de stockage pour les tables avec mergetree engine. Il est possible de stocker de nouvelles données sur SSD et de déplacer automatiquement les anciennes données sur le disque dur. (<a href=https://clickhouse.github.io/clickhouse-presentations/meetup30/new_features/#12 rel="external nofollow noreferrer" target=_blank>exemple</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4918 rel="external nofollow noreferrer" target=_blank>#4918</a> (<a href=https://github.com/ObjatieGroba rel="external nofollow noreferrer" target=_blank>Igr</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6489 rel="external nofollow noreferrer" target=_blank>#6489</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter une fonction de table <code class=syntax>input</code> pour lire les données entrantes dans <code class=syntax>INSERT SELECT</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/5450 rel="external nofollow noreferrer" target=_blank>#5450</a> (<a href=https://github.com/palasonic1 rel="external nofollow noreferrer" target=_blank>palasonique1</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6832 rel="external nofollow noreferrer" target=_blank>#6832</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Ajouter un <code class=syntax>sparse_hashed</code> mise en page du dictionnaire, qui est fonctionnellement équivalente à la <code class=syntax>hashed</code> mise en page, mais est plus efficace en mémoire. Il utilise environ deux fois moins de mémoire au prix d'une récupération de valeur plus lente. <a href=https://github.com/ClickHouse/ClickHouse/pull/6894 rel="external nofollow noreferrer" target=_blank>#6894</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Implémenter la capacité de définir la liste des utilisateurs pour l'accès aux dictionnaires. Seule la base de données connectée actuelle utilisant. <a href=https://github.com/ClickHouse/ClickHouse/pull/6907 rel="external nofollow noreferrer" target=_blank>#6907</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Ajouter <code class=syntax>LIMIT</code> option pour <code class=syntax>SHOW</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/6944 rel="external nofollow noreferrer" target=_blank>#6944</a> (<a href=https://github.com/malkfilipp rel="external nofollow noreferrer" target=_blank>Philipp Malkovsky</a>)</li><li>Ajouter <code class=syntax>bitmapSubsetLimit(bitmap, range_start, limit)</code> fonction, qui renvoie le sous-ensemble du plus petit <code class=syntax>limit</code> valeurs dans l'ensemble qui n'est pas inférieure à <code class=syntax>range_start</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6957 rel="external nofollow noreferrer" target=_blank>#6957</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Ajouter <code class=syntax>bitmapMin</code> et <code class=syntax>bitmapMax</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/6970 rel="external nofollow noreferrer" target=_blank>#6970</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Ajouter une fonction <code class=syntax>repeat</code> liées à la <a href=https://github.com/ClickHouse/ClickHouse/issues/6648 rel="external nofollow noreferrer" target=_blank>numéro-6648</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6999 rel="external nofollow noreferrer" target=_blank>#6999</a> (<a href=https://github.com/ucasFL rel="external nofollow noreferrer" target=_blank>Flynn</a>)</li></ul><h4 id=experimental-feature-1>Caractéristique Expérimentale<a class=headerlink href=../amp/#experimental-feature-1 title="Permanent link"> </a></h4><ul><li>Implémentez (en mémoire) une variante de jointure de fusion qui ne change pas le pipeline actuel. Le résultat est partiellement trié par clé de fusion. Définir <code class=syntax>partial_merge_join = 1</code> pour utiliser cette fonctionnalité. La Jointure de Fusion est toujours en développement. <a href=https://github.com/ClickHouse/ClickHouse/pull/6940 rel="external nofollow noreferrer" target=_blank>#6940</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajouter <code class=syntax>S3</code> fonction de moteur et de table. Il est encore en développement (pas encore de support d'authentification). <a href=https://github.com/ClickHouse/ClickHouse/pull/5596 rel="external nofollow noreferrer" target=_blank>#5596</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li></ul><h4 id=improvement-2>Amélioration<a class=headerlink href=../amp/#improvement-2 title="Permanent link"> </a></h4><ul><li>Chaque message lu à partir de Kafka est inséré atomiquement. Cela résout presque tous les problèmes connus avec Kafka engine. <a href=https://github.com/ClickHouse/ClickHouse/pull/6950 rel="external nofollow noreferrer" target=_blank>#6950</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Améliorations pour le basculement des requêtes distribuées. Raccourcir le temps de récupération, il est maintenant configurable et peut être vu dans <code class=syntax>system.clusters</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6399 rel="external nofollow noreferrer" target=_blank>#6399</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Supporte les valeurs numériques pour les énumérations directement dans <code class=syntax>IN</code> section. #6766 <a href=https://github.com/ClickHouse/ClickHouse/pull/6941 rel="external nofollow noreferrer" target=_blank>#6941</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Support (facultatif, désactivé par défaut) redirige sur le stockage D'URL. <a href=https://github.com/ClickHouse/ClickHouse/pull/6914 rel="external nofollow noreferrer" target=_blank>#6914</a> (<a href=https://github.com/maqroll rel="external nofollow noreferrer" target=_blank>maqroll</a>)</li><li>Ajouter un message d'information lorsque le client avec une ancienne version se connecte à un serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6893 rel="external nofollow noreferrer" target=_blank>#6893</a> (<a href=https://github.com/malkfilipp rel="external nofollow noreferrer" target=_blank>Philipp Malkovsky</a>)</li><li>Supprimer la limite de temps de veille maximale pour l'envoi de données dans les tables distribuées <a href=https://github.com/ClickHouse/ClickHouse/pull/6895 rel="external nofollow noreferrer" target=_blank>#6895</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Ajouter la possibilité d'envoyer des événements de profil (compteurs) avec des valeurs cumulatives à graphite. Il peut être activé sous <code class=syntax>&lt;events_cumulative&gt;</code> dans serveur <code class=syntax>config.xml</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6969 rel="external nofollow noreferrer" target=_blank>#6969</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Ajouter automatiquement le type de fonte <code class=syntax>T</code> de <code class=syntax>LowCardinality(T)</code> lors de l'insertion de données dans la colonne de type <code class=syntax>LowCardinality(T)</code> au format natif via HTTP. <a href=https://github.com/ClickHouse/ClickHouse/pull/6891 rel="external nofollow noreferrer" target=_blank>#6891</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Ajout de la capacité à utiliser la fonction <code class=syntax>hex</code> sans l'aide de <code class=syntax>reinterpretAsString</code> pour <code class=syntax>Float32</code>, <code class=syntax>Float64</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7024 rel="external nofollow noreferrer" target=_blank>#7024</a> (<a href=https://github.com/millb rel="external nofollow noreferrer" target=_blank>Mikhail Korotov</a>)</li></ul><h4 id=buildtestingpackaging-improvement-2>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-2 title="Permanent link"> </a></h4><ul><li>Ajouter gdb-index au binaire clickhouse avec des informations de débogage. Il permettra d'accélérer le temps de démarrage de <code class=syntax>gdb</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6947 rel="external nofollow noreferrer" target=_blank>#6947</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Accélérez l'emballage deb avec dpkg-deb patché qui utilise <code class=syntax>pigz</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6960 rel="external nofollow noreferrer" target=_blank>#6960</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Définir <code class=syntax>enable_fuzzing = 1</code> pour activer l'instrumentation libfuzzer de tout le code du projet. <a href=https://github.com/ClickHouse/ClickHouse/pull/7042 rel="external nofollow noreferrer" target=_blank>#7042</a> (<a href=https://github.com/kyprizel rel="external nofollow noreferrer" target=_blank>kyprizel</a>)</li><li>Ajouter Split build smoke test dans CI. <a href=https://github.com/ClickHouse/ClickHouse/pull/7061 rel="external nofollow noreferrer" target=_blank>#7061</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter build avec MemorySanitizer à CI. <a href=https://github.com/ClickHouse/ClickHouse/pull/7066 rel="external nofollow noreferrer" target=_blank>#7066</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>Alexander Kuzmenkov</a>)</li><li>Remplacer <code class=syntax>libsparsehash</code> avec <code class=syntax>sparsehash-c11</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/6965 rel="external nofollow noreferrer" target=_blank>#6965</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li></ul><h4 id=bug-fix-5>Bug Fix<a class=headerlink href=../amp/#bug-fix-5 title="Permanent link"> </a></h4><ul><li>Correction de la dégradation des performances de l'analyse d'index sur les clés complexes sur les grandes tables. Cela corrige # 6924. <a href=https://github.com/ClickHouse/ClickHouse/pull/7075 rel="external nofollow noreferrer" target=_blank>#7075</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur logique provoquant segfaults lors de la sélection de Kafka sujet vide. <a href=https://github.com/ClickHouse/ClickHouse/pull/6909 rel="external nofollow noreferrer" target=_blank>#6909</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction d'une connexion MySQL trop tôt fermer <code class=syntax>MySQLBlockInputStream.cpp</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6882 rel="external nofollow noreferrer" target=_blank>#6882</a> (<a href=https://github.com/clemrodriguez rel="external nofollow noreferrer" target=_blank>Clément Rodriguez</a>)</li><li>Retour du support pour les très anciens noyaux Linux (correction <a href=https://github.com/ClickHouse/ClickHouse/issues/6841 rel="external nofollow noreferrer" target=_blank>#6841</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6853 rel="external nofollow noreferrer" target=_blank>#6853</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corriger les éventuelles pertes de données dans <code class=syntax>insert select</code> requête en cas de bloc vide dans le flux d'entrée. #6834 #6862 <a href=https://github.com/ClickHouse/ClickHouse/pull/6911 rel="external nofollow noreferrer" target=_blank>#6911</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correctif pour la fonction <code class=syntax>АrrayEnumerateUniqRanked</code> avec des tableaux vides dans params <a href=https://github.com/ClickHouse/ClickHouse/pull/6928 rel="external nofollow noreferrer" target=_blank>#6928</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de requêtes complexes avec des jointures de tableau et des sous-requêtes globales. <a href=https://github.com/ClickHouse/ClickHouse/pull/6934 rel="external nofollow noreferrer" target=_blank>#6934</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fixer <code class=syntax>Unknown identifier</code> erreur dans ORDER BY et GROUP BY avec plusieurs jointures <a href=https://github.com/ClickHouse/ClickHouse/pull/7022 rel="external nofollow noreferrer" target=_blank>#7022</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixe <code class=syntax>MSan</code> avertissement lors de l'exécution de la fonction avec <code class=syntax>LowCardinality</code> argument. <a href=https://github.com/ClickHouse/ClickHouse/pull/7062 rel="external nofollow noreferrer" target=_blank>#7062</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li></ul><h4 id=backward-incompatible-change-2>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-2 title="Permanent link"> </a></h4><ul><li>Format de sérialisation modifié de bitmap * états de fonction d'agrégation pour améliorer les performances. Les États sérialisés de bitmap * des versions précédentes ne peuvent pas être lus. <a href=https://github.com/ClickHouse/ClickHouse/pull/6908 rel="external nofollow noreferrer" target=_blank>#6908</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li></ul><h2 id=clickhouse-release-19-14>Clickhouse Version 19.14<a class=headerlink href=../amp/#clickhouse-release-19-14 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-14-7-15-2019-10-02>Clickhouse Version 19.14.7.15, 2019-10-02<a class=headerlink href=../amp/#clickhouse-release-19-14-7-15-2019-10-02 title="Permanent link"> </a></h3><h4 id=bug-fix-6>Bug Fix<a class=headerlink href=../amp/#bug-fix-6 title="Permanent link"> </a></h4><ul><li>Cette version contient également toutes les corrections de bugs de 19.11.12.69.</li><li>Compatibilité fixe pour les requêtes distribuées entre 19.14 et les versions antérieures. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/7068 rel="external nofollow noreferrer" target=_blank>#7068</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7069 rel="external nofollow noreferrer" target=_blank>#7069</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-14-6-12-2019-09-19>Clickhouse Version 19.14.6.12, 2019-09-19<a class=headerlink href=../amp/#clickhouse-release-19-14-6-12-2019-09-19 title="Permanent link"> </a></h3><h4 id=bug-fix-7>Bug Fix<a class=headerlink href=../amp/#bug-fix-7 title="Permanent link"> </a></h4><ul><li>Correctif pour la fonction <code class=syntax>АrrayEnumerateUniqRanked</code> avec des tableaux vides dans params. <a href=https://github.com/ClickHouse/ClickHouse/pull/6928 rel="external nofollow noreferrer" target=_blank>#6928</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Nom de sous-requête fixe dans les requêtes avec <code class=syntax>ARRAY JOIN</code> et <code class=syntax>GLOBAL IN subquery</code> avec alias. Utilisez l'alias de sous-requête pour le nom de table externe s'il est spécifié. <a href=https://github.com/ClickHouse/ClickHouse/pull/6934 rel="external nofollow noreferrer" target=_blank>#6934</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h4 id=buildtestingpackaging-improvement-3>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-3 title="Permanent link"> </a></h4><ul><li>Fixer <a href=https://clickhouse-test-reports.s3.yandex.net/6944/aab95fd5175a513413c7395a73a82044bdafb906/functional_stateless_tests_(debug).html rel="external nofollow noreferrer" target=_blank>le battement</a> test <code class=syntax>00715_fetch_merged_or_mutated_part_zookeeper</code> en le réécrivant dans un script shell car il doit attendre que des mutations s'appliquent. <a href=https://github.com/ClickHouse/ClickHouse/pull/6977 rel="external nofollow noreferrer" target=_blank>#6977</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander Kazakov</a>)</li><li>Correction de L'échec UBSan et MemSan en fonction <code class=syntax>groupUniqArray</code> avec l'argument de tableau emtpy. Il a été causé par le placement de vide <code class=syntax>PaddedPODArray</code> dans la table de hachage zéro cellule parce que le constructeur pour la valeur de cellule Zéro n'a pas été appelé. <a href=https://github.com/ClickHouse/ClickHouse/pull/6937 rel="external nofollow noreferrer" target=_blank>#6937</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li></ul><h3 id=clickhouse-release-19-14-3-3-2019-09-10>Clickhouse Version 19.14.3.3, 2019-09-10<a class=headerlink href=../amp/#clickhouse-release-19-14-3-3-2019-09-10 title="Permanent link"> </a></h3><h4 id=new-feature-4>Nouveauté<a class=headerlink href=../amp/#new-feature-4 title="Permanent link"> </a></h4><ul><li><code class=syntax>WITH FILL</code> le modificateur <code class=syntax>ORDER BY</code>. (suite de la <a href=https://github.com/ClickHouse/ClickHouse/issues/5069 rel="external nofollow noreferrer" target=_blank>#5069</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6610 rel="external nofollow noreferrer" target=_blank>#6610</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li><code class=syntax>WITH TIES</code> le modificateur <code class=syntax>LIMIT</code>. (suite de la <a href=https://github.com/ClickHouse/ClickHouse/issues/5069 rel="external nofollow noreferrer" target=_blank>#5069</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6610 rel="external nofollow noreferrer" target=_blank>#6610</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Analyser non cotées <code class=syntax>NULL</code> littéral comme NULL (si paramètre <code class=syntax>format_csv_unquoted_null_literal_as_null=1</code>). Initialiser les champs null avec des valeurs par défaut si le type de données de ce champ n'est pas nullable (si <code class=syntax>input_format_null_as_default=1</code>). <a href=https://github.com/ClickHouse/ClickHouse/issues/5990 rel="external nofollow noreferrer" target=_blank>#5990</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6055 rel="external nofollow noreferrer" target=_blank>#6055</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Prise en charge des caractères génériques dans les chemins des fonctions de table <code class=syntax>file</code> et <code class=syntax>hdfs</code>. Si le chemin contient des caractères génériques, la table sera en lecture seule. Exemple d'utilisation: <code class=syntax>select * from hdfs('hdfs://hdfs1:9000/some_dir/another_dir/*/file{0..9}{0..9}')</code> et <code class=syntax>select * from file('some_dir/{some_file,another_file,yet_another}.tsv', 'TSV', 'value UInt32')</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6092 rel="external nofollow noreferrer" target=_blank>#6092</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Nouveau <code class=syntax>system.metric_log</code> le tableau qui stocke les valeurs de <code class=syntax>system.events</code> et <code class=syntax>system.metrics</code> avec l'intervalle de temps spécifié. <a href=https://github.com/ClickHouse/ClickHouse/issues/6363 rel="external nofollow noreferrer" target=_blank>#6363</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6467 rel="external nofollow noreferrer" target=_blank>#6467</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6530 rel="external nofollow noreferrer" target=_blank>#6530</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Permettre d'écrire des journaux de texte ClickHouse à <code class=syntax>system.text_log</code> table. <a href=https://github.com/ClickHouse/ClickHouse/issues/6037 rel="external nofollow noreferrer" target=_blank>#6037</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6103 rel="external nofollow noreferrer" target=_blank>#6103</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6164 rel="external nofollow noreferrer" target=_blank>#6164</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Afficher les symboles privés dans les traces de pile (cela se fait via l'analyse des tables de symboles des fichiers ELF). Ajout d'informations sur le numéro de fichier et de ligne dans les traces de pile si les informations de débogage sont présentes. Accélérer la recherche de nom de symbole avec des symboles d'indexation présents dans le programme. Ajout de nouvelles fonctions SQL pour l'introspection: <code class=syntax>demangle</code> et <code class=syntax>addressToLine</code>. Renommé fonction <code class=syntax>symbolizeAddress</code> de <code class=syntax>addressToSymbol</code> pour des raisons de cohérence. Fonction <code class=syntax>addressToSymbol</code> retournera le nom mutilé pour des raisons de performance et vous devez appliquer <code class=syntax>demangle</code>. Ajout d'un réglage <code class=syntax>allow_introspection_functions</code> qui est désactivée par défaut. <a href=https://github.com/ClickHouse/ClickHouse/pull/6201 rel="external nofollow noreferrer" target=_blank>#6201</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fonction de Table <code class=syntax>values</code> (le nom est sensible à la casse). Il permet de lire à partir de <code class=syntax>VALUES</code> la liste proposée dans <a href=https://github.com/ClickHouse/ClickHouse/issues/5984 rel="external nofollow noreferrer" target=_blank>#5984</a>. Exemple: <code class=syntax>SELECT * FROM VALUES('a UInt64, s String', (1, 'one'), (2, 'two'), (3, 'three'))</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6217 rel="external nofollow noreferrer" target=_blank>#6217</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6209 rel="external nofollow noreferrer" target=_blank>#6209</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Ajout d'une capacité de modifier les paramètres de stockage. Syntaxe: <code class=syntax>ALTER TABLE &lt;table&gt; MODIFY SETTING &lt;setting&gt; = &lt;value&gt;</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6366 rel="external nofollow noreferrer" target=_blank>#6366</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6669 rel="external nofollow noreferrer" target=_blank>#6669</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6685 rel="external nofollow noreferrer" target=_blank>#6685</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Support pour enlever des pièces détachées. Syntaxe: <code class=syntax>ALTER TABLE &lt;table_name&gt; DROP DETACHED PART '&lt;part_id&gt;'</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6158 rel="external nofollow noreferrer" target=_blank>#6158</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Les contraintes de Table. Permet d'ajouter une contrainte à la définition de la table qui sera vérifiée lors de l'insertion. <a href=https://github.com/ClickHouse/ClickHouse/pull/5273 rel="external nofollow noreferrer" target=_blank>#5273</a> (<a href=https://github.com/NanoBjorn rel="external nofollow noreferrer" target=_blank>Gleb Novikov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6652 rel="external nofollow noreferrer" target=_blank>#6652</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Soutien en cascade des vues matérialisées. <a href=https://github.com/ClickHouse/ClickHouse/pull/6324 rel="external nofollow noreferrer" target=_blank>#6324</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Activez query profiler par défaut pour échantillonner chaque thread d'exécution de requête une fois par seconde. <a href=https://github.com/ClickHouse/ClickHouse/pull/6283 rel="external nofollow noreferrer" target=_blank>#6283</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Format d'entrée <code class=syntax>ORC</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6454 rel="external nofollow noreferrer" target=_blank>#6454</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6703 rel="external nofollow noreferrer" target=_blank>#6703</a> (<a href=https://github.com/akonyaev90 rel="external nofollow noreferrer" target=_blank>akonyaev90</a>)</li><li>Ajout de deux nouvelles fonctions: <code class=syntax>sigmoid</code> et <code class=syntax>tanh</code> (qui sont utiles pour les applications d'apprentissage automatique). <a href=https://github.com/ClickHouse/ClickHouse/pull/6254 rel="external nofollow noreferrer" target=_blank>#6254</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fonction <code class=syntax>hasToken(haystack, token)</code>, <code class=syntax>hasTokenCaseInsensitive(haystack, token)</code> pour vérifier si un jeton est dans la botte de foin. Le jeton est une sous-chaîne de longueur maximale entre deux caractères ASCII non alphanumériques (ou limites de haystack). Le jeton doit être une chaîne constante. Pris en charge par tokenbf_v1 spécialisation de l'index. <a href=https://github.com/ClickHouse/ClickHouse/pull/6596 rel="external nofollow noreferrer" target=_blank>#6596</a>, <a href=https://github.com/ClickHouse/ClickHouse/pull/6662 rel="external nofollow noreferrer" target=_blank>#6662</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Nouvelle fonction <code class=syntax>neighbor(value, offset[, default_value])</code>. Permet d'atteindre la valeur prev / next dans la colonne d'un bloc de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/5925 rel="external nofollow noreferrer" target=_blank>#5925</a> (<a href=https://github.com/alex-krash rel="external nofollow noreferrer" target=_blank>Alex Laquelle Le Krash</a>) <a href=https://github.com/ClickHouse/ClickHouse/commit/6685365ab8c5b74f9650492c88a012596eb1b0c6 rel="external nofollow noreferrer" target=_blank>6685365ab8c5b74f9650492c88a012596eb1b0c6</a> <a href=https://github.com/ClickHouse/ClickHouse/commit/341e2e4587a18065c2da1ca888c73389f48ce36c rel="external nofollow noreferrer" target=_blank>341e2e4587a18065c2da1ca888c73389f48ce36c</a> <a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>Alexey Milovidov</a></li><li>Créé une fonction <code class=syntax>currentUser()</code>, retour connexion de l'utilisateur autorisé. Ajout d'alias <code class=syntax>user()</code> pour la compatibilité avec MySQL. <a href=https://github.com/ClickHouse/ClickHouse/pull/6470 rel="external nofollow noreferrer" target=_blank>#6470</a> (<a href=https://github.com/alex-krash rel="external nofollow noreferrer" target=_blank>Alex Laquelle Le Krash</a>)</li><li>Nouvelles fonctions d'agrégation <code class=syntax>quantilesExactInclusive</code> et <code class=syntax>quantilesExactExclusive</code> qui étaient proposés dans <a href=https://github.com/ClickHouse/ClickHouse/issues/5885 rel="external nofollow noreferrer" target=_blank>#5885</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6477 rel="external nofollow noreferrer" target=_blank>#6477</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Fonction <code class=syntax>bitmapRange(bitmap, range_begin, range_end)</code> qui renvoie un nouvel ensemble avec une plage spécifiée (ne pas inclure <code class=syntax>range_end</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/6314 rel="external nofollow noreferrer" target=_blank>#6314</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Fonction <code class=syntax>geohashesInBox(longitude_min, latitude_min, longitude_max, latitude_max, precision)</code> ce qui crée un tableau de chaînes de précision longues de geohash-boîtes couvrant la zone fournie. <a href=https://github.com/ClickHouse/ClickHouse/pull/6127 rel="external nofollow noreferrer" target=_blank>#6127</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Implémenter la prise en charge de la requête INSERT avec <code class=syntax>Kafka</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/6012 rel="external nofollow noreferrer" target=_blank>#6012</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Ajout du support pour <code class=syntax>_partition</code> et <code class=syntax>_timestamp</code> colonnes virtuelles au moteur Kafka. <a href=https://github.com/ClickHouse/ClickHouse/pull/6400 rel="external nofollow noreferrer" target=_blank>#6400</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Possibilité de supprimer des données sensibles de <code class=syntax>query_log</code>, journaux de serveur, liste de processus avec des règles basées sur regexp. <a href=https://github.com/ClickHouse/ClickHouse/pull/5710 rel="external nofollow noreferrer" target=_blank>#5710</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li></ul><h4 id=experimental-feature-2>Caractéristique Expérimentale<a class=headerlink href=../amp/#experimental-feature-2 title="Permanent link"> </a></h4><ul><li>Format de données d'entrée et de sortie <code class=syntax>Template</code>. Il permet de spécifier une chaîne de format personnalisée pour l'entrée et la sortie. <a href=https://github.com/ClickHouse/ClickHouse/issues/4354 rel="external nofollow noreferrer" target=_blank>#4354</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6727 rel="external nofollow noreferrer" target=_blank>#6727</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>La mise en œuvre de <code class=syntax>LIVE VIEW</code> tableaux qui ont été initialement proposés dans <a href=https://github.com/ClickHouse/ClickHouse/pull/2898 rel="external nofollow noreferrer" target=_blank>#2898</a> préparés dans <a href=https://github.com/ClickHouse/ClickHouse/issues/3925 rel="external nofollow noreferrer" target=_blank>#3925</a>, puis mis à jour dans <a href=https://github.com/ClickHouse/ClickHouse/issues/5541 rel="external nofollow noreferrer" target=_blank>#5541</a>. Voir <a href=https://github.com/ClickHouse/ClickHouse/issues/5541 rel="external nofollow noreferrer" target=_blank>#5541</a> pour une description détaillée. <a href=https://github.com/ClickHouse/ClickHouse/issues/5541 rel="external nofollow noreferrer" target=_blank>#5541</a> (<a href=https://github.com/vzakaznikov rel="external nofollow noreferrer" target=_blank>vzakaznikov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6425 rel="external nofollow noreferrer" target=_blank>#6425</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6656 rel="external nofollow noreferrer" target=_blank>#6656</a> (<a href=https://github.com/vzakaznikov rel="external nofollow noreferrer" target=_blank>vzakaznikov</a>) Note que <code class=syntax>LIVE VIEW</code> fonction peut être supprimée dans les prochaines versions.</li></ul><h4 id=bug-fix-8>Bug Fix<a class=headerlink href=../amp/#bug-fix-8 title="Permanent link"> </a></h4><ul><li>Cette version contient également toutes les corrections de bugs de 19.13 et 19.11.</li><li>Correction d'un défaut de segmentation lorsque la table a des indices de saut et que la fusion verticale se produit. <a href=https://github.com/ClickHouse/ClickHouse/pull/6723 rel="external nofollow noreferrer" target=_blank>#6723</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de TTL par colonne avec des valeurs par défaut de colonne non triviales. Auparavant en cas de force TTL fusionner avec <code class=syntax>OPTIMIZE ... FINAL</code> requête, les valeurs expirées ont été remplacées par des valeurs par défaut de type au lieu des valeurs par défaut de colonne spécifiées par l'utilisateur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6796 rel="external nofollow noreferrer" target=_blank>#6796</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction du problème de duplication des messages Kafka lors du redémarrage normal du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6597 rel="external nofollow noreferrer" target=_blank>#6597</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Boucle infinie fixe lors de la lecture des messages Kafka. Ne pas mettre en pause/reprendre le consommateur sur l'abonnement du tout - sinon il peut être mis en pause indéfiniment dans certains scénarios. <a href=https://github.com/ClickHouse/ClickHouse/pull/6354 rel="external nofollow noreferrer" target=_blank>#6354</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fixer <code class=syntax>Key expression contains comparison between inconvertible types</code> exception dans <code class=syntax>bitmapContains</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/issues/6136 rel="external nofollow noreferrer" target=_blank>#6136</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/6146 rel="external nofollow noreferrer" target=_blank>#6146</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6156 rel="external nofollow noreferrer" target=_blank>#6156</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Correction de segfault avec activé <code class=syntax>optimize_skip_unused_shards</code> et clé de sharding manquante. <a href=https://github.com/ClickHouse/ClickHouse/pull/6384 rel="external nofollow noreferrer" target=_blank>#6384</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction du mauvais code dans les mutations qui peuvent conduire à la corruption de la mémoire. Correction de segfault avec lecture de l'adresse <code class=syntax>0x14c0</code> cela peut se produire en raison de simultané <code class=syntax>DROP TABLE</code> et <code class=syntax>SELECT</code> de <code class=syntax>system.parts</code> ou <code class=syntax>system.parts_columns</code>. Condition de course fixe dans la préparation des requêtes de mutation. Blocage fixe causé par <code class=syntax>OPTIMIZE</code> des tables répliquées et des opérations de modification simultanées comme ALTERs. <a href=https://github.com/ClickHouse/ClickHouse/pull/6514 rel="external nofollow noreferrer" target=_blank>#6514</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Suppression de la journalisation supplémentaire dans L'interface MySQL <a href=https://github.com/ClickHouse/ClickHouse/pull/6389 rel="external nofollow noreferrer" target=_blank>#6389</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Renvoie la possibilité d'analyser les paramètres booléens depuis ‘true’ et ‘false’ dans le fichier de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/6278 rel="external nofollow noreferrer" target=_blank>#6278</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un crash dans l' <code class=syntax>quantile</code> et <code class=syntax>median</code> la fonction sur <code class=syntax>Nullable(Decimal128)</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6378 rel="external nofollow noreferrer" target=_blank>#6378</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction possible résultat incomplet retourné par <code class=syntax>SELECT</code> requête avec <code class=syntax>WHERE</code> condition sur la clé primaire contient la conversion en type Float. Il a été causé par une vérification incorrecte de la monotonie dans <code class=syntax>toFloat</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/issues/6248 rel="external nofollow noreferrer" target=_blank>#6248</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6374 rel="external nofollow noreferrer" target=_blank>#6374</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Vérifier <code class=syntax>max_expanded_ast_elements</code> réglage des mutations. Mutations claires après <code class=syntax>TRUNCATE TABLE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6205 rel="external nofollow noreferrer" target=_blank>#6205</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Correction des résultats de jointure pour les colonnes clés lorsqu'elles sont utilisées avec <code class=syntax>join_use_nulls</code>. Attachez des valeurs NULL au lieu des valeurs par défaut des colonnes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6249 rel="external nofollow noreferrer" target=_blank>#6249</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction des indices de saut avec Fusion verticale et modification. Correctif pour <code class=syntax>Bad size of marks file</code> exception. <a href=https://github.com/ClickHouse/ClickHouse/issues/6594 rel="external nofollow noreferrer" target=_blank>#6594</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6713 rel="external nofollow noreferrer" target=_blank>#6713</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction plantage rare dans <code class=syntax>ALTER MODIFY COLUMN</code> et fusion verticale lorsque l'une des parties fusionnées/modifiées est vide (0 lignes) <a href=https://github.com/ClickHouse/ClickHouse/issues/6746 rel="external nofollow noreferrer" target=_blank>#6746</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6780 rel="external nofollow noreferrer" target=_blank>#6780</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug dans la conversion de <code class=syntax>LowCardinality</code> types de <code class=syntax>AggregateFunctionFactory</code>. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6257 rel="external nofollow noreferrer" target=_blank>#6257</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6281 rel="external nofollow noreferrer" target=_blank>#6281</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'un comportement incorrect et de segfaults possibles dans <code class=syntax>topK</code> et <code class=syntax>topKWeighted</code> agrégé fonctions. <a href=https://github.com/ClickHouse/ClickHouse/pull/6404 rel="external nofollow noreferrer" target=_blank>#6404</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Code dangereux fixe autour <code class=syntax>getIdentifier</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/issues/6401 rel="external nofollow noreferrer" target=_blank>#6401</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6409 rel="external nofollow noreferrer" target=_blank>#6409</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug dans le protocole de fil MySQL (est utilisé lors de la connexion à clickhouse forme client MySQL). Causé par un débordement de tampon de tas <code class=syntax>PacketPayloadWriteBuffer</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6212 rel="external nofollow noreferrer" target=_blank>#6212</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Fuite de mémoire fixe dans <code class=syntax>bitmapSubsetInRange</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/6819 rel="external nofollow noreferrer" target=_blank>#6819</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Correction d'un bug rare lorsque la mutation est exécutée après un changement de granularité. <a href=https://github.com/ClickHouse/ClickHouse/pull/6816 rel="external nofollow noreferrer" target=_blank>#6816</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Autoriser le message protobuf avec tous les champs par défaut. <a href=https://github.com/ClickHouse/ClickHouse/pull/6132 rel="external nofollow noreferrer" target=_blank>#6132</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Résoudre un bug avec <code class=syntax>nullIf</code> fonction lorsque nous envoyer un <code class=syntax>NULL</code> l'argument sur le deuxième argument. <a href=https://github.com/ClickHouse/ClickHouse/pull/6446 rel="external nofollow noreferrer" target=_blank>#6446</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Correction d'un bug rare avec une mauvaise allocation/désallocation de la mémoire dans des dictionnaires de cache de clés Complexes avec des champs de chaîne qui conduit à une consommation de mémoire infinie (ressemble à une fuite de mémoire). Bug se reproduit lorsque la taille de la chaîne était une puissance de deux à partir de huit (8, 16, 32, etc.). <a href=https://github.com/ClickHouse/ClickHouse/pull/6447 rel="external nofollow noreferrer" target=_blank>#6447</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de L'encodage Gorilla sur les petites séquences qui a provoqué une exception <code class=syntax>Cannot write after end of buffer</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6398 rel="external nofollow noreferrer" target=_blank>#6398</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6444 rel="external nofollow noreferrer" target=_blank>#6444</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Permet d'utiliser des types Non nullables dans les jointures avec <code class=syntax>join_use_nulls</code> permettre. <a href=https://github.com/ClickHouse/ClickHouse/pull/6705 rel="external nofollow noreferrer" target=_blank>#6705</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Désactiver <code class=syntax>Poco::AbstractConfiguration</code> substitutions dans la requête dans <code class=syntax>clickhouse-client</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6706 rel="external nofollow noreferrer" target=_blank>#6706</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Éviter l'impasse dans <code class=syntax>REPLACE PARTITION</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6677 rel="external nofollow noreferrer" target=_blank>#6677</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Utiliser <code class=syntax>arrayReduce</code> pour des arguments constants peuvent conduire à segfault. <a href=https://github.com/ClickHouse/ClickHouse/issues/6242 rel="external nofollow noreferrer" target=_blank>#6242</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6326 rel="external nofollow noreferrer" target=_blank>#6326</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction des parties incohérentes qui peuvent apparaître si la réplique a été restaurée après <code class=syntax>DROP PARTITION</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6522 rel="external nofollow noreferrer" target=_blank>#6522</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6523 rel="external nofollow noreferrer" target=_blank>#6523</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction du blocage dans <code class=syntax>JSONExtractRaw</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/issues/6195 rel="external nofollow noreferrer" target=_blank>#6195</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6198 rel="external nofollow noreferrer" target=_blank>#6198</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug avec des indices de saut incorrects sérialisation et agrégation avec granularité adaptative. <a href=https://github.com/ClickHouse/ClickHouse/issues/6594 rel="external nofollow noreferrer" target=_blank>#6594</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6748 rel="external nofollow noreferrer" target=_blank>#6748</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixer <code class=syntax>WITH ROLLUP</code> et <code class=syntax>WITH CUBE</code> les modificateurs de <code class=syntax>GROUP BY</code> avec agrégation à deux niveaux. <a href=https://github.com/ClickHouse/ClickHouse/pull/6225 rel="external nofollow noreferrer" target=_blank>#6225</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction d'un bug avec l'écriture de marques d'indices secondaires avec une granularité adaptative. <a href=https://github.com/ClickHouse/ClickHouse/pull/6126 rel="external nofollow noreferrer" target=_blank>#6126</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de l'ordre d'initialisation lors du démarrage du serveur. Depuis <code class=syntax>StorageMergeTree::background_task_handle</code> est initialisée dans <code class=syntax>startup()</code> le <code class=syntax>MergeTreeBlockOutputStream::write()</code> peut tenter de l'utiliser avant l'initialisation. Vérifiez simplement s'il est initialisé. <a href=https://github.com/ClickHouse/ClickHouse/pull/6080 rel="external nofollow noreferrer" target=_blank>#6080</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Effacement du tampon de données de l'opération de lecture précédente terminée par une erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6026 rel="external nofollow noreferrer" target=_blank>#6026</a> (<a href=https://github.com/bopohaa rel="external nofollow noreferrer" target=_blank>Nikolay</a>)</li><li>Correction d'un bug avec l'activation de la granularité adaptative lors de la création d'une nouvelle réplique pour la table répliquée*MergeTree. <a href=https://github.com/ClickHouse/ClickHouse/issues/6394 rel="external nofollow noreferrer" target=_blank>#6394</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6452 rel="external nofollow noreferrer" target=_blank>#6452</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un crash possible lors du démarrage du serveur en cas d'exception <code class=syntax>libunwind</code> au cours de l'exception à l'accès à uninitialized <code class=syntax>ThreadStatus</code> structure. <a href=https://github.com/ClickHouse/ClickHouse/pull/6456 rel="external nofollow noreferrer" target=_blank>#6456</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>)</li><li>Correction d'un crash dans l' <code class=syntax>yandexConsistentHash</code> fonction. Trouvé par fuzz test. <a href=https://github.com/ClickHouse/ClickHouse/issues/6304 rel="external nofollow noreferrer" target=_blank>#6304</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6305 rel="external nofollow noreferrer" target=_blank>#6305</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la possibilité de suspendre les requêtes lorsque le serveur est surchargé et que le pool de threads global devient presque complet. Cela a plus de chances de se produire sur les clusters avec un grand nombre de fragments (des centaines), car les requêtes distribuées allouent un thread par connexion à chaque fragment. Par exemple, ce problème peut se reproduire si un cluster de 330 fragments traite 30 requêtes distribuées simultanées. Ce problème affecte toutes les versions à partir de 19.2. <a href=https://github.com/ClickHouse/ClickHouse/pull/6301 rel="external nofollow noreferrer" target=_blank>#6301</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe la logique de <code class=syntax>arrayEnumerateUniqRanked</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/6423 rel="external nofollow noreferrer" target=_blank>#6423</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de segfault lors du décodage de la table des symboles. <a href=https://github.com/ClickHouse/ClickHouse/pull/6603 rel="external nofollow noreferrer" target=_blank>#6603</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Correction d'une exception non pertinente dans la distribution de <code class=syntax>LowCardinality(Nullable)</code> to not-Nullable column in case if it doesn't contain Nulls (e.g. in query like <code class=syntax>SELECT CAST(CAST('Hello' AS LowCardinality(Nullable(String))) AS String)</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6094 rel="external nofollow noreferrer" target=_blank>#6094</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6119 rel="external nofollow noreferrer" target=_blank>#6119</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Suppression de guillemets supplémentaires de description dans <code class=syntax>system.settings</code> table. <a href=https://github.com/ClickHouse/ClickHouse/issues/6696 rel="external nofollow noreferrer" target=_blank>#6696</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6699 rel="external nofollow noreferrer" target=_blank>#6699</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Éviter l'impasse possible dans <code class=syntax>TRUNCATE</code> de table Répliquée. <a href=https://github.com/ClickHouse/ClickHouse/pull/6695 rel="external nofollow noreferrer" target=_blank>#6695</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la lecture dans l'ordre de la clé de tri. <a href=https://github.com/ClickHouse/ClickHouse/pull/6189 rel="external nofollow noreferrer" target=_blank>#6189</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Fixer <code class=syntax>ALTER TABLE ... UPDATE</code> requête pour les tables avec <code class=syntax>enable_mixed_granularity_parts=1</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6543 rel="external nofollow noreferrer" target=_blank>#6543</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug ouvert par <a href=https://github.com/ClickHouse/ClickHouse/pull/4405 rel="external nofollow noreferrer" target=_blank>#4405</a> (depuis 19.4.0). Reproduit dans les requêtes aux tables distribuées sur les tables MergeTree lorsque nous n'interrogeons aucune colonne (<code class=syntax>SELECT 1</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/6236 rel="external nofollow noreferrer" target=_blank>#6236</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Dépassement fixe dans la division entière du type signé au type non signé. Le comportement était exactement comme dans le langage C ou c++ (règles de promotion entières) qui peut être surprenant. Veuillez noter que le débordement est toujours possible lors de la division d'un grand nombre signé en un grand nombre non signé ou vice-versa (mais ce cas est moins habituel). Le problème existait dans toutes les versions du serveur. <a href=https://github.com/ClickHouse/ClickHouse/issues/6214 rel="external nofollow noreferrer" target=_blank>#6214</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6233 rel="external nofollow noreferrer" target=_blank>#6233</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Limiter le temps de sommeil maximal pour l'étranglement lorsque <code class=syntax>max_execution_speed</code> ou <code class=syntax>max_execution_speed_bytes</code> est définie. Correction de fausses erreurs comme <code class=syntax>Estimated query execution time (inf seconds) is too long</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/5547 rel="external nofollow noreferrer" target=_blank>#5547</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6232 rel="external nofollow noreferrer" target=_blank>#6232</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de problèmes d'utilisation <code class=syntax>MATERIALIZED</code> colonnes et alias dans <code class=syntax>MaterializedView</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/448 rel="external nofollow noreferrer" target=_blank>#448</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/3484 rel="external nofollow noreferrer" target=_blank>#3484</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/3450 rel="external nofollow noreferrer" target=_blank>#3450</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/2878 rel="external nofollow noreferrer" target=_blank>#2878</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/2285 rel="external nofollow noreferrer" target=_blank>#2285</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3796 rel="external nofollow noreferrer" target=_blank>#3796</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6316 rel="external nofollow noreferrer" target=_blank>#6316</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixer <code class=syntax>FormatFactory</code> comportement pour les flux d'entrée qui ne sont pas implémentés en tant que Processeur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6495 rel="external nofollow noreferrer" target=_blank>#6495</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'une faute. <a href=https://github.com/ClickHouse/ClickHouse/pull/6631 rel="external nofollow noreferrer" target=_blank>#6631</a> (<a href=https://github.com/alexryndin rel="external nofollow noreferrer" target=_blank>Alex Ryndin</a>)</li><li>Typo dans le message d'erreur (is - &gt; are). <a href=https://github.com/ClickHouse/ClickHouse/pull/6839 rel="external nofollow noreferrer" target=_blank>#6839</a> (<a href=https://github.com/den-crane rel="external nofollow noreferrer" target=_blank>Denis Zhuravlev</a>)</li><li>Correction d'une erreur lors de l'analyse de la liste des colonnes de la chaîne si le type contenait une virgule (Ce problème était pertinent pour <code class=syntax>File</code>, <code class=syntax>URL</code>, <code class=syntax>HDFS</code> stockage) <a href=https://github.com/ClickHouse/ClickHouse/issues/6217 rel="external nofollow noreferrer" target=_blank>#6217</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6209 rel="external nofollow noreferrer" target=_blank>#6209</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li></ul><h4 id=security-fix>Correction De Sécurité<a class=headerlink href=../amp/#security-fix title="Permanent link"> </a></h4><ul><li>Cette version contient également tous les correctifs de sécurité de bugs de 19.13 et 19.11.</li><li>Correction de la possibilité d'une requête fabriquée pour provoquer un crash du serveur en raison d'un débordement de pile dans L'analyseur SQL. Correction de la possibilité de débordement de pile dans les tables de fusion et distribuées, les vues matérialisées et les conditions de sécurité au niveau des lignes impliquant des sous-requêtes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6433 rel="external nofollow noreferrer" target=_blank>#6433</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=improvement-3>Amélioration<a class=headerlink href=../amp/#improvement-3 title="Permanent link"> </a></h4><ul><li>Mise en œuvre correcte de la logique ternaire pour <code class=syntax>AND/OR</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6048 rel="external nofollow noreferrer" target=_blank>#6048</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander Kazakov</a>)</li><li>Maintenant les valeurs et les lignes avec TTL expiré seront supprimées après <code class=syntax>OPTIMIZE ... FINAL</code> query from old parts without TTL infos or with outdated TTL infos, e.g. after <code class=syntax>ALTER ... MODIFY TTL</code> requête. Ajouté requêtes <code class=syntax>SYSTEM STOP/START TTL MERGES</code> pour interdire / autoriser les fusions d'affectation avec TTL et filtrer les valeurs expirées dans toutes les fusions. <a href=https://github.com/ClickHouse/ClickHouse/pull/6274 rel="external nofollow noreferrer" target=_blank>#6274</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Possibilité de changer l'emplacement du fichier d'historique ClickHouse pour le client à l'aide <code class=syntax>CLICKHOUSE_HISTORY_FILE</code> env. <a href=https://github.com/ClickHouse/ClickHouse/pull/6840 rel="external nofollow noreferrer" target=_blank>#6840</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Supprimer <code class=syntax>dry_run</code> drapeau de <code class=syntax>InterpreterSelectQuery</code>. … <a href=https://github.com/ClickHouse/ClickHouse/pull/6375 rel="external nofollow noreferrer" target=_blank>#6375</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Soutien <code class=syntax>ASOF JOIN</code> avec <code class=syntax>ON</code> section. <a href=https://github.com/ClickHouse/ClickHouse/pull/6211 rel="external nofollow noreferrer" target=_blank>#6211</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Meilleure prise en charge des index de saut pour les mutations et la réplication. Soutien pour <code class=syntax>MATERIALIZE/CLEAR INDEX ... IN PARTITION</code> requête. <code class=syntax>UPDATE x = x</code> recalcule tous les indices qui utilisent la colonne <code class=syntax>x</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5053 rel="external nofollow noreferrer" target=_blank>#5053</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Permettre à <code class=syntax>ATTACH</code> affichages en direct (par exemple, au démarrage du serveur), indépendamment de <code class=syntax>allow_experimental_live_view</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/6754 rel="external nofollow noreferrer" target=_blank>#6754</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Pour les traces de pile recueillies par le profileur de requête, n'incluez pas les trames de pile générées par le profileur de requête lui-même. <a href=https://github.com/ClickHouse/ClickHouse/pull/6250 rel="external nofollow noreferrer" target=_blank>#6250</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Maintenant fonctions de table <code class=syntax>values</code>, <code class=syntax>file</code>, <code class=syntax>url</code>, <code class=syntax>hdfs</code> avoir un support pour les colonnes ALIAS. <a href=https://github.com/ClickHouse/ClickHouse/pull/6255 rel="external nofollow noreferrer" target=_blank>#6255</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Lancer une exception si <code class=syntax>config.d</code> le fichier n'a pas l'élément racine correspondant comme fichier de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/6123 rel="external nofollow noreferrer" target=_blank>#6123</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Imprimer des informations supplémentaires dans le message d'exception pour <code class=syntax>no space left on device</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6182 rel="external nofollow noreferrer" target=_blank>#6182</a>, <a href=https://github.com/ClickHouse/ClickHouse/issues/6252 rel="external nofollow noreferrer" target=_blank>#6252</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6352 rel="external nofollow noreferrer" target=_blank>#6352</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Lors de la détermination des éclats d'un <code class=syntax>Distributed</code> table à couvrir par une requête de lecture (pour <code class=syntax>optimize_skip_unused_shards</code> = 1) ClickHouse vérifie maintenant les conditions des deux <code class=syntax>prewhere</code> et <code class=syntax>where</code> clauses de l'instruction select. <a href=https://github.com/ClickHouse/ClickHouse/pull/6521 rel="external nofollow noreferrer" target=_blank>#6521</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander Kazakov</a>)</li><li>Permettre <code class=syntax>SIMDJSON</code> pour les machines sans AVX2 mais avec SSE 4.2 et pclmul jeu d'instructions. <a href=https://github.com/ClickHouse/ClickHouse/issues/6285 rel="external nofollow noreferrer" target=_blank>#6285</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6320 rel="external nofollow noreferrer" target=_blank>#6320</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>ClickHouse peut fonctionner sur les systèmes de fichiers sans <code class=syntax>O_DIRECT</code> soutien (tels que ZFS et BtrFS) sans réglage supplémentaire. <a href=https://github.com/ClickHouse/ClickHouse/issues/4449 rel="external nofollow noreferrer" target=_blank>#4449</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6730 rel="external nofollow noreferrer" target=_blank>#6730</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Soutien pousser vers le bas prédicat pour la sous-requête finale. <a href=https://github.com/ClickHouse/ClickHouse/pull/6120 rel="external nofollow noreferrer" target=_blank>#6120</a> (<a href=https://github.com/TCeason rel="external nofollow noreferrer" target=_blank>TCeason</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6162 rel="external nofollow noreferrer" target=_blank>#6162</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Mieux <code class=syntax>JOIN ON</code> extraction des clés <a href=https://github.com/ClickHouse/ClickHouse/pull/6131 rel="external nofollow noreferrer" target=_blank>#6131</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Mise à jour <code class=syntax>SIMDJSON</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6285 rel="external nofollow noreferrer" target=_blank>#6285</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6306 rel="external nofollow noreferrer" target=_blank>#6306</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Optimiser la sélection de la plus petite colonne pour <code class=syntax>SELECT count()</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/6344 rel="external nofollow noreferrer" target=_blank>#6344</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Ajouter <code class=syntax>strict</code> paramètre <code class=syntax>windowFunnel()</code>. Lorsque l' <code class=syntax>strict</code> est définie, le <code class=syntax>windowFunnel()</code> applique des conditions uniquement pour les valeurs uniques. <a href=https://github.com/ClickHouse/ClickHouse/pull/6548 rel="external nofollow noreferrer" target=_blank>#6548</a> (<a href=https://github.com/achimbab rel="external nofollow noreferrer" target=_blank>achimbab</a>)</li><li>Interface plus sûre de <code class=syntax>mysqlxx::Pool</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6150 rel="external nofollow noreferrer" target=_blank>#6150</a> (<a href=https://github.com/avasiliev rel="external nofollow noreferrer" target=_blank>avasiliev</a>)</li><li>Options taille de ligne lors de l'exécution avec <code class=syntax>--help</code> l'option correspond maintenant à la taille du terminal. <a href=https://github.com/ClickHouse/ClickHouse/pull/6590 rel="external nofollow noreferrer" target=_blank>#6590</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Désactiver “read in order” optimisation pour l'agrégation, sans touches. <a href=https://github.com/ClickHouse/ClickHouse/pull/6599 rel="external nofollow noreferrer" target=_blank>#6599</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Code D'état HTTP pour <code class=syntax>INCORRECT_DATA</code> et <code class=syntax>TYPE_MISMATCH</code> les codes d'erreur ont été modifiés par défaut <code class=syntax>500 Internal Server Error</code> de <code class=syntax>400 Bad Request</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6271 rel="external nofollow noreferrer" target=_blank>#6271</a> (<a href=https://github.com/a-rodin rel="external nofollow noreferrer" target=_blank>Alexander Rodin</a>)</li><li>Déplacer Rejoindre objet de <code class=syntax>ExpressionAction</code> dans <code class=syntax>AnalyzedJoin</code>. <code class=syntax>ExpressionAnalyzer</code> et <code class=syntax>ExpressionAction</code> ne sais pas à propos de <code class=syntax>Join</code> classe de plus. Sa logique est cachée par <code class=syntax>AnalyzedJoin</code> iface. <a href=https://github.com/ClickHouse/ClickHouse/pull/6801 rel="external nofollow noreferrer" target=_blank>#6801</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un blocage possible des requêtes distribuées lorsque l'un des fragments est localhost mais que la requête est envoyée via une connexion réseau. <a href=https://github.com/ClickHouse/ClickHouse/pull/6759 rel="external nofollow noreferrer" target=_blank>#6759</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Sémantique modifiée de plusieurs tables <code class=syntax>RENAME</code> pour éviter les blocages possibles. <a href=https://github.com/ClickHouse/ClickHouse/issues/6757 rel="external nofollow noreferrer" target=_blank>#6757</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6756 rel="external nofollow noreferrer" target=_blank>#6756</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Serveur de compatibilité MySQL réécrit pour empêcher le chargement de la charge utile de paquet complet en mémoire. Diminution de la consommation de mémoire pour chaque connexion à environ <code class=syntax>2 * DBMS_DEFAULT_BUFFER_SIZE</code> (tampons de lecture/écriture). <a href=https://github.com/ClickHouse/ClickHouse/pull/5811 rel="external nofollow noreferrer" target=_blank>#5811</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Déplacez l'alias AST interprétant la logique hors de l'analyseur qui n'a rien à savoir sur la sémantique des requêtes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6108 rel="external nofollow noreferrer" target=_blank>#6108</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Analyse légèrement plus sûre de <code class=syntax>NamesAndTypesList</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6408 rel="external nofollow noreferrer" target=_blank>#6408</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6410 rel="external nofollow noreferrer" target=_blank>#6410</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>clickhouse-copier</code>: Permet d'utiliser les <code class=syntax>where_condition</code> de config avec <code class=syntax>partition_key</code> alias dans la requête pour vérifier l'existence de la partition (auparavant, il était utilisé uniquement dans la lecture des requêtes de données). <a href=https://github.com/ClickHouse/ClickHouse/pull/6577 rel="external nofollow noreferrer" target=_blank>#6577</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout d'un argument de message Facultatif dans <code class=syntax>throwIf</code>. (<a href=https://github.com/ClickHouse/ClickHouse/issues/5772 rel="external nofollow noreferrer" target=_blank>#5772</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6329 rel="external nofollow noreferrer" target=_blank>#6329</a> (<a href=https://github.com/Vdimir rel="external nofollow noreferrer" target=_blank>Vdimir</a>)</li><li>L'exception du serveur obtenue lors de l'envoi des données d'insertion est également en cours de traitement dans le client. <a href=https://github.com/ClickHouse/ClickHouse/issues/5891 rel="external nofollow noreferrer" target=_blank>#5891</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6711 rel="external nofollow noreferrer" target=_blank>#6711</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Ajout d'une métrique <code class=syntax>DistributedFilesToInsert</code> cela montre le nombre total de fichiers dans le système de fichiers qui sont sélectionnés pour envoyer aux serveurs distants par des tables distribuées. Le nombre est additionné à travers tous les fragments. <a href=https://github.com/ClickHouse/ClickHouse/pull/6600 rel="external nofollow noreferrer" target=_blank>#6600</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Déplacer la plupart des jointures préparer la logique de <code class=syntax>ExpressionAction/ExpressionAnalyzer</code> de <code class=syntax>AnalyzedJoin</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6785 rel="external nofollow noreferrer" target=_blank>#6785</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fix TSan <a href=https://clickhouse-test-reports.s3.yandex.net/6399/c1c1d1daa98e199e620766f1bd06a5921050a00d/functional_stateful_tests_(thread).html rel="external nofollow noreferrer" target=_blank>avertissement</a> ‘lock-order-inversion’. <a href=https://github.com/ClickHouse/ClickHouse/pull/6740 rel="external nofollow noreferrer" target=_blank>#6740</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>De meilleurs messages d'information sur le manque de capacités Linux. Journalisation des erreurs fatales avec “fatal” niveau, cela le rendra plus facile à trouver dans <code class=syntax>system.text_log</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6441 rel="external nofollow noreferrer" target=_blank>#6441</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Lorsque activer le dumping des données temporaires sur le disque pour limiter l'utilisation de la mémoire pendant <code class=syntax>GROUP BY</code>, <code class=syntax>ORDER BY</code> il n'a pas vérifier l'espace disque libre. Le correctif ajoute un nouveau paramètre <code class=syntax>min_free_disk_space</code>, lorsque l'espace disque libre est plus petit que le seuil, la requête s'arrêtera et lancera <code class=syntax>ErrorCodes::NOT_ENOUGH_SPACE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6678 rel="external nofollow noreferrer" target=_blank>#6678</a> (<a href=https://github.com/weiqxu rel="external nofollow noreferrer" target=_blank>Weiqing Xu</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6691 rel="external nofollow noreferrer" target=_blank>#6691</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Supprimé rwlock récursif par thread. Cela n'a aucun sens, car les threads sont réutilisés entre les requêtes. <code class=syntax>SELECT</code> la requête peut acquérir un verrou dans un thread, tenir un verrou d'un autre thread et quitter le premier thread. Dans le même temps, le premier fil peut être réutilisé par <code class=syntax>DROP</code> requête. Cela mènera à la faux “Attempt to acquire exclusive lock recursively” message. <a href=https://github.com/ClickHouse/ClickHouse/pull/6771 rel="external nofollow noreferrer" target=_blank>#6771</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Split <code class=syntax>ExpressionAnalyzer.appendJoin()</code>. Préparer une place dans <code class=syntax>ExpressionAnalyzer</code> pour <code class=syntax>MergeJoin</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6524 rel="external nofollow noreferrer" target=_blank>#6524</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajouter <code class=syntax>mysql_native_password</code> plugin d'authentification au serveur de compatibilité MySQL. <a href=https://github.com/ClickHouse/ClickHouse/pull/6194 rel="external nofollow noreferrer" target=_blank>#6194</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Un moins grand nombre de <code class=syntax>clock_gettime</code> appels; correction de la compatibilité ABI entre debug / release in <code class=syntax>Allocator</code> (question insignifiante). <a href=https://github.com/ClickHouse/ClickHouse/pull/6197 rel="external nofollow noreferrer" target=_blank>#6197</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Déplacer <code class=syntax>collectUsedColumns</code> de <code class=syntax>ExpressionAnalyzer</code> de <code class=syntax>SyntaxAnalyzer</code>. <code class=syntax>SyntaxAnalyzer</code> faire <code class=syntax>required_source_columns</code> lui-même maintenant. <a href=https://github.com/ClickHouse/ClickHouse/pull/6416 rel="external nofollow noreferrer" target=_blank>#6416</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajouter un paramètre <code class=syntax>joined_subquery_requires_alias</code> pour exiger des alias pour les sous-sélections et les <code class=syntax>FROM</code> that more than one table is present (i.e. queries with JOINs). <a href=https://github.com/ClickHouse/ClickHouse/pull/6733 rel="external nofollow noreferrer" target=_blank>#6733</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Extrait <code class=syntax>GetAggregatesVisitor</code> classe de <code class=syntax>ExpressionAnalyzer</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6458 rel="external nofollow noreferrer" target=_blank>#6458</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li><code class=syntax>system.query_log</code>: modifier le type de données de <code class=syntax>type</code> colonne de <code class=syntax>Enum</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6265 rel="external nofollow noreferrer" target=_blank>#6265</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>)</li><li>La liaison statique de <code class=syntax>sha256_password</code> greffon d'authentification. <a href=https://github.com/ClickHouse/ClickHouse/pull/6512 rel="external nofollow noreferrer" target=_blank>#6512</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Évitez la dépendance supplémentaire pour le paramètre <code class=syntax>compile</code> travailler. Dans les versions précédentes, l'utilisateur peut obtenir une erreur comme <code class=syntax>cannot open crti.o</code>, <code class=syntax>unable to find library -lc</code> etc. <a href=https://github.com/ClickHouse/ClickHouse/pull/6309 rel="external nofollow noreferrer" target=_blank>#6309</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Plus de validation de l'entrée qui peut provenir d'une réplique malveillante. <a href=https://github.com/ClickHouse/ClickHouse/pull/6303 rel="external nofollow noreferrer" target=_blank>#6303</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Maintenant <code class=syntax>clickhouse-obfuscator</code> le fichier est disponible dans <code class=syntax>clickhouse-client</code> paquet. Dans les versions précédentes, il était disponible en tant que <code class=syntax>clickhouse obfuscator</code> (avec des espaces). <a href=https://github.com/ClickHouse/ClickHouse/issues/5816 rel="external nofollow noreferrer" target=_blank>#5816</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6609 rel="external nofollow noreferrer" target=_blank>#6609</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Blocage fixe lorsque nous avons au moins deux requêtes qui lisent au moins deux tables dans un ordre différent et une autre requête qui effectue une opération DDL sur l'une des tables. Correction d'une autre impasse très rare. <a href=https://github.com/ClickHouse/ClickHouse/pull/6764 rel="external nofollow noreferrer" target=_blank>#6764</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter <code class=syntax>os_thread_ids</code> colonne de <code class=syntax>system.processes</code> et <code class=syntax>system.query_log</code> pour une meilleure mise possibilités. <a href=https://github.com/ClickHouse/ClickHouse/pull/6763 rel="external nofollow noreferrer" target=_blank>#6763</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Une solution de contournement pour les bogues D'extension PHP mysqlnd qui se produisent lorsque <code class=syntax>sha256_password</code> est utilisé comme un plugin d'authentification par défaut (décrit dans <a href=https://github.com/ClickHouse/ClickHouse/issues/6031 rel="external nofollow noreferrer" target=_blank>#6031</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/6113 rel="external nofollow noreferrer" target=_blank>#6113</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Supprimez la place inutile avec les colonnes de nullité modifiées. <a href=https://github.com/ClickHouse/ClickHouse/pull/6693 rel="external nofollow noreferrer" target=_blank>#6693</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Définir la valeur par défaut de <code class=syntax>queue_max_wait_ms</code> à zéro, parce que la valeur actuelle (cinq secondes) n'a aucun sens. Il y a de rares circonstances où ce paramètre a une utilité. Ajout des paramètres de <code class=syntax>replace_running_query_max_wait_ms</code>, <code class=syntax>kafka_max_wait_ms</code> et <code class=syntax>connection_pool_max_wait_ms</code> pour la désambiguïsation. <a href=https://github.com/ClickHouse/ClickHouse/pull/6692 rel="external nofollow noreferrer" target=_blank>#6692</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Extrait <code class=syntax>SelectQueryExpressionAnalyzer</code> de <code class=syntax>ExpressionAnalyzer</code>. Conservez le dernier pour les requêtes non-select. <a href=https://github.com/ClickHouse/ClickHouse/pull/6499 rel="external nofollow noreferrer" target=_blank>#6499</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Suppression de la duplication des formats d'entrée et de sortie. <a href=https://github.com/ClickHouse/ClickHouse/pull/6239 rel="external nofollow noreferrer" target=_blank>#6239</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Autoriser l'utilisateur à remplacer <code class=syntax>poll_interval</code> et <code class=syntax>idle_connection_timeout</code> paramètres de connexion. <a href=https://github.com/ClickHouse/ClickHouse/pull/6230 rel="external nofollow noreferrer" target=_blank>#6230</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>MergeTree</code> a maintenant une option supplémentaire <code class=syntax>ttl_only_drop_parts</code> (désactivé par défaut) pour éviter l'élagage partiel des pièces, afin qu'elles tombent complètement lorsque toutes les lignes d'une pièce sont expirées. <a href=https://github.com/ClickHouse/ClickHouse/pull/6191 rel="external nofollow noreferrer" target=_blank>#6191</a> (<a href=https://github.com/svladykin rel="external nofollow noreferrer" target=_blank>Sergi Vladykin</a>)</li><li>Type vérifie les fonctions set index. Throw exception si la fonction a un mauvais type. Cela corrige le test fuzz avec UBSan. <a href=https://github.com/ClickHouse/ClickHouse/pull/6511 rel="external nofollow noreferrer" target=_blank>#6511</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li></ul><h4 id=performance-improvement-2>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement-2 title="Permanent link"> </a></h4><ul><li>Optimiser les requêtes avec <code class=syntax>ORDER BY expressions</code> clause, où <code class=syntax>expressions</code> ont coïncidé préfixe avec clé de tri dans <code class=syntax>MergeTree</code> table. Cette optimisation est contrôlée par <code class=syntax>optimize_read_in_order</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/6054 rel="external nofollow noreferrer" target=_blank>#6054</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6629 rel="external nofollow noreferrer" target=_blank>#6629</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Permettre d'utiliser plusieurs threads pendant le chargement et le retrait des pièces. <a href=https://github.com/ClickHouse/ClickHouse/issues/6372 rel="external nofollow noreferrer" target=_blank>#6372</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/6074 rel="external nofollow noreferrer" target=_blank>#6074</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6438 rel="external nofollow noreferrer" target=_blank>#6438</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Variante de lot implémentée de la mise à jour des états de fonction d'agrégat. Il peut conduire à des avantages de performance. <a href=https://github.com/ClickHouse/ClickHouse/pull/6435 rel="external nofollow noreferrer" target=_blank>#6435</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Utiliser <code class=syntax>FastOps</code> bibliothèque de fonctions <code class=syntax>exp</code>, <code class=syntax>log</code>, <code class=syntax>sigmoid</code>, <code class=syntax>tanh</code>. FastOps est une bibliothèque mathématique vectorielle rapide de Michael Parakhin (Yandex CTO). Amélioration des performances de <code class=syntax>exp</code> et <code class=syntax>log</code> fonctions plus de 6 fois. Fonction <code class=syntax>exp</code> et <code class=syntax>log</code> de <code class=syntax>Float32</code> l'argument retournera <code class=syntax>Float32</code> (dans les versions précédentes, ils reviennent toujours <code class=syntax>Float64</code>). Maintenant <code class=syntax>exp(nan)</code> peut-retour <code class=syntax>inf</code>. Le résultat de <code class=syntax>exp</code> et <code class=syntax>log</code> les fonctions peuvent ne pas être le nombre représentable de la machine le plus proche de la vraie réponse. <a href=https://github.com/ClickHouse/ClickHouse/pull/6254 rel="external nofollow noreferrer" target=_blank>#6254</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>) Utilisation de la variante Danila Kutenin pour faire fonctionner les fasttops <a href=https://github.com/ClickHouse/ClickHouse/pull/6317 rel="external nofollow noreferrer" target=_blank>#6317</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Désactiver l'optimisation de clé consécutive pour <code class=syntax>UInt8/16</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6298 rel="external nofollow noreferrer" target=_blank>#6298</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6701 rel="external nofollow noreferrer" target=_blank>#6701</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Amélioration des performances de <code class=syntax>simdjson</code> bibliothèque en se débarrassant de l'allocation dynamique dans <code class=syntax>ParsedJson::Iterator</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6479 rel="external nofollow noreferrer" target=_blank>#6479</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Pages de pré-défaut lors de l'allocation de mémoire avec <code class=syntax>mmap()</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6667 rel="external nofollow noreferrer" target=_blank>#6667</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Correction d'un bug de performance dans <code class=syntax>Decimal</code> comparaison. <a href=https://github.com/ClickHouse/ClickHouse/pull/6380 rel="external nofollow noreferrer" target=_blank>#6380</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=buildtestingpackaging-improvement-4>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-4 title="Permanent link"> </a></h4><ul><li>Supprimer le compilateur (instanciation du modèle d'exécution) car nous avons gagné sur ses performances. <a href=https://github.com/ClickHouse/ClickHouse/pull/6646 rel="external nofollow noreferrer" target=_blank>#6646</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout d'un test de performance pour montrer la dégradation des performances dans gcc-9 de manière plus isolée. <a href=https://github.com/ClickHouse/ClickHouse/pull/6302 rel="external nofollow noreferrer" target=_blank>#6302</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout d'un tableau de fonction <code class=syntax>numbers_mt</code>, qui est la version multithread <code class=syntax>numbers</code>. Mise à jour des tests de performance avec des fonctions de hachage. <a href=https://github.com/ClickHouse/ClickHouse/pull/6554 rel="external nofollow noreferrer" target=_blank>#6554</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Mode de comparaison dans <code class=syntax>clickhouse-benchmark</code> <a href=https://github.com/ClickHouse/ClickHouse/issues/6220 rel="external nofollow noreferrer" target=_blank>#6220</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6343 rel="external nofollow noreferrer" target=_blank>#6343</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Meilleur effort pour imprimer des traces de pile. Également ajouté <code class=syntax>SIGPROF</code> comme un signal de débogage pour imprimer la trace de la pile d'un thread en cours d'exécution. <a href=https://github.com/ClickHouse/ClickHouse/pull/6529 rel="external nofollow noreferrer" target=_blank>#6529</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Chaque fonction dans son propre fichier, partie 10. <a href=https://github.com/ClickHouse/ClickHouse/pull/6321 rel="external nofollow noreferrer" target=_blank>#6321</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Supprimer doublé const <code class=syntax>TABLE_IS_READ_ONLY</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6566 rel="external nofollow noreferrer" target=_blank>#6566</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Changements de formatage pour <code class=syntax>StringHashMap</code> PR <a href=https://github.com/ClickHouse/ClickHouse/issues/5417 rel="external nofollow noreferrer" target=_blank>#5417</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6700 rel="external nofollow noreferrer" target=_blank>#6700</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Meilleure sous-requête pour la création de jointures dans <code class=syntax>ExpressionAnalyzer</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6824 rel="external nofollow noreferrer" target=_blank>#6824</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Supprimer une condition redondante (trouvée par PVS Studio). <a href=https://github.com/ClickHouse/ClickHouse/pull/6775 rel="external nofollow noreferrer" target=_blank>#6775</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Séparer l'interface de table de hachage pour <code class=syntax>ReverseIndex</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6672 rel="external nofollow noreferrer" target=_blank>#6672</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Refactoring des paramètres. <a href=https://github.com/ClickHouse/ClickHouse/pull/6689 rel="external nofollow noreferrer" target=_blank>#6689</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter des commentaires pour <code class=syntax>set</code> fonctions d'index. <a href=https://github.com/ClickHouse/ClickHouse/pull/6319 rel="external nofollow noreferrer" target=_blank>#6319</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Augmenter le score OOM dans la version de débogage sur Linux. <a href=https://github.com/ClickHouse/ClickHouse/pull/6152 rel="external nofollow noreferrer" target=_blank>#6152</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>HDFS HA fonctionne maintenant dans la construction de débogage. <a href=https://github.com/ClickHouse/ClickHouse/pull/6650 rel="external nofollow noreferrer" target=_blank>#6650</a> (<a href=https://github.com/weiqxu rel="external nofollow noreferrer" target=_blank>Weiqing Xu</a>)</li><li>Ajout d'un test pour <code class=syntax>transform_query_for_external_database</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6388 rel="external nofollow noreferrer" target=_blank>#6388</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un test pour plusieurs vues matérialisées pour la table Kafka. <a href=https://github.com/ClickHouse/ClickHouse/pull/6509 rel="external nofollow noreferrer" target=_blank>#6509</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Faire mieux construire régime. <a href=https://github.com/ClickHouse/ClickHouse/pull/6500 rel="external nofollow noreferrer" target=_blank>#6500</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fixe <code class=syntax>test_external_dictionaries</code> intégration dans le cas où il a été exécuté sous un utilisateur non root. <a href=https://github.com/ClickHouse/ClickHouse/pull/6507 rel="external nofollow noreferrer" target=_blank>#6507</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Le bogue se reproduit lorsque la taille totale des paquets écrits dépasse <code class=syntax>DBMS_DEFAULT_BUFFER_SIZE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6204 rel="external nofollow noreferrer" target=_blank>#6204</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Ajout d'un test pour <code class=syntax>RENAME</code> tableau condition de course <a href=https://github.com/ClickHouse/ClickHouse/pull/6752 rel="external nofollow noreferrer" target=_blank>#6752</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Évitez la course de données sur les paramètres dans <code class=syntax>KILL QUERY</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6753 rel="external nofollow noreferrer" target=_blank>#6753</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un test d'intégration pour gérer les erreurs par un dictionnaire de cache. <a href=https://github.com/ClickHouse/ClickHouse/pull/6755 rel="external nofollow noreferrer" target=_blank>#6755</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Désactiver l'analyse des fichiers objet ELF sur Mac OS, car cela n'a aucun sens. <a href=https://github.com/ClickHouse/ClickHouse/pull/6578 rel="external nofollow noreferrer" target=_blank>#6578</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Essayez de rendre le générateur de changelog meilleur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6327 rel="external nofollow noreferrer" target=_blank>#6327</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Additionneur <code class=syntax>-Wshadow</code> passer à la GCC. <a href=https://github.com/ClickHouse/ClickHouse/pull/6325 rel="external nofollow noreferrer" target=_blank>#6325</a> (<a href=https://github.com/kreuzerkrieg rel="external nofollow noreferrer" target=_blank>kreuzerkrieg</a>)</li><li>Suppression du code obsolète pour <code class=syntax>mimalloc</code> soutien. <a href=https://github.com/ClickHouse/ClickHouse/pull/6715 rel="external nofollow noreferrer" target=_blank>#6715</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>zlib-ng</code> détermine les capacités x86 et enregistre ces informations dans les variables globales. Ceci est fait dans l'appel defalteInit, qui peut être fait par différents threads simultanément. Pour éviter les Écritures multithread, faites-le au démarrage de la bibliothèque. <a href=https://github.com/ClickHouse/ClickHouse/pull/6141 rel="external nofollow noreferrer" target=_blank>#6141</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Test de régression pour un bug qui dans join qui a été corrigé dans <a href=https://github.com/ClickHouse/ClickHouse/issues/5192 rel="external nofollow noreferrer" target=_blank>#5192</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6147 rel="external nofollow noreferrer" target=_blank>#6147</a> (<a href=https://github.com/theruziev rel="external nofollow noreferrer" target=_blank>Bakhtiyor Ruziev</a>)</li><li>Rapport MSAN fixe. <a href=https://github.com/ClickHouse/ClickHouse/pull/6144 rel="external nofollow noreferrer" target=_blank>#6144</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du test TTL battement. <a href=https://github.com/ClickHouse/ClickHouse/pull/6782 rel="external nofollow noreferrer" target=_blank>#6782</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction de fausse course de données dans <code class=syntax>MergeTreeDataPart::is_frozen</code> champ. <a href=https://github.com/ClickHouse/ClickHouse/pull/6583 rel="external nofollow noreferrer" target=_blank>#6583</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Délais d'attente fixes dans le test fuzz. Dans la version précédente, il a réussi à trouver false hangup dans la requête <code class=syntax>SELECT * FROM numbers_mt(gccMurmurHash(''))</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6582 rel="external nofollow noreferrer" target=_blank>#6582</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouté debug contrôles <code class=syntax>static_cast</code> des colonnes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6581 rel="external nofollow noreferrer" target=_blank>#6581</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Prise en charge D'Oracle Linux dans les paquets RPM officiels. <a href=https://github.com/ClickHouse/ClickHouse/issues/6356 rel="external nofollow noreferrer" target=_blank>#6356</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6585 rel="external nofollow noreferrer" target=_blank>#6585</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Changé JSON perftests de <code class=syntax>once</code> de <code class=syntax>loop</code> type. <a href=https://github.com/ClickHouse/ClickHouse/pull/6536 rel="external nofollow noreferrer" target=_blank>#6536</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li><code class=syntax>odbc-bridge.cpp</code> définit <code class=syntax>main()</code> donc, il ne devrait pas être inclus dans <code class=syntax>clickhouse-lib</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6538 rel="external nofollow noreferrer" target=_blank>#6538</a> (<a href=https://github.com/orivej rel="external nofollow noreferrer" target=_blank>Orivej Desh</a>)</li><li>Test de crash dans l' <code class=syntax>FULL|RIGHT JOIN</code> avec nulls dans les clés de la table de droite. <a href=https://github.com/ClickHouse/ClickHouse/pull/6362 rel="external nofollow noreferrer" target=_blank>#6362</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajout d'un test pour la limite d'extension des alias, juste au cas où. <a href=https://github.com/ClickHouse/ClickHouse/pull/6442 rel="external nofollow noreferrer" target=_blank>#6442</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Commutation de <code class=syntax>boost::filesystem</code> de <code class=syntax>std::filesystem</code> échéant. <a href=https://github.com/ClickHouse/ClickHouse/pull/6253 rel="external nofollow noreferrer" target=_blank>#6253</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6385 rel="external nofollow noreferrer" target=_blank>#6385</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de paquets RPM au site web. <a href=https://github.com/ClickHouse/ClickHouse/pull/6251 rel="external nofollow noreferrer" target=_blank>#6251</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un test pour fixe <code class=syntax>Unknown identifier</code> exception dans <code class=syntax>IN</code> section. <a href=https://github.com/ClickHouse/ClickHouse/pull/6708 rel="external nofollow noreferrer" target=_blank>#6708</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Simplifier <code class=syntax>shared_ptr_helper</code> parce que les gens confrontés à des difficultés à le comprendre. <a href=https://github.com/ClickHouse/ClickHouse/pull/6675 rel="external nofollow noreferrer" target=_blank>#6675</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de tests de performance pour le codec Gorilla et DoubleDelta fixe. <a href=https://github.com/ClickHouse/ClickHouse/pull/6179 rel="external nofollow noreferrer" target=_blank>#6179</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Diviser le test d'intégration <code class=syntax>test_dictionaries</code> dans 4 tests distincts. <a href=https://github.com/ClickHouse/ClickHouse/pull/6776 rel="external nofollow noreferrer" target=_blank>#6776</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction de L'avertissement PVS-Studio dans <code class=syntax>PipelineExecutor</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6777 rel="external nofollow noreferrer" target=_blank>#6777</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Permettre d'utiliser <code class=syntax>library</code> dictionnaire source avec ASan. <a href=https://github.com/ClickHouse/ClickHouse/pull/6482 rel="external nofollow noreferrer" target=_blank>#6482</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout d'une option pour générer changelog à partir d'une liste de PRs. <a href=https://github.com/ClickHouse/ClickHouse/pull/6350 rel="external nofollow noreferrer" target=_blank>#6350</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Verrouiller le <code class=syntax>TinyLog</code> de stockage lors de la lecture. <a href=https://github.com/ClickHouse/ClickHouse/pull/6226 rel="external nofollow noreferrer" target=_blank>#6226</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Vérifiez les liens symboliques brisés dans CI. <a href=https://github.com/ClickHouse/ClickHouse/pull/6634 rel="external nofollow noreferrer" target=_blank>#6634</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Augmentez le délai pour “stack overflow” test car cela peut prendre beaucoup de temps dans la construction de débogage. <a href=https://github.com/ClickHouse/ClickHouse/pull/6637 rel="external nofollow noreferrer" target=_blank>#6637</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout d'une vérification pour les doubles espaces. <a href=https://github.com/ClickHouse/ClickHouse/pull/6643 rel="external nofollow noreferrer" target=_blank>#6643</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixer <code class=syntax>new/delete</code> suivi de la mémoire lors de la construction avec des désinfectants. Le suivi n'est pas clair. Il empêche uniquement les exceptions de limite de mémoire dans les tests. <a href=https://github.com/ClickHouse/ClickHouse/pull/6450 rel="external nofollow noreferrer" target=_blank>#6450</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Activez la vérification des symboles non définis lors de la liaison. <a href=https://github.com/ClickHouse/ClickHouse/pull/6453 rel="external nofollow noreferrer" target=_blank>#6453</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Éviter la reconstruction <code class=syntax>hyperscan</code> quotidien. <a href=https://github.com/ClickHouse/ClickHouse/pull/6307 rel="external nofollow noreferrer" target=_blank>#6307</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Rapport UBSan fixe dans <code class=syntax>ProtobufWriter</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6163 rel="external nofollow noreferrer" target=_blank>#6163</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ne permettez pas d'utiliser query profiler avec des désinfectants car il n'est pas compatible. <a href=https://github.com/ClickHouse/ClickHouse/pull/6769 rel="external nofollow noreferrer" target=_blank>#6769</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un test pour recharger un dictionnaire après échec par minuterie. <a href=https://github.com/ClickHouse/ClickHouse/pull/6114 rel="external nofollow noreferrer" target=_blank>#6114</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction de l'incohérence dans <code class=syntax>PipelineExecutor::prepareProcessor</code> type d'argument. <a href=https://github.com/ClickHouse/ClickHouse/pull/6494 rel="external nofollow noreferrer" target=_blank>#6494</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Ajout d'un test pour les mauvais URI. <a href=https://github.com/ClickHouse/ClickHouse/pull/6493 rel="external nofollow noreferrer" target=_blank>#6493</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouté plus de contrôles <code class=syntax>CAST</code> fonction. Cela devrait obtenir plus d'informations sur la faille de segmentation dans le test flou. <a href=https://github.com/ClickHouse/ClickHouse/pull/6346 rel="external nofollow noreferrer" target=_blank>#6346</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Ajouter <code class=syntax>gcc-9</code> soutien à <code class=syntax>docker/builder</code> conteneur qui construit l'image localement. <a href=https://github.com/ClickHouse/ClickHouse/pull/6333 rel="external nofollow noreferrer" target=_blank>#6333</a> (<a href=https://github.com/NanoBjorn rel="external nofollow noreferrer" target=_blank>Gleb Novikov</a>)</li><li>Test de la clé primaire avec <code class=syntax>LowCardinality(String)</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/5044 rel="external nofollow noreferrer" target=_blank>#5044</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6219 rel="external nofollow noreferrer" target=_blank>#6219</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Correction des tests affectés par l'impression de traces de pile lente. <a href=https://github.com/ClickHouse/ClickHouse/pull/6315 rel="external nofollow noreferrer" target=_blank>#6315</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un cas de test pour crash in <code class=syntax>groupUniqArray</code> fixe dans <a href=https://github.com/ClickHouse/ClickHouse/pull/6029 rel="external nofollow noreferrer" target=_blank>#6029</a>. <a href=https://github.com/ClickHouse/ClickHouse/issues/4402 rel="external nofollow noreferrer" target=_blank>#4402</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6129 rel="external nofollow noreferrer" target=_blank>#6129</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Tests de mutations d'indices fixes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6645 rel="external nofollow noreferrer" target=_blank>#6645</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Dans le test de performance, ne lisez pas le journal des requêtes pour les requêtes que nous n'avons pas exécutées. <a href=https://github.com/ClickHouse/ClickHouse/pull/6427 rel="external nofollow noreferrer" target=_blank>#6427</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>La vue matérialisée peut maintenant être créée avec n'importe quel type de cardinalité faible quel que soit le paramètre concernant les types de cardinalité faible suspects. <a href=https://github.com/ClickHouse/ClickHouse/pull/6428 rel="external nofollow noreferrer" target=_blank>#6428</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Mise à jour des tests pour <code class=syntax>send_logs_level</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/6207 rel="external nofollow noreferrer" target=_blank>#6207</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction de la construction sous gcc-8.2. <a href=https://github.com/ClickHouse/ClickHouse/pull/6196 rel="external nofollow noreferrer" target=_blank>#6196</a> (<a href=https://github.com/zlobober rel="external nofollow noreferrer" target=_blank>Max Akhmedov</a>)</li><li>Correction de la construction avec libc++interne. <a href=https://github.com/ClickHouse/ClickHouse/pull/6724 rel="external nofollow noreferrer" target=_blank>#6724</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction de la construction partagée avec <code class=syntax>rdkafka</code> bibliothèque <a href=https://github.com/ClickHouse/ClickHouse/pull/6101 rel="external nofollow noreferrer" target=_blank>#6101</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correctifs pour Mac OS build (incomplet). <a href=https://github.com/ClickHouse/ClickHouse/pull/6390 rel="external nofollow noreferrer" target=_blank>#6390</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6429 rel="external nofollow noreferrer" target=_blank>#6429</a> (<a href=https://github.com/alex-zaitsev rel="external nofollow noreferrer" target=_blank>alex-zaitsev</a>)</li><li>Fixer “splitted” construire. <a href=https://github.com/ClickHouse/ClickHouse/pull/6618 rel="external nofollow noreferrer" target=_blank>#6618</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Autres correctifs: <a href=https://github.com/ClickHouse/ClickHouse/pull/6186 rel="external nofollow noreferrer" target=_blank>#6186</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6486 rel="external nofollow noreferrer" target=_blank>#6486</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6348 rel="external nofollow noreferrer" target=_blank>#6348</a> (<a href=https://github.com/Vxider rel="external nofollow noreferrer" target=_blank>vxider</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6744 rel="external nofollow noreferrer" target=_blank>#6744</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6016 rel="external nofollow noreferrer" target=_blank>#6016</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6421 rel="external nofollow noreferrer" target=_blank>#6421</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6491 rel="external nofollow noreferrer" target=_blank>#6491</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=backward-incompatible-change-3>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-3 title="Permanent link"> </a></h4><ul><li>Suppression de la fonction de table rarement utilisée <code class=syntax>catBoostPool</code> et de stockage <code class=syntax>CatBoostPool</code>. Si vous avez utilisé cette fonction de table, veuillez écrire un courriel à <code class=syntax>clickhouse-feedback@yandex-team.com</code>. Notez que L'intégration CatBoost reste et sera prise en charge. <a href=https://github.com/ClickHouse/ClickHouse/pull/6279 rel="external nofollow noreferrer" target=_blank>#6279</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Désactiver <code class=syntax>ANY RIGHT JOIN</code> et <code class=syntax>ANY FULL JOIN</code> par défaut. Définir <code class=syntax>any_join_distinct_right_table_keys</code> réglage pour les activer. <a href=https://github.com/ClickHouse/ClickHouse/issues/5126 rel="external nofollow noreferrer" target=_blank>#5126</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6351 rel="external nofollow noreferrer" target=_blank>#6351</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h2 id=clickhouse-release-19-13>Clickhouse Version 19.13<a class=headerlink href=../amp/#clickhouse-release-19-13 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-13-6-51-2019-10-02>Clickhouse Version 19.13.6.51, 2019-10-02<a class=headerlink href=../amp/#clickhouse-release-19-13-6-51-2019-10-02 title="Permanent link"> </a></h3><h4 id=bug-fix-9>Bug Fix<a class=headerlink href=../amp/#bug-fix-9 title="Permanent link"> </a></h4><ul><li>Cette version contient également toutes les corrections de bugs de 19.11.12.69.</li></ul><h3 id=clickhouse-release-19-13-5-44-2019-09-20>Clickhouse Version 19.13.5.44, 2019-09-20<a class=headerlink href=../amp/#clickhouse-release-19-13-5-44-2019-09-20 title="Permanent link"> </a></h3><h4 id=bug-fix-10>Bug Fix<a class=headerlink href=../amp/#bug-fix-10 title="Permanent link"> </a></h4><ul><li>Cette version contient également toutes les corrections de bugs de 19.14.6.12.</li><li>Correction d'un état incohérent possible de la table lors de l'exécution <code class=syntax>DROP</code> requête pour la table répliquée alors que zookeeper n'est pas accessible. <a href=https://github.com/ClickHouse/ClickHouse/issues/6045 rel="external nofollow noreferrer" target=_blank>#6045</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6413 rel="external nofollow noreferrer" target=_blank>#6413</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>)</li><li>Correction de la course de données dans StorageMerge <a href=https://github.com/ClickHouse/ClickHouse/pull/6717 rel="external nofollow noreferrer" target=_blank>#6717</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug introduit dans query profiler qui conduit à recv sans fin de socket. <a href=https://github.com/ClickHouse/ClickHouse/pull/6386 rel="external nofollow noreferrer" target=_blank>#6386</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de l'utilisation excessive du processeur lors de l'exécution <code class=syntax>JSONExtractRaw</code> la fonction sur une valeur booléenne. <a href=https://github.com/ClickHouse/ClickHouse/pull/6208 rel="external nofollow noreferrer" target=_blank>#6208</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Corrige la régression tout en poussant vers la vue matérialisée. <a href=https://github.com/ClickHouse/ClickHouse/pull/6415 rel="external nofollow noreferrer" target=_blank>#6415</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fonction de Table <code class=syntax>url</code> la vulnérabilité avait-elle permis à l'attaquant d'injecter des en-têtes HTTP arbitraires dans la requête. Ce problème a été trouvé par <a href=https://github.com/NSTikhomirov rel="external nofollow noreferrer" target=_blank>Nikita Tikhomirov</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6466 rel="external nofollow noreferrer" target=_blank>#6466</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fix inutile <code class=syntax>AST</code> vérifier dans L'index de jeu. <a href=https://github.com/ClickHouse/ClickHouse/issues/6510 rel="external nofollow noreferrer" target=_blank>#6510</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6651 rel="external nofollow noreferrer" target=_blank>#6651</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Fixe l'analyse de <code class=syntax>AggregateFunction</code> valeurs ancrées dans la requête. <a href=https://github.com/ClickHouse/ClickHouse/issues/6575 rel="external nofollow noreferrer" target=_blank>#6575</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6773 rel="external nofollow noreferrer" target=_blank>#6773</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Fixe mauvais comportement de <code class=syntax>trim</code> les fonctions de la famille. <a href=https://github.com/ClickHouse/ClickHouse/pull/6647 rel="external nofollow noreferrer" target=_blank>#6647</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-13-4-32-2019-09-10>Clickhouse Version 19.13.4.32, 2019-09-10<a class=headerlink href=../amp/#clickhouse-release-19-13-4-32-2019-09-10 title="Permanent link"> </a></h3><h4 id=bug-fix-11>Bug Fix<a class=headerlink href=../amp/#bug-fix-11 title="Permanent link"> </a></h4><ul><li>Cette version contient également tous les correctifs de sécurité de bugs de 19.11.9.52 et 19.11.10.54.</li><li>Les données fixes de course <code class=syntax>system.parts</code> table et <code class=syntax>ALTER</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/issues/6245 rel="external nofollow noreferrer" target=_blank>#6245</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6513 rel="external nofollow noreferrer" target=_blank>#6513</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'en-tête non apparié dans les flux se sont produits en cas de lecture à partir d'une table distribuée vide avec sample et prewhere. <a href=https://github.com/ClickHouse/ClickHouse/issues/6167 rel="external nofollow noreferrer" target=_blank>#6167</a> (<a href=https://github.com/fancyqlx rel="external nofollow noreferrer" target=_blank>Lixiang Qian</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6823 rel="external nofollow noreferrer" target=_blank>#6823</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'un crash lors de l'utilisation de <code class=syntax>IN</code> clause avec une sous-requête avec un tuple. <a href=https://github.com/ClickHouse/ClickHouse/issues/6125 rel="external nofollow noreferrer" target=_blank>#6125</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6550 rel="external nofollow noreferrer" target=_blank>#6550</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Corrigé cas avec les mêmes noms de colonnes dans <code class=syntax>GLOBAL JOIN ON</code> section. <a href=https://github.com/ClickHouse/ClickHouse/pull/6181 rel="external nofollow noreferrer" target=_blank>#6181</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un crash lors de la coulée de types à <code class=syntax>Decimal</code> qui ne la supportent pas. Jetez exception à la place. <a href=https://github.com/ClickHouse/ClickHouse/pull/6297 rel="external nofollow noreferrer" target=_blank>#6297</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un crash dans <code class=syntax>extractAll()</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/6644 rel="external nofollow noreferrer" target=_blank>#6644</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Transformation de requête pour <code class=syntax>MySQL</code>, <code class=syntax>ODBC</code>, <code class=syntax>JDBC</code> fonctions de table fonctionne maintenant correctement pour <code class=syntax>SELECT WHERE</code> requêtes avec plusieurs <code class=syntax>AND</code> expression. <a href=https://github.com/ClickHouse/ClickHouse/issues/6381 rel="external nofollow noreferrer" target=_blank>#6381</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6676 rel="external nofollow noreferrer" target=_blank>#6676</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Ajout de vérifications de déclaration précédentes pour L'intégration de MySQL 8. <a href=https://github.com/ClickHouse/ClickHouse/pull/6569 rel="external nofollow noreferrer" target=_blank>#6569</a> (<a href=https://github.com/rafaeldtinoco rel="external nofollow noreferrer" target=_blank>Rafael David Tinoco</a>)</li></ul><h4 id=security-fix-1>Correction De Sécurité<a class=headerlink href=../amp/#security-fix-1 title="Permanent link"> </a></h4><ul><li>Correction de deux vulnérabilités dans les codecs en phase de décompression (l'utilisateur malveillant peut fabriquer des données compressées qui conduiront à un débordement de tampon en décompression). <a href=https://github.com/ClickHouse/ClickHouse/pull/6670 rel="external nofollow noreferrer" target=_blank>#6670</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h3 id=clickhouse-release-19-13-3-26-2019-08-22>Clickhouse Version 19.13.3.26, 2019-08-22<a class=headerlink href=../amp/#clickhouse-release-19-13-3-26-2019-08-22 title="Permanent link"> </a></h3><h4 id=bug-fix-12>Bug Fix<a class=headerlink href=../amp/#bug-fix-12 title="Permanent link"> </a></h4><ul><li>Fixer <code class=syntax>ALTER TABLE ... UPDATE</code> requête pour les tables avec <code class=syntax>enable_mixed_granularity_parts=1</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6543 rel="external nofollow noreferrer" target=_blank>#6543</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de NPE lors de l'utilisation de la clause IN avec une sous-requête avec un tuple. <a href=https://github.com/ClickHouse/ClickHouse/issues/6125 rel="external nofollow noreferrer" target=_blank>#6125</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6550 rel="external nofollow noreferrer" target=_blank>#6550</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'un problème que si un réplica périmé devient vivant, il peut encore avoir des parties de données qui ont été supprimés par la partition DROP. <a href=https://github.com/ClickHouse/ClickHouse/issues/6522 rel="external nofollow noreferrer" target=_blank>#6522</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6523 rel="external nofollow noreferrer" target=_blank>#6523</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'un problème avec l'analyse CSV <a href=https://github.com/ClickHouse/ClickHouse/issues/6426 rel="external nofollow noreferrer" target=_blank>#6426</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6559 rel="external nofollow noreferrer" target=_blank>#6559</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Course de données fixe dans le système.table de pièces et ALTER query. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6245 rel="external nofollow noreferrer" target=_blank>#6245</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6513 rel="external nofollow noreferrer" target=_blank>#6513</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du mauvais code dans les mutations qui peuvent conduire à la corruption de la mémoire. Correction de segfault avec lecture de l'adresse <code class=syntax>0x14c0</code> cela peut se produire en raison de simultané <code class=syntax>DROP TABLE</code> et <code class=syntax>SELECT</code> de <code class=syntax>system.parts</code> ou <code class=syntax>system.parts_columns</code>. Condition de course fixe dans la préparation des requêtes de mutation. Blocage fixe causé par <code class=syntax>OPTIMIZE</code> des tables répliquées et des opérations de modification simultanées comme ALTERs. <a href=https://github.com/ClickHouse/ClickHouse/pull/6514 rel="external nofollow noreferrer" target=_blank>#6514</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction possible perte de données après <code class=syntax>ALTER DELETE</code> requête sur la table avec l'index de saut. <a href=https://github.com/ClickHouse/ClickHouse/issues/6224 rel="external nofollow noreferrer" target=_blank>#6224</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6282 rel="external nofollow noreferrer" target=_blank>#6282</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li></ul><h4 id=security-fix-2>Correction De Sécurité<a class=headerlink href=../amp/#security-fix-2 title="Permanent link"> </a></h4><ul><li>Si L'attaquant a un accès en écriture à ZooKeeper et est capable d'exécuter un serveur personnalisé disponible à partir du réseau où clickhouse s'exécute, il peut créer un serveur malveillant sur mesure qui agira comme réplique de ClickHouse et l'enregistrer dans ZooKeeper. Lorsqu'une autre réplique récupère une partie de données à partir d'une réplique malveillante, elle peut forcer clickhouse-server à écrire sur un chemin arbitraire sur le système de fichiers. Trouvé par Eldar Zaitov, équipe de sécurité de L'information chez Yandex. <a href=https://github.com/ClickHouse/ClickHouse/pull/6247 rel="external nofollow noreferrer" target=_blank>#6247</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-13-2-19-2019-08-14>Clickhouse Version 19.13.2.19, 2019-08-14<a class=headerlink href=../amp/#clickhouse-release-19-13-2-19-2019-08-14 title="Permanent link"> </a></h3><h4 id=new-feature-5>Nouveauté<a class=headerlink href=../amp/#new-feature-5 title="Permanent link"> </a></h4><ul><li>Échantillonnage du profileur au niveau de la requête. <a href=https://gist.github.com/alexey-milovidov/92758583dd41c24c360fdb8d6a4da194 rel="external nofollow noreferrer" target=_blank>Exemple</a>. <a href=https://github.com/ClickHouse/ClickHouse/issues/4247 rel="external nofollow noreferrer" target=_blank>#4247</a> (<a href=https://github.com/laplab rel="external nofollow noreferrer" target=_blank>laplab</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6124 rel="external nofollow noreferrer" target=_blank>#6124</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6250 rel="external nofollow noreferrer" target=_blank>#6250</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6283 rel="external nofollow noreferrer" target=_blank>#6283</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6386 rel="external nofollow noreferrer" target=_blank>#6386</a></li><li>Permet de spécifier une liste de colonnes avec <code class=syntax>COLUMNS('regexp')</code> expression qui fonctionne comme une variante plus sophistiquée de <code class=syntax>*</code> astérisque. <a href=https://github.com/ClickHouse/ClickHouse/pull/5951 rel="external nofollow noreferrer" target=_blank>#5951</a> (<a href=https://github.com/mfridental rel="external nofollow noreferrer" target=_blank>mfridental</a>), (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>CREATE TABLE AS table_function()</code> est maintenant possible <a href=https://github.com/ClickHouse/ClickHouse/pull/6057 rel="external nofollow noreferrer" target=_blank>#6057</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Adam optimizer pour la descente de gradient stochastique est utilisé par défaut dans <code class=syntax>stochasticLinearRegression()</code> et <code class=syntax>stochasticLogisticRegression()</code> fonctions d'agrégation, car il montre une bonne qualité sans presque aucun réglage. <a href=https://github.com/ClickHouse/ClickHouse/pull/6000 rel="external nofollow noreferrer" target=_blank>#6000</a> (<a href=https://github.com/Quid37 rel="external nofollow noreferrer" target=_blank>Quid37</a>)</li><li>Added functions for working with the сustom week number <a href=https://github.com/ClickHouse/ClickHouse/pull/5212 rel="external nofollow noreferrer" target=_blank>#5212</a> (<a href=https://github.com/andyyzh rel="external nofollow noreferrer" target=_blank>Andy Yang</a>)</li><li><code class=syntax>RENAME</code> les requêtes fonctionnent maintenant avec tous les stockages. <a href=https://github.com/ClickHouse/ClickHouse/pull/5953 rel="external nofollow noreferrer" target=_blank>#5953</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Maintenant client de recevoir les journaux du serveur avec n'importe quel niveau de <code class=syntax>send_logs_level</code> quel que soit le niveau de journal spécifié dans les paramètres du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/5964 rel="external nofollow noreferrer" target=_blank>#5964</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>)</li></ul><h4 id=backward-incompatible-change-4>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-4 title="Permanent link"> </a></h4><ul><li>Paramètre <code class=syntax>input_format_defaults_for_omitted_fields</code> est activé par défaut. Les insertions dans les tables distribuées ont besoin que ce paramètre soit le même sur le cluster (vous devez le définir avant de lancer la mise à jour). Il permet de calculer des expressions par défaut Complexes pour les champs omis dans <code class=syntax>JSONEachRow</code> et <code class=syntax>CSV*</code> format. Il devrait être le comportement attendu, mais peut conduire à négligeable différence de performances. <a href=https://github.com/ClickHouse/ClickHouse/pull/6043 rel="external nofollow noreferrer" target=_blank>#6043</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>), <a href=https://github.com/ClickHouse/ClickHouse/pull/5625 rel="external nofollow noreferrer" target=_blank>#5625</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li></ul><h4 id=experimental-features>Caractéristiques Expérimentales<a class=headerlink href=../amp/#experimental-features title="Permanent link"> </a></h4><ul><li>Nouveau pipeline de traitement des requêtes. Utiliser <code class=syntax>experimental_use_processors=1</code> une option pour l'activer. Utilisez pour votre propre problème. <a href=https://github.com/ClickHouse/ClickHouse/pull/4914 rel="external nofollow noreferrer" target=_blank>#4914</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li></ul><h4 id=bug-fix-13>Bug Fix<a class=headerlink href=../amp/#bug-fix-13 title="Permanent link"> </a></h4><ul><li>L'intégration de Kafka a été corrigée dans cette version.</li><li>Fixe <code class=syntax>DoubleDelta</code> l'encodage de <code class=syntax>Int64</code> pour les grands <code class=syntax>DoubleDelta</code> les valeurs, l'amélioration de la <code class=syntax>DoubleDelta</code> encodage de données aléatoires pour <code class=syntax>Int32</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5998 rel="external nofollow noreferrer" target=_blank>#5998</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Surestimation fixe de <code class=syntax>max_rows_to_read</code> si le paramètre <code class=syntax>merge_tree_uniform_read_distribution</code> est réglé sur 0. <a href=https://github.com/ClickHouse/ClickHouse/pull/6019 rel="external nofollow noreferrer" target=_blank>#6019</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=improvement-4>Amélioration<a class=headerlink href=../amp/#improvement-4 title="Permanent link"> </a></h4><ul><li>Lève une exception si <code class=syntax>config.d</code> le fichier n'a pas l'élément racine correspondant comme fichier de configuration <a href=https://github.com/ClickHouse/ClickHouse/pull/6123 rel="external nofollow noreferrer" target=_blank>#6123</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li></ul><h4 id=performance-improvement-3>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement-3 title="Permanent link"> </a></h4><ul><li>Optimiser <code class=syntax>count()</code>. Maintenant, il utilise la plus petite colonne (si possible). <a href=https://github.com/ClickHouse/ClickHouse/pull/6028 rel="external nofollow noreferrer" target=_blank>#6028</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li></ul><h4 id=buildtestingpackaging-improvement-5>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-5 title="Permanent link"> </a></h4><ul><li>Signaler l'utilisation de la mémoire dans les tests de performance. <a href=https://github.com/ClickHouse/ClickHouse/pull/5899 rel="external nofollow noreferrer" target=_blank>#5899</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Correction de la construction avec externe <code class=syntax>libcxx</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/6010 rel="external nofollow noreferrer" target=_blank>#6010</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction de la construction partagée avec <code class=syntax>rdkafka</code> bibliothèque <a href=https://github.com/ClickHouse/ClickHouse/pull/6101 rel="external nofollow noreferrer" target=_blank>#6101</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h2 id=clickhouse-release-19-11>Clickhouse Version 19.11<a class=headerlink href=../amp/#clickhouse-release-19-11 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-11-13-74-2019-11-01>Version De ClickHouse 19.11.13.74, 2019-11-01<a class=headerlink href=../amp/#clickhouse-release-19-11-13-74-2019-11-01 title="Permanent link"> </a></h3><h4 id=bug-fix-14>Bug Fix<a class=headerlink href=../amp/#bug-fix-14 title="Permanent link"> </a></h4><ul><li>Correction d'un crash rare dans <code class=syntax>ALTER MODIFY COLUMN</code> et fusion verticale lorsque l'une des parties fusionnées/modifiées est vide (0 lignes). <a href=https://github.com/ClickHouse/ClickHouse/pull/6780 rel="external nofollow noreferrer" target=_blank>#6780</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Mise à jour manuelle de <code class=syntax>SIMDJSON</code>. Cela corrige l'inondation possible des fichiers stderr avec des messages de diagnostic JSON faux. <a href=https://github.com/ClickHouse/ClickHouse/pull/7548 rel="external nofollow noreferrer" target=_blank>#7548</a> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander Kazakov</a>)</li><li>Correction d'un bug avec <code class=syntax>mrk</code> extension de fichier pour mutations (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h3 id=clickhouse-release-19-11-12-69-2019-10-02>Version De ClickHouse 19.11.12.69, 2019-10-02<a class=headerlink href=../amp/#clickhouse-release-19-11-12-69-2019-10-02 title="Permanent link"> </a></h3><h4 id=bug-fix-15>Bug Fix<a class=headerlink href=../amp/#bug-fix-15 title="Permanent link"> </a></h4><ul><li>Correction de la dégradation des performances de l'analyse d'index sur les clés complexes sur les grandes tables. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6924 rel="external nofollow noreferrer" target=_blank>#6924</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7075 rel="external nofollow noreferrer" target=_blank>#7075</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Évitez SIGSEGV rare lors de l'envoi de données dans des tables avec moteur distribué (<code class=syntax>Failed to send batch: file with index XXXXX is absent</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/7032 rel="external nofollow noreferrer" target=_blank>#7032</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Fixer <code class=syntax>Unknown identifier</code> avec plusieurs jointures. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5254 rel="external nofollow noreferrer" target=_blank>#5254</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/7022 rel="external nofollow noreferrer" target=_blank>#7022</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h3 id=clickhouse-release-19-11-11-57-2019-09-13>Clickhouse Version 19.11.11.57, 2019-09-13<a class=headerlink href=../amp/#clickhouse-release-19-11-11-57-2019-09-13 title="Permanent link"> </a></h3><ul><li>Correction d'une erreur logique provoquant segfaults lors de la sélection de Kafka sujet vide. <a href=https://github.com/ClickHouse/ClickHouse/issues/6902 rel="external nofollow noreferrer" target=_blank>#6902</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6909 rel="external nofollow noreferrer" target=_blank>#6909</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correctif pour la fonction <code class=syntax>АrrayEnumerateUniqRanked</code> avec des tableaux vides dans params. <a href=https://github.com/ClickHouse/ClickHouse/pull/6928 rel="external nofollow noreferrer" target=_blank>#6928</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h3 id=clickhouse-release-19-11-10-54-2019-09-10>Clickhouse Version 19.11.10.54, 2019-09-10<a class=headerlink href=../amp/#clickhouse-release-19-11-10-54-2019-09-10 title="Permanent link"> </a></h3><h4 id=bug-fix-16>Bug Fix<a class=headerlink href=../amp/#bug-fix-16 title="Permanent link"> </a></h4><ul><li>Stockez manuellement les décalages des messages Kafka pour pouvoir les valider tous à la fois pour toutes les partitions. Corrige la duplication potentielle dans “one consumer - many partitions” scénario. <a href=https://github.com/ClickHouse/ClickHouse/pull/6872 rel="external nofollow noreferrer" target=_blank>#6872</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h3 id=clickhouse-release-19-11-9-52-2019-09-6>Clickhouse Version 19.11.9.52, 2019-09-6<a class=headerlink href=../amp/#clickhouse-release-19-11-9-52-2019-09-6 title="Permanent link"> </a></h3><ul><li>Améliorer la gestion des erreurs dans les dictionnaires de cache. <a href=https://github.com/ClickHouse/ClickHouse/pull/6737 rel="external nofollow noreferrer" target=_blank>#6737</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction d'un bug dans la fonction <code class=syntax>arrayEnumerateUniqRanked</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6779 rel="external nofollow noreferrer" target=_blank>#6779</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Fixer <code class=syntax>JSONExtract</code> fonction lors de l'extraction d'une <code class=syntax>Tuple</code> de JSON. <a href=https://github.com/ClickHouse/ClickHouse/pull/6718 rel="external nofollow noreferrer" target=_blank>#6718</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction possible perte de données après <code class=syntax>ALTER DELETE</code> requête sur la table avec l'index de saut. <a href=https://github.com/ClickHouse/ClickHouse/issues/6224 rel="external nofollow noreferrer" target=_blank>#6224</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6282 rel="external nofollow noreferrer" target=_blank>#6282</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Test de performance fixe. <a href=https://github.com/ClickHouse/ClickHouse/pull/6392 rel="external nofollow noreferrer" target=_blank>#6392</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Parquet: Correction de la lecture des colonnes booléennes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6579 rel="external nofollow noreferrer" target=_blank>#6579</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe mauvais comportement de <code class=syntax>nullIf</code> fonction pour les arguments constants. <a href=https://github.com/ClickHouse/ClickHouse/pull/6518 rel="external nofollow noreferrer" target=_blank>#6518</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/6580 rel="external nofollow noreferrer" target=_blank>#6580</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du problème de duplication des messages Kafka lors du redémarrage normal du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6597 rel="external nofollow noreferrer" target=_blank>#6597</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction d'un problème quand long <code class=syntax>ALTER UPDATE</code> ou <code class=syntax>ALTER DELETE</code> peut empêcher régulière fusionne à exécuter. Empêcher les mutations de s'exécuter s'il n'y a pas assez de threads libres disponibles. <a href=https://github.com/ClickHouse/ClickHouse/issues/6502 rel="external nofollow noreferrer" target=_blank>#6502</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6617 rel="external nofollow noreferrer" target=_blank>#6617</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'une erreur avec le traitement “timezone” dans le fichier de configuration du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/6709 rel="external nofollow noreferrer" target=_blank>#6709</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction des tests kafka. <a href=https://github.com/ClickHouse/ClickHouse/pull/6805 rel="external nofollow noreferrer" target=_blank>#6805</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h4 id=security-fix-3>Correction De Sécurité<a class=headerlink href=../amp/#security-fix-3 title="Permanent link"> </a></h4><ul><li>Si L'attaquant a un accès en écriture à ZooKeeper et est capable d'exécuter un serveur personnalisé disponible à partir du réseau où clickhouse s'exécute, il peut créer un serveur malveillant personnalisé qui agira comme réplique de ClickHouse et l'enregistrer dans ZooKeeper. Lorsqu'une autre réplique récupère une partie de données à partir d'une réplique malveillante, elle peut forcer clickhouse-server à écrire sur un chemin arbitraire sur le système de fichiers. Trouvé par Eldar Zaitov, équipe de sécurité de L'information chez Yandex. <a href=https://github.com/ClickHouse/ClickHouse/pull/6247 rel="external nofollow noreferrer" target=_blank>#6247</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-11-8-46-2019-08-22>Clickhouse Version 19.11.8.46, 2019-08-22<a class=headerlink href=../amp/#clickhouse-release-19-11-8-46-2019-08-22 title="Permanent link"> </a></h3><h4 id=bug-fix-17>Bug Fix<a class=headerlink href=../amp/#bug-fix-17 title="Permanent link"> </a></h4><ul><li>Fixer <code class=syntax>ALTER TABLE ... UPDATE</code> requête pour les tables avec <code class=syntax>enable_mixed_granularity_parts=1</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6543 rel="external nofollow noreferrer" target=_blank>#6543</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de NPE lors de l'utilisation de la clause IN avec une sous-requête avec un tuple. <a href=https://github.com/ClickHouse/ClickHouse/issues/6125 rel="external nofollow noreferrer" target=_blank>#6125</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6550 rel="external nofollow noreferrer" target=_blank>#6550</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'un problème que si un réplica périmé devient vivant, il peut encore avoir des parties de données qui ont été supprimés par la partition DROP. <a href=https://github.com/ClickHouse/ClickHouse/issues/6522 rel="external nofollow noreferrer" target=_blank>#6522</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6523 rel="external nofollow noreferrer" target=_blank>#6523</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Correction d'un problème avec l'analyse CSV <a href=https://github.com/ClickHouse/ClickHouse/issues/6426 rel="external nofollow noreferrer" target=_blank>#6426</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6559 rel="external nofollow noreferrer" target=_blank>#6559</a> (<a href=https://github.com/tavplubix rel="external nofollow noreferrer" target=_blank>tavplubix</a>)</li><li>Course de données fixe dans le système.table de pièces et ALTER query. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6245 rel="external nofollow noreferrer" target=_blank>#6245</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6513 rel="external nofollow noreferrer" target=_blank>#6513</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du mauvais code dans les mutations qui peuvent conduire à la corruption de la mémoire. Correction de segfault avec lecture de l'adresse <code class=syntax>0x14c0</code> cela peut se produire en raison de simultané <code class=syntax>DROP TABLE</code> et <code class=syntax>SELECT</code> de <code class=syntax>system.parts</code> ou <code class=syntax>system.parts_columns</code>. Condition de course fixe dans la préparation des requêtes de mutation. Blocage fixe causé par <code class=syntax>OPTIMIZE</code> des tables répliquées et des opérations de modification simultanées comme ALTERs. <a href=https://github.com/ClickHouse/ClickHouse/pull/6514 rel="external nofollow noreferrer" target=_blank>#6514</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-11-7-40-2019-08-14>Clickhouse Version 19.11.7.40, 2019-08-14<a class=headerlink href=../amp/#clickhouse-release-19-11-7-40-2019-08-14 title="Permanent link"> </a></h3><h4 id=bug-fix-18>Bug Fix<a class=headerlink href=../amp/#bug-fix-18 title="Permanent link"> </a></h4><ul><li>L'intégration de Kafka a été corrigée dans cette version.</li><li>Correction de segfault lors de l'utilisation <code class=syntax>arrayReduce</code> pour les querelles constantes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6326 rel="external nofollow noreferrer" target=_blank>#6326</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe <code class=syntax>toFloat()</code> monotonie. <a href=https://github.com/ClickHouse/ClickHouse/pull/6374 rel="external nofollow noreferrer" target=_blank>#6374</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Correction de segfault avec activé <code class=syntax>optimize_skip_unused_shards</code> et clé de sharding manquante. <a href=https://github.com/ClickHouse/ClickHouse/pull/6384 rel="external nofollow noreferrer" target=_blank>#6384</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>CurtizJ</a>)</li><li>Fixe la logique de <code class=syntax>arrayEnumerateUniqRanked</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/6423 rel="external nofollow noreferrer" target=_blank>#6423</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Suppression de la journalisation supplémentaire du gestionnaire MySQL. <a href=https://github.com/ClickHouse/ClickHouse/pull/6389 rel="external nofollow noreferrer" target=_blank>#6389</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un comportement incorrect et de segfaults possibles dans <code class=syntax>topK</code> et <code class=syntax>topKWeighted</code> agrégé fonctions. <a href=https://github.com/ClickHouse/ClickHouse/pull/6404 rel="external nofollow noreferrer" target=_blank>#6404</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>CurtizJ</a>)</li><li>N'exposez pas les colonnes virtuelles dans <code class=syntax>system.columns</code> table. Ceci est nécessaire pour la compatibilité descendante. <a href=https://github.com/ClickHouse/ClickHouse/pull/6406 rel="external nofollow noreferrer" target=_blank>#6406</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug avec l'allocation de mémoire pour les champs de chaîne dans le dictionnaire de cache de clé complexe. <a href=https://github.com/ClickHouse/ClickHouse/pull/6447 rel="external nofollow noreferrer" target=_blank>#6447</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug avec l'activation de la granularité adaptative lors de la création d'une nouvelle réplique pour <code class=syntax>Replicated*MergeTree</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/6452 rel="external nofollow noreferrer" target=_blank>#6452</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de la boucle infinie lors de la lecture des messages Kafka. <a href=https://github.com/ClickHouse/ClickHouse/pull/6354 rel="external nofollow noreferrer" target=_blank>#6354</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>abyss7</a>)</li><li>Correction de la possibilité d'une requête fabriquée pour provoquer un crash du serveur en raison d'un débordement de pile dans L'analyseur SQL et de la possibilité d'un débordement de pile dans <code class=syntax>Merge</code> et <code class=syntax>Distributed</code> table <a href=https://github.com/ClickHouse/ClickHouse/pull/6433 rel="external nofollow noreferrer" target=_blank>#6433</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction D'une erreur D'encodage de gorille sur les petites séquences. <a href=https://github.com/ClickHouse/ClickHouse/pull/6444 rel="external nofollow noreferrer" target=_blank>#6444</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Enmk</a>)</li></ul><h4 id=improvement-5>Amélioration<a class=headerlink href=../amp/#improvement-5 title="Permanent link"> </a></h4><ul><li>Autoriser l'utilisateur à remplacer <code class=syntax>poll_interval</code> et <code class=syntax>idle_connection_timeout</code> paramètres de connexion. <a href=https://github.com/ClickHouse/ClickHouse/pull/6230 rel="external nofollow noreferrer" target=_blank>#6230</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-11-5-28-2019-08-05>Clickhouse Version 19.11.5.28, 2019-08-05<a class=headerlink href=../amp/#clickhouse-release-19-11-5-28-2019-08-05 title="Permanent link"> </a></h3><h4 id=bug-fix-19>Bug Fix<a class=headerlink href=../amp/#bug-fix-19 title="Permanent link"> </a></h4><ul><li>Correction de la possibilité de suspendre les requêtes lorsque le serveur est surchargé. <a href=https://github.com/ClickHouse/ClickHouse/pull/6301 rel="external nofollow noreferrer" target=_blank>#6301</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de FPE dans la fonction yandexconsistenthash. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6304 rel="external nofollow noreferrer" target=_blank>#6304</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6126 rel="external nofollow noreferrer" target=_blank>#6126</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug dans la conversion de <code class=syntax>LowCardinality</code> types de <code class=syntax>AggregateFunctionFactory</code>. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6257 rel="external nofollow noreferrer" target=_blank>#6257</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6281 rel="external nofollow noreferrer" target=_blank>#6281</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Corrigé de l'analyse de <code class=syntax>bool</code> les paramètres de <code class=syntax>true</code> et <code class=syntax>false</code> chaînes de caractères dans les fichiers de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/6278 rel="external nofollow noreferrer" target=_blank>#6278</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug rare avec des en-têtes de flux incompatibles dans les requêtes <code class=syntax>Distributed</code> table de <code class=syntax>MergeTree</code> table quand une partie de <code class=syntax>WHERE</code> se déplace à <code class=syntax>PREWHERE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6236 rel="external nofollow noreferrer" target=_blank>#6236</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Dépassement fixe dans la division entière du type signé au type non signé. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6214 rel="external nofollow noreferrer" target=_blank>#6214</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6233 rel="external nofollow noreferrer" target=_blank>#6233</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=backward-incompatible-change-5>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-5 title="Permanent link"> </a></h4><ul><li><code class=syntax>Kafka</code> toujours en panne.</li></ul><h3 id=clickhouse-release-19-11-4-24-2019-08-01>Clickhouse Version 19.11.4.24, 2019-08-01<a class=headerlink href=../amp/#clickhouse-release-19-11-4-24-2019-08-01 title="Permanent link"> </a></h3><h4 id=bug-fix-20>Bug Fix<a class=headerlink href=../amp/#bug-fix-20 title="Permanent link"> </a></h4><ul><li>Correction d'un bug avec l'écriture de marques d'indices secondaires avec une granularité adaptative. <a href=https://github.com/ClickHouse/ClickHouse/pull/6126 rel="external nofollow noreferrer" target=_blank>#6126</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixer <code class=syntax>WITH ROLLUP</code> et <code class=syntax>WITH CUBE</code> les modificateurs de <code class=syntax>GROUP BY</code> avec agrégation à deux niveaux. <a href=https://github.com/ClickHouse/ClickHouse/pull/6225 rel="external nofollow noreferrer" target=_blank>#6225</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction du blocage dans <code class=syntax>JSONExtractRaw</code> fonction. Fixe <a href=https://github.com/ClickHouse/ClickHouse/issues/6195 rel="external nofollow noreferrer" target=_blank>#6195</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6198 rel="external nofollow noreferrer" target=_blank>#6198</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de segfault dans ExternalLoader::reloadOutdated (). <a href=https://github.com/ClickHouse/ClickHouse/pull/6082 rel="external nofollow noreferrer" target=_blank>#6082</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction du cas où le serveur peut fermer les sockets d'écoute mais ne pas arrêter et continuer à servir les requêtes restantes. Vous pouvez vous retrouver avec deux processus clickhouse-server en cours d'exécution. Parfois, le serveur peut renvoyer une erreur <code class=syntax>bad_function_call</code> pour les requêtes restantes. <a href=https://github.com/ClickHouse/ClickHouse/pull/6231 rel="external nofollow noreferrer" target=_blank>#6231</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une condition inutile et incorrecte sur le champ de mise à jour pour le chargement initial des dictionnaires externes via ODBC, MySQL, ClickHouse et HTTP. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/6069 rel="external nofollow noreferrer" target=_blank>#6069</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6083 rel="external nofollow noreferrer" target=_blank>#6083</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une exception non pertinente dans la distribution de <code class=syntax>LowCardinality(Nullable)</code> to not-Nullable column in case if it doesn't contain Nulls (e.g. in query like <code class=syntax>SELECT CAST(CAST('Hello' AS LowCardinality(Nullable(String))) AS String)</code>. <a href=https://github.com/ClickHouse/ClickHouse/issues/6094 rel="external nofollow noreferrer" target=_blank>#6094</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/6119 rel="external nofollow noreferrer" target=_blank>#6119</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'un résultat non déterministe de “uniq” fonction agrégée dans des cas extrêmement rares. Le bug était présent dans toutes les versions de ClickHouse. <a href=https://github.com/ClickHouse/ClickHouse/pull/6058 rel="external nofollow noreferrer" target=_blank>#6058</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Segfault lorsque nous définissons un peu trop haut CIDR sur la fonction <code class=syntax>IPv6CIDRToRange</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/6068 rel="external nofollow noreferrer" target=_blank>#6068</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Correction d'une petite fuite de mémoire lorsque le serveur lance de nombreuses exceptions dans de nombreux contextes différents. <a href=https://github.com/ClickHouse/ClickHouse/pull/6144 rel="external nofollow noreferrer" target=_blank>#6144</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corrigez la situation lorsque le consommateur a été mis en pause avant l'abonnement et n'a pas repris après. <a href=https://github.com/ClickHouse/ClickHouse/pull/6075 rel="external nofollow noreferrer" target=_blank>#6075</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>) Notez que Kafka est cassé dans cette version.</li><li>Effacement du tampon de données Kafka de l'opération de lecture précédente terminée par une erreur <a href=https://github.com/ClickHouse/ClickHouse/pull/6026 rel="external nofollow noreferrer" target=_blank>#6026</a> (<a href=https://github.com/bopohaa rel="external nofollow noreferrer" target=_blank>Nikolay</a>) Notez que Kafka est cassé dans cette version.</li><li>Depuis <code class=syntax>StorageMergeTree::background_task_handle</code> est initialisée dans <code class=syntax>startup()</code> le <code class=syntax>MergeTreeBlockOutputStream::write()</code> peut tenter de l'utiliser avant l'initialisation. Vérifiez simplement s'il est initialisé. <a href=https://github.com/ClickHouse/ClickHouse/pull/6080 rel="external nofollow noreferrer" target=_blank>#6080</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h4 id=buildtestingpackaging-improvement-6>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-6 title="Permanent link"> </a></h4><ul><li>Ajouté officiel <code class=syntax>rpm</code> paquet. <a href=https://github.com/ClickHouse/ClickHouse/pull/5740 rel="external nofollow noreferrer" target=_blank>#5740</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>) (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter une capacité à construire <code class=syntax>.rpm</code> et <code class=syntax>.tgz</code> les paquets avec <code class=syntax>packager</code> script. <a href=https://github.com/ClickHouse/ClickHouse/pull/5769 rel="external nofollow noreferrer" target=_blank>#5769</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Des correctifs pour “Arcadia” système de construction. <a href=https://github.com/ClickHouse/ClickHouse/pull/6223 rel="external nofollow noreferrer" target=_blank>#6223</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=backward-incompatible-change-6>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-6 title="Permanent link"> </a></h4><ul><li><code class=syntax>Kafka</code> est cassé dans cette version.</li></ul><h3 id=clickhouse-release-19-11-3-11-2019-07-18>Clickhouse Version 19.11.3.11, 2019-07-18<a class=headerlink href=../amp/#clickhouse-release-19-11-3-11-2019-07-18 title="Permanent link"> </a></h3><h4 id=new-feature-6>Nouveauté<a class=headerlink href=../amp/#new-feature-6 title="Permanent link"> </a></h4><ul><li>Ajout du support pour les déclarations préparées. <a href=https://github.com/ClickHouse/ClickHouse/pull/5331/ rel="external nofollow noreferrer" target=_blank>#5331</a> (<a href=https://github.com/sanych73 rel="external nofollow noreferrer" target=_blank>Alexander</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/5630 rel="external nofollow noreferrer" target=_blank>#5630</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>DoubleDelta</code> et <code class=syntax>Gorilla</code> codecs de colonne <a href=https://github.com/ClickHouse/ClickHouse/pull/5600 rel="external nofollow noreferrer" target=_blank>#5600</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Ajouter <code class=syntax>os_thread_priority</code> paramètre qui permet de contrôler la “nice” valeur des threads de traitement de requête utilisés par le système d'exploitation pour ajuster la priorité de planification dynamique. Il exige <code class=syntax>CAP_SYS_NICE</code> capacités à travailler. Cela met en œuvre <a href=https://github.com/ClickHouse/ClickHouse/issues/5858 rel="external nofollow noreferrer" target=_blank>#5858</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5909 rel="external nofollow noreferrer" target=_blank>#5909</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Mettre <code class=syntax>_topic</code>, <code class=syntax>_offset</code>, <code class=syntax>_key</code> colonnes pour moteur Kafka <a href=https://github.com/ClickHouse/ClickHouse/pull/5382 rel="external nofollow noreferrer" target=_blank>#5382</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>) Notez que Kafka est cassé dans cette version.</li><li>Ajouter agrégat fonction combinateur <code class=syntax>-Resample</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5590 rel="external nofollow noreferrer" target=_blank>#5590</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Les fonctions d'agrégation <code class=syntax>groupArrayMovingSum(win_size)(x)</code> et <code class=syntax>groupArrayMovingAvg(win_size)(x)</code>, qui calculent la somme mobile / avg avec ou sans limitation de taille de fenêtre. <a href=https://github.com/ClickHouse/ClickHouse/pull/5595 rel="external nofollow noreferrer" target=_blank>#5595</a> (<a href=https://github.com/inv2004 rel="external nofollow noreferrer" target=_blank>inv2004</a>)</li><li>Ajouter synonim <code class=syntax>arrayFlatten</code> \&lt;-&gt; <code class=syntax>flatten</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5764 rel="external nofollow noreferrer" target=_blank>#5764</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Fonction Intergate H3 <code class=syntax>geoToH3</code> de Uber. <a href=https://github.com/ClickHouse/ClickHouse/pull/4724 rel="external nofollow noreferrer" target=_blank>#4724</a> (<a href=https://github.com/BHYCHIK rel="external nofollow noreferrer" target=_blank>Remen Ivan</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/5805 rel="external nofollow noreferrer" target=_blank>#5805</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=bug-fix-21>Bug Fix<a class=headerlink href=../amp/#bug-fix-21 title="Permanent link"> </a></h4><ul><li>Implémentez le cache DNS avec une mise à jour asynchrone. Thread séparé résout tous les hôtes et met à jour le cache DNS avec la période (Paramètre <code class=syntax>dns_cache_update_period</code>). Cela devrait aider, lorsque l'adresse ip des hôtes change fréquemment. <a href=https://github.com/ClickHouse/ClickHouse/pull/5857 rel="external nofollow noreferrer" target=_blank>#5857</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Fixer erreur de segmentation dans <code class=syntax>Delta</code> codec qui affecte les colonnes avec des valeurs inférieures à 32 bits. Le bug a conduit à la corruption de la mémoire aléatoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/5786 rel="external nofollow noreferrer" target=_blank>#5786</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de segfault dans la fusion TTL avec des colonnes non physiques en bloc. <a href=https://github.com/ClickHouse/ClickHouse/pull/5819 rel="external nofollow noreferrer" target=_blank>#5819</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction d'un bug rare dans la vérification de la pièce avec <code class=syntax>LowCardinality</code> colonne. Précédemment <code class=syntax>checkDataPart</code> échoue toujours pour une partie avec <code class=syntax>LowCardinality</code> colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/5832 rel="external nofollow noreferrer" target=_blank>#5832</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Évitez de suspendre les connexions lorsque le pool de threads du serveur est plein. Il est important pour les connexions de <code class=syntax>remote</code> fonction de table ou connexions à un fragment sans réplicas lorsqu'il y a un long délai de connexion. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5878 rel="external nofollow noreferrer" target=_blank>#5878</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5881 rel="external nofollow noreferrer" target=_blank>#5881</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Prise en charge des arguments constants pour <code class=syntax>evalMLModel</code> fonction. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5817 rel="external nofollow noreferrer" target=_blank>#5817</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5820 rel="external nofollow noreferrer" target=_blank>#5820</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du problème lorsque ClickHouse détermine le fuseau horaire par défaut comme <code class=syntax>UCT</code> plutôt <code class=syntax>UTC</code>. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5804 rel="external nofollow noreferrer" target=_blank>#5804</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5828 rel="external nofollow noreferrer" target=_blank>#5828</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe de type dépassement de tampon dans <code class=syntax>visitParamExtractRaw</code>. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5901 rel="external nofollow noreferrer" target=_blank>#5901</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5902 rel="external nofollow noreferrer" target=_blank>#5902</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Maintenant distribué <code class=syntax>DROP/ALTER/TRUNCATE/OPTIMIZE ON CLUSTER</code> les requêtes seront exécutées directement sur la réplique leader. <a href=https://github.com/ClickHouse/ClickHouse/pull/5757 rel="external nofollow noreferrer" target=_blank>#5757</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixer <code class=syntax>coalesce</code> pour <code class=syntax>ColumnConst</code> avec <code class=syntax>ColumnNullable</code> + changements connexes. <a href=https://github.com/ClickHouse/ClickHouse/pull/5755 rel="external nofollow noreferrer" target=_blank>#5755</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixer le <code class=syntax>ReadBufferFromKafkaConsumer</code> alors qu'il continue à lire de nouveaux messages après <code class=syntax>commit()</code> même si elle a été interrompue avant <a href=https://github.com/ClickHouse/ClickHouse/pull/5852 rel="external nofollow noreferrer" target=_blank>#5852</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fixer <code class=syntax>FULL</code> et <code class=syntax>RIGHT</code> Joindre les résultats lors de l'adhésion sur <code class=syntax>Nullable</code> clés dans la table de droite. <a href=https://github.com/ClickHouse/ClickHouse/pull/5859 rel="external nofollow noreferrer" target=_blank>#5859</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction Possible du sommeil infini des requêtes de faible priorité. <a href=https://github.com/ClickHouse/ClickHouse/pull/5842 rel="external nofollow noreferrer" target=_blank>#5842</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la condition de concurrence, qui fait que certaines requêtes peuvent ne pas apparaître dans query_log après <code class=syntax>SYSTEM FLUSH LOGS</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/issues/5456 rel="external nofollow noreferrer" target=_blank>#5456</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5685 rel="external nofollow noreferrer" target=_blank>#5685</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Fixe <code class=syntax>heap-use-after-free</code> Avertissement ASan dans ClusterCopier causé par la montre qui essaie d'utiliser l'objet copieur déjà supprimé. <a href=https://github.com/ClickHouse/ClickHouse/pull/5871 rel="external nofollow noreferrer" target=_blank>#5871</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Fixe de mal <code class=syntax>StringRef</code> pointeur retourné par certaines implémentations de <code class=syntax>IColumn::deserializeAndInsertFromArena</code>. Ce bogue n'a affecté que les tests unitaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/5973 rel="external nofollow noreferrer" target=_blank>#5973</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Empêcher les colonnes de jointure de tableau source et intermédiaire de masquer les colonnes de même nom. <a href=https://github.com/ClickHouse/ClickHouse/pull/5941 rel="external nofollow noreferrer" target=_blank>#5941</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixer insérer et sélectionner la requête au moteur MySQL avec l'identifiant de style MySQL citant. <a href=https://github.com/ClickHouse/ClickHouse/pull/5704 rel="external nofollow noreferrer" target=_blank>#5704</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Maintenant <code class=syntax>CHECK TABLE</code> query peut fonctionner avec la famille de moteurs MergeTree. Il renvoie l'état de contrôle et le message le cas échéant pour chaque partie (ou fichier dans le cas de moteurs plus simples). Aussi, correction d'un bug dans l'extraction d'une partie cassée. <a href=https://github.com/ClickHouse/ClickHouse/pull/5865 rel="external nofollow noreferrer" target=_blank>#5865</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de L'exécution SPLIT_SHARED_LIBRARIES <a href=https://github.com/ClickHouse/ClickHouse/pull/5793 rel="external nofollow noreferrer" target=_blank>#5793</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Correction de l'initialisation du fuseau horaire lorsque <code class=syntax>/etc/localtime</code> est un lien symbolique comme <code class=syntax>../usr/share/zoneinfo/Europe/Moscow</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5922 rel="external nofollow noreferrer" target=_blank>#5922</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>clickhouse-copieur: Fix utiliser-après livraison à l'arrêt <a href=https://github.com/ClickHouse/ClickHouse/pull/5752 rel="external nofollow noreferrer" target=_blank>#5752</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Mettre <code class=syntax>simdjson</code>. Correction du problème que certains JSONs invalides avec zéro octets analysent avec succès. <a href=https://github.com/ClickHouse/ClickHouse/pull/5938 rel="external nofollow noreferrer" target=_blank>#5938</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de l'arrêt des SystemLogs <a href=https://github.com/ClickHouse/ClickHouse/pull/5802 rel="external nofollow noreferrer" target=_blank>#5802</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction de la suspension lorsque la condition dans invalidate_query dépend d'un dictionnaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/6011 rel="external nofollow noreferrer" target=_blank>#6011</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li></ul><h4 id=improvement-6>Amélioration<a class=headerlink href=../amp/#improvement-6 title="Permanent link"> </a></h4><ul><li>Autoriser les adresses insolubles dans la configuration du cluster. Ils seront considérés comme indisponibles et essayés de résoudre à chaque tentative de connexion. Ceci est particulièrement utile pour Kubernetes. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5714 rel="external nofollow noreferrer" target=_blank>#5714</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5924 rel="external nofollow noreferrer" target=_blank>#5924</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fermez les connexions TCP inactives (avec un délai d'attente d'une heure par défaut). Ceci est particulièrement important pour les grands clusters avec plusieurs tables distribuées sur chaque serveur, car chaque serveur peut éventuellement conserver un pool de connexions à tous les autres serveurs, et après la concurrence maximale des requêtes, les connexions calent. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5879 rel="external nofollow noreferrer" target=_blank>#5879</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5880 rel="external nofollow noreferrer" target=_blank>#5880</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Meilleure qualité de <code class=syntax>topK</code> fonction. Modification du comportement de L'ensemble SavingSpace pour supprimer le dernier élément si le nouvel élément a un poids plus important. <a href=https://github.com/ClickHouse/ClickHouse/issues/5833 rel="external nofollow noreferrer" target=_blank>#5833</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5850 rel="external nofollow noreferrer" target=_blank>#5850</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Les fonctions D'URL pour travailler avec des domaines peuvent maintenant fonctionner pour les URL incomplètes sans schéma <a href=https://github.com/ClickHouse/ClickHouse/pull/5725 rel="external nofollow noreferrer" target=_blank>#5725</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Sommes de contrôle ajoutées à la <code class=syntax>system.parts_columns</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/5874 rel="external nofollow noreferrer" target=_blank>#5874</a> (<a href=https://github.com/nikitamikhaylov rel="external nofollow noreferrer" target=_blank>Nikita Mikhaylov</a>)</li><li>Ajouter <code class=syntax>Enum</code> type de données comme synonyme de <code class=syntax>Enum8</code> ou <code class=syntax>Enum16</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5886 rel="external nofollow noreferrer" target=_blank>#5886</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Variante de transposition de bits complète pour <code class=syntax>T64</code> codec. Pourrait conduire à une meilleure compression avec <code class=syntax>zstd</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5742 rel="external nofollow noreferrer" target=_blank>#5742</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Condition sur <code class=syntax>startsWith</code> fonction maintenant peut utilise la clé primaire. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5310 rel="external nofollow noreferrer" target=_blank>#5310</a> et <a href=https://github.com/ClickHouse/ClickHouse/issues/5882 rel="external nofollow noreferrer" target=_blank>#5882</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5919 rel="external nofollow noreferrer" target=_blank>#5919</a> (<a href=https://github.com/dimarub2000 rel="external nofollow noreferrer" target=_blank>dimarub2000</a>)</li><li>Permettre d'utiliser <code class=syntax>clickhouse-copier</code> avec la topologie de cluster de réplication croisée en permettant le nom de base de données vide. <a href=https://github.com/ClickHouse/ClickHouse/pull/5745 rel="external nofollow noreferrer" target=_blank>#5745</a> (<a href=https://github.com/nvartolomei rel="external nofollow noreferrer" target=_blank>nvartolomei</a>)</li><li>Utiliser <code class=syntax>UTC</code> comme fuseau horaire par défaut sur un système sans <code class=syntax>tzdata</code> (e.g. bare Docker container). Before this patch, error message <code class=syntax>Could not determine local time zone</code> a été imprimé et le serveur ou le client a refusé de démarrer. <a href=https://github.com/ClickHouse/ClickHouse/pull/5827 rel="external nofollow noreferrer" target=_blank>#5827</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Retourné soutien à virgule flottante argument dans la fonction <code class=syntax>quantileTiming</code> pour la compatibilité descendante. <a href=https://github.com/ClickHouse/ClickHouse/pull/5911 rel="external nofollow noreferrer" target=_blank>#5911</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Afficher quelle table est manquante colonne dans les messages d'erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/5768 rel="external nofollow noreferrer" target=_blank>#5768</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Interdire l'exécution d'une requête avec le même query_id par divers utilisateurs <a href=https://github.com/ClickHouse/ClickHouse/pull/5430 rel="external nofollow noreferrer" target=_blank>#5430</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Code plus robuste pour envoyer des métriques au Graphite. Cela fonctionnera même pendant de longues périodes multiples <code class=syntax>RENAME TABLE</code> opération. <a href=https://github.com/ClickHouse/ClickHouse/pull/5875 rel="external nofollow noreferrer" target=_blank>#5875</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Des messages d'erreur plus informatifs seront affichés lorsque ThreadPool ne peut pas planifier une tâche pour l'exécution. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5305 rel="external nofollow noreferrer" target=_blank>#5305</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5801 rel="external nofollow noreferrer" target=_blank>#5801</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Inverser ngramSearch pour être plus intuitif <a href=https://github.com/ClickHouse/ClickHouse/pull/5807 rel="external nofollow noreferrer" target=_blank>#5807</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Ajouter l'analyse utilisateur dans HDFS engine builder <a href=https://github.com/ClickHouse/ClickHouse/pull/5946 rel="external nofollow noreferrer" target=_blank>#5946</a> (<a href=https://github.com/akonyaev90 rel="external nofollow noreferrer" target=_blank>akonyaev90</a>)</li><li>Mettre à jour la valeur par défaut de <code class=syntax>max_ast_elements parameter</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5933 rel="external nofollow noreferrer" target=_blank>#5933</a> (<a href=https://github.com/izebit rel="external nofollow noreferrer" target=_blank>Artem Konovalov</a>)</li><li>Ajout d'une notion de paramètres obsolètes. Le paramètre obsolète <code class=syntax>allow_experimental_low_cardinality_type</code> peut être utilisé avec aucun effet. <a href=https://github.com/ClickHouse/ClickHouse/commit/0f15c01c6802f7ce1a1494c12c846be8c98944cd rel="external nofollow noreferrer" target=_blank>0f15c01c6802f7ce1a1494c12c846be8c98944cd</a> <a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>Alexey Milovidov</a></li></ul><h4 id=performance-improvement-4>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement-4 title="Permanent link"> </a></h4><ul><li>Augmentez le nombre de flux à sélectionner dans la table de fusion pour une distribution plus uniforme des threads. Ajout d'un réglage <code class=syntax>max_streams_multiplier_for_merge_tables</code>. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5797 rel="external nofollow noreferrer" target=_blank>#5797</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5915 rel="external nofollow noreferrer" target=_blank>#5915</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=buildtestingpackaging-improvement-7>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-7 title="Permanent link"> </a></h4><ul><li>Ajoutez un test de rétrocompatibilité pour l'interaction client-serveur avec différentes versions de clickhouse. <a href=https://github.com/ClickHouse/ClickHouse/pull/5868 rel="external nofollow noreferrer" target=_blank>#5868</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Testez les informations de couverture dans chaque demande de validation et de tirage. <a href=https://github.com/ClickHouse/ClickHouse/pull/5896 rel="external nofollow noreferrer" target=_blank>#5896</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Coopérez avec le désinfectant d'adresse pour soutenir nos allocateurs faits sur commande (<code class=syntax>Arena</code> et <code class=syntax>ArenaWithFreeLists</code>) pour une meilleure mise “use-after-free” erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/5728 rel="external nofollow noreferrer" target=_blank>#5728</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Interrupteur à <a href=https://github.com/llvm-mirror/libunwind rel="external nofollow noreferrer" target=_blank>Implémentation de LLVM libunwind</a> pour la gestion des exceptions C++ et pour l'impression des traces de pile <a href=https://github.com/ClickHouse/ClickHouse/pull/4828 rel="external nofollow noreferrer" target=_blank>#4828</a> (<a href=https://github.com/laplab rel="external nofollow noreferrer" target=_blank>Nikita Lapkov</a>)</li><li>Ajouter deux autres avertissements de-Weverything <a href=https://github.com/ClickHouse/ClickHouse/pull/5923 rel="external nofollow noreferrer" target=_blank>#5923</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Permettre de construire ClickHouse avec aseptisant mémoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/3949 rel="external nofollow noreferrer" target=_blank>#3949</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Rapport ubsan fixe sur <code class=syntax>bitTest</code> fonction dans fuzz test. <a href=https://github.com/ClickHouse/ClickHouse/pull/5943 rel="external nofollow noreferrer" target=_blank>#5943</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Docker: ajout de la possibilité d'initialiser une instance de ClickHouse qui nécessite une authentification. <a href=https://github.com/ClickHouse/ClickHouse/pull/5727 rel="external nofollow noreferrer" target=_blank>#5727</a> (<a href=https://github.com/shurshun rel="external nofollow noreferrer" target=_blank>Korviakov Andrey</a>)</li><li>Mettre à jour librdkafka vers la version 1.1.0 <a href=https://github.com/ClickHouse/ClickHouse/pull/5872 rel="external nofollow noreferrer" target=_blank>#5872</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Ajoutez un délai d'attente global pour les tests d'intégration et désactivez certains d'entre eux dans le code des tests. <a href=https://github.com/ClickHouse/ClickHouse/pull/5741 rel="external nofollow noreferrer" target=_blank>#5741</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de quelques échecs ThreadSanitizer. <a href=https://github.com/ClickHouse/ClickHouse/pull/5854 rel="external nofollow noreferrer" target=_blank>#5854</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Le <code class=syntax>--no-undefined</code> option force l'éditeur de liens à vérifier l'existence de tous les noms externes lors de la liaison. Il est très utile de suivre les dépendances réelles entre les bibliothèques en mode de construction fractionnée. <a href=https://github.com/ClickHouse/ClickHouse/pull/5855 rel="external nofollow noreferrer" target=_blank>#5855</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Ajouté test de performance pour <a href=https://github.com/ClickHouse/ClickHouse/issues/5797 rel="external nofollow noreferrer" target=_blank>#5797</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5914 rel="external nofollow noreferrer" target=_blank>#5914</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la compatibilité avec gcc-7. <a href=https://github.com/ClickHouse/ClickHouse/pull/5840 rel="external nofollow noreferrer" target=_blank>#5840</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout du support pour gcc-9. Cela corrige <a href=https://github.com/ClickHouse/ClickHouse/issues/5717 rel="external nofollow noreferrer" target=_blank>#5717</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5774 rel="external nofollow noreferrer" target=_blank>#5774</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur lorsque libunwind peut être lié de manière incorrecte. <a href=https://github.com/ClickHouse/ClickHouse/pull/5948 rel="external nofollow noreferrer" target=_blank>#5948</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de quelques avertissements trouvés par PVS-Studio. <a href=https://github.com/ClickHouse/ClickHouse/pull/5921 rel="external nofollow noreferrer" target=_blank>#5921</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout du support initial pour <code class=syntax>clang-tidy</code> analyseur statique. <a href=https://github.com/ClickHouse/ClickHouse/pull/5806 rel="external nofollow noreferrer" target=_blank>#5806</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Convertir les macros BSD / Linux endian( ‘be64toh’ et ‘htobe64’) aux équivalents Mac OS X <a href=https://github.com/ClickHouse/ClickHouse/pull/5785 rel="external nofollow noreferrer" target=_blank>#5785</a> (<a href=https://github.com/fredchenbj rel="external nofollow noreferrer" target=_blank>Fu Chen</a>)</li><li>Amélioration du guide des tests d'intégration. <a href=https://github.com/ClickHouse/ClickHouse/pull/5796 rel="external nofollow noreferrer" target=_blank>#5796</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Correction de la construction sur macosx + gcc9 <a href=https://github.com/ClickHouse/ClickHouse/pull/5822 rel="external nofollow noreferrer" target=_blank>#5822</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Correction d'une faute de frappe difficile à repérer: aggreAGte - &gt; aggregate. <a href=https://github.com/ClickHouse/ClickHouse/pull/5753 rel="external nofollow noreferrer" target=_blank>#5753</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Correction de la construction freebsd <a href=https://github.com/ClickHouse/ClickHouse/pull/5760 rel="external nofollow noreferrer" target=_blank>#5760</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajouter un lien vers la chaîne Youtube expérimentale au site web <a href=https://github.com/ClickHouse/ClickHouse/pull/5845 rel="external nofollow noreferrer" target=_blank>#5845</a> (<a href=https://github.com/blinkov rel="external nofollow noreferrer" target=_blank>Ivan Blinkov</a>)</li><li>CMake: ajouter une option pour les drapeaux de couverture: WITH_COVERAGE <a href=https://github.com/ClickHouse/ClickHouse/pull/5776 rel="external nofollow noreferrer" target=_blank>#5776</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de la taille initiale de certains PODArray en ligne. <a href=https://github.com/ClickHouse/ClickHouse/pull/5787 rel="external nofollow noreferrer" target=_blank>#5787</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>clickhouse-serveur.postinst: correction de la détection du système d'exploitation pour centos 6 <a href=https://github.com/ClickHouse/ClickHouse/pull/5788 rel="external nofollow noreferrer" target=_blank>#5788</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout de la génération de paquets Arch linux. <a href=https://github.com/ClickHouse/ClickHouse/pull/5719 rel="external nofollow noreferrer" target=_blank>#5719</a> (<a href=https://github.com/excitoon rel="external nofollow noreferrer" target=_blank>Vladimir Chebotarev</a>)</li><li>Diviser commun / config.h par libs (SGBD) <a href=https://github.com/ClickHouse/ClickHouse/pull/5715 rel="external nofollow noreferrer" target=_blank>#5715</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Des correctifs pour “Arcadia” créer une plate-forme <a href=https://github.com/ClickHouse/ClickHouse/pull/5795 rel="external nofollow noreferrer" target=_blank>#5795</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correctifs pour la construction non conventionnelle (gcc9, pas de sous-modules) <a href=https://github.com/ClickHouse/ClickHouse/pull/5792 rel="external nofollow noreferrer" target=_blank>#5792</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Exiger un type explicite dans unalignedStore car il a été prouvé qu'il était sujet aux bugs <a href=https://github.com/ClickHouse/ClickHouse/pull/5791 rel="external nofollow noreferrer" target=_blank>#5791</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Corrige la construction MacOS <a href=https://github.com/ClickHouse/ClickHouse/pull/5830 rel="external nofollow noreferrer" target=_blank>#5830</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Test de Performance concernant la nouvelle fonctionnalité JIT avec un ensemble de données plus grand, comme demandé ici <a href=https://github.com/ClickHouse/ClickHouse/issues/5263 rel="external nofollow noreferrer" target=_blank>#5263</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5887 rel="external nofollow noreferrer" target=_blank>#5887</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Exécuter des tests avec État dans le test de stress <a href=https://github.com/ClickHouse/ClickHouse/commit/12693e568722f11e19859742f56428455501fd2a rel="external nofollow noreferrer" target=_blank>12693e568722f11e19859742f56428455501fd2a</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h4 id=backward-incompatible-change-7>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-7 title="Permanent link"> </a></h4><ul><li><code class=syntax>Kafka</code> est cassé dans cette version.</li><li>Permettre <code class=syntax>adaptive_index_granularity</code> = 10 Mo par défaut pour les nouveaux <code class=syntax>MergeTree</code> table. Si vous avez créé de nouvelles tables MergeTree sur la version 19.11+, il sera impossible de passer à des versions antérieures à 19.6. <a href=https://github.com/ClickHouse/ClickHouse/pull/5628 rel="external nofollow noreferrer" target=_blank>#5628</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Suppression des dictionnaires intégrés obsolètes non documentés utilisés par Yandex.Metrica. Fonction <code class=syntax>OSIn</code>, <code class=syntax>SEIn</code>, <code class=syntax>OSToRoot</code>, <code class=syntax>SEToRoot</code>, <code class=syntax>OSHierarchy</code>, <code class=syntax>SEHierarchy</code> ne sont plus disponibles. Si vous utilisez ces fonctions, écrivez un courriel à <a href=../mailto:clickhouse-feedback@yandex-team.comamp/ >clickhouse-feedback@yandex-team.com</a>. Note: au dernier moment, nous avons décidé de garder ces fonctions pendant un certain temps. <a href=https://github.com/ClickHouse/ClickHouse/pull/5780 rel="external nofollow noreferrer" target=_blank>#5780</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h2 id=clickhouse-release-19-10>Clickhouse Version 19.10<a class=headerlink href=../amp/#clickhouse-release-19-10 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-10-1-5-2019-07-12>Clickhouse Version 19.10.1.5, 2019-07-12<a class=headerlink href=../amp/#clickhouse-release-19-10-1-5-2019-07-12 title="Permanent link"> </a></h3><h4 id=new-feature-7>Nouveauté<a class=headerlink href=../amp/#new-feature-7 title="Permanent link"> </a></h4><ul><li>Ajouter un nouveau codec de colonne: <code class=syntax>T64</code>. Fait pour les colonnes(U)IntX/EnumX/Data (Time)/DecimalX. Il devrait être bon pour les colonnes avec des valeurs de plage constantes ou petites. Codec lui-même permet agrandir ou réduire le type de données sans re-compression. <a href=https://github.com/ClickHouse/ClickHouse/pull/5557 rel="external nofollow noreferrer" target=_blank>#5557</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajouter un moteur de base de données <code class=syntax>MySQL</code> qui permettent d'afficher toutes les tables dans le serveur MySQL distant <a href=https://github.com/ClickHouse/ClickHouse/pull/5599 rel="external nofollow noreferrer" target=_blank>#5599</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li><code class=syntax>bitmapContains</code> application. C'est 2x plus rapide que <code class=syntax>bitmapHasAny</code> si le second bitmap contient un élément. <a href=https://github.com/ClickHouse/ClickHouse/pull/5535 rel="external nofollow noreferrer" target=_blank>#5535</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Soutien pour <code class=syntax>crc32</code> fonction (avec un comportement exactement comme dans MySQL ou PHP). Ne l'utilisez pas si vous avez besoin d'une fonction de hachage. <a href=https://github.com/ClickHouse/ClickHouse/pull/5661 rel="external nofollow noreferrer" target=_blank>#5661</a> (<a href=https://github.com/BHYCHIK rel="external nofollow noreferrer" target=_blank>Remen Ivan</a>)</li><li>Mettre <code class=syntax>SYSTEM START/STOP DISTRIBUTED SENDS</code> requêtes pour contrôler les insertions asynchrones dans <code class=syntax>Distributed</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/4935 rel="external nofollow noreferrer" target=_blank>#4935</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li></ul><h4 id=bug-fix-22>Bug Fix<a class=headerlink href=../amp/#bug-fix-22 title="Permanent link"> </a></h4><ul><li>Ignorer les limites d'exécution des requêtes et la taille maximale des pièces pour les limites de fusion lors de l'exécution des mutations. <a href=https://github.com/ClickHouse/ClickHouse/pull/5659 rel="external nofollow noreferrer" target=_blank>#5659</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction d'un bug qui peut conduire à la déduplication de blocs normaux (extrêmement rare) et l'insertion de blocs en double (plus souvent). <a href=https://github.com/ClickHouse/ClickHouse/pull/5549 rel="external nofollow noreferrer" target=_blank>#5549</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de la fonction <code class=syntax>arrayEnumerateUniqRanked</code> pour les arguments avec des tableaux vides <a href=https://github.com/ClickHouse/ClickHouse/pull/5559 rel="external nofollow noreferrer" target=_blank>#5559</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ne vous abonnez pas aux sujets Kafka sans l'intention d'interroger des messages. <a href=https://github.com/ClickHouse/ClickHouse/pull/5698 rel="external nofollow noreferrer" target=_blank>#5698</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Faire la mise en <code class=syntax>join_use_nulls</code> n'obtenez aucun effet pour les types qui ne peuvent pas être à L'intérieur de Nullable <a href=https://github.com/ClickHouse/ClickHouse/pull/5700 rel="external nofollow noreferrer" target=_blank>#5700</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Fixe <code class=syntax>Incorrect size of index granularity</code> erreur <a href=https://github.com/ClickHouse/ClickHouse/pull/5720 rel="external nofollow noreferrer" target=_blank>#5720</a> (<a href=https://github.com/coraxster rel="external nofollow noreferrer" target=_blank>coraxster</a>)</li><li>Correction du flotteur en décimal convertir le débordement <a href=https://github.com/ClickHouse/ClickHouse/pull/5607 rel="external nofollow noreferrer" target=_blank>#5607</a> (<a href=https://github.com/coraxster rel="external nofollow noreferrer" target=_blank>coraxster</a>)</li><li>Vider le tampon quand <code class=syntax>WriteBufferFromHDFS</code>'s destructeur est appelé. Cela corrige l'écriture dans <code class=syntax>HDFS</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5684 rel="external nofollow noreferrer" target=_blank>#5684</a> (<a href=https://github.com/eejoin rel="external nofollow noreferrer" target=_blank>Xindong Peng</a>)</li></ul><h4 id=improvement-7>Amélioration<a class=headerlink href=../amp/#improvement-7 title="Permanent link"> </a></h4><ul><li>Traiter les cellules vides dans <code class=syntax>CSV</code> comme valeurs par défaut lorsque le paramètre <code class=syntax>input_format_defaults_for_omitted_fields</code> est activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/5625 rel="external nofollow noreferrer" target=_blank>#5625</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Chargement Non bloquant des dictionnaires externes. <a href=https://github.com/ClickHouse/ClickHouse/pull/5567 rel="external nofollow noreferrer" target=_blank>#5567</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Les délais d'attente réseau peuvent être modifiés dynamiquement pour les connexions déjà établies en fonction des paramètres. <a href=https://github.com/ClickHouse/ClickHouse/pull/4558 rel="external nofollow noreferrer" target=_blank>#4558</a> (<a href=https://github.com/podshumok rel="external nofollow noreferrer" target=_blank>Konstantin Podshumok</a>)</li><li>Utiliser “public_suffix_list” pour les fonctions <code class=syntax>firstSignificantSubdomain</code>, <code class=syntax>cutToFirstSignificantSubdomain</code>. Il utilise une table de hachage parfaite générée par <code class=syntax>gperf</code> avec une liste générée à partir du fichier: <a href=https://publicsuffix.org/list/public target=_blank>https://publicsuffix.org/list/public</a>_suffix_list.dat. (par exemple, nous reconnaissons maintenant le domaine <code class=syntax>ac.uk</code> comme non significatif). <a href=https://github.com/ClickHouse/ClickHouse/pull/5030 rel="external nofollow noreferrer" target=_blank>#5030</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Adopté <code class=syntax>IPv6</code> type de données dans les tables système; colonnes unified client info dans <code class=syntax>system.processes</code> et <code class=syntax>system.query_log</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5640 rel="external nofollow noreferrer" target=_blank>#5640</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Utilisation de sessions pour les connexions avec le protocole de compatibilité MySQL. #5476 <a href=https://github.com/ClickHouse/ClickHouse/pull/5646 rel="external nofollow noreferrer" target=_blank>#5646</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Support plus <code class=syntax>ALTER</code> requête <code class=syntax>ON CLUSTER</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5593 rel="external nofollow noreferrer" target=_blank>#5593</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5613 rel="external nofollow noreferrer" target=_blank>#5613</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Soutien <code class=syntax>&lt;logger&gt;</code> section dans <code class=syntax>clickhouse-local</code> fichier de configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/5540 rel="external nofollow noreferrer" target=_blank>#5540</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Autoriser exécuter la requête avec <code class=syntax>remote</code> fonction de table dans <code class=syntax>clickhouse-local</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5627 rel="external nofollow noreferrer" target=_blank>#5627</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=performance-improvement-5>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement-5 title="Permanent link"> </a></h4><ul><li>Ajoutez la possibilité d'écrire la marque finale à la fin des colonnes MergeTree. Il permet d'éviter les lectures inutiles pour les clés qui sont hors de la plage de données de la table. Elle n'est activée que si la granularité d'index adaptatif est utilisée. <a href=https://github.com/ClickHouse/ClickHouse/pull/5624 rel="external nofollow noreferrer" target=_blank>#5624</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Amélioration des performances des tables MergeTree sur les systèmes de fichiers très lents en réduisant <code class=syntax>stat</code> syscalls. <a href=https://github.com/ClickHouse/ClickHouse/pull/5648 rel="external nofollow noreferrer" target=_blank>#5648</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la dégradation des performances en lecture à partir des tables MergeTree introduites dans la version 19.6. Corrections # 5631. <a href=https://github.com/ClickHouse/ClickHouse/pull/5633 rel="external nofollow noreferrer" target=_blank>#5633</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=buildtestingpackaging-improvement-8>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-8 title="Permanent link"> </a></h4><ul><li>Mettre <code class=syntax>TestKeeper</code> en tant qu'implémentation de l'interface ZooKeeper utilisée pour les tests <a href=https://github.com/ClickHouse/ClickHouse/pull/5643 rel="external nofollow noreferrer" target=_blank>#5643</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>) (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>levushkin aleksej</a>)</li><li>Désormais <code class=syntax>.sql</code> les tests peuvent être exécutés isolés par le serveur, en parallèle, avec une base de données aléatoire. Il permet de les exécuter plus rapidement, d'ajouter de nouveaux tests avec des configurations de serveur personnalisées et de s'assurer que les différents tests ne s'affectent pas les uns les autres. <a href=https://github.com/ClickHouse/ClickHouse/pull/5554 rel="external nofollow noreferrer" target=_blank>#5554</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Supprimer <code class=syntax>&lt;name&gt;</code> et <code class=syntax>&lt;metrics&gt;</code> à partir de tests de performance <a href=https://github.com/ClickHouse/ClickHouse/pull/5672 rel="external nofollow noreferrer" target=_blank>#5672</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Fixe “select_format” essai de performance pour <code class=syntax>Pretty</code> format <a href=https://github.com/ClickHouse/ClickHouse/pull/5642 rel="external nofollow noreferrer" target=_blank>#5642</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h2 id=clickhouse-release-19-9>Clickhouse Version 19.9<a class=headerlink href=../amp/#clickhouse-release-19-9 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-9-3-31-2019-07-05>Clickhouse Version 19.9.3.31, 2019-07-05<a class=headerlink href=../amp/#clickhouse-release-19-9-3-31-2019-07-05 title="Permanent link"> </a></h3><h4 id=bug-fix-23>Bug Fix<a class=headerlink href=../amp/#bug-fix-23 title="Permanent link"> </a></h4><ul><li>Correction de segfault dans le codec Delta qui affecte les colonnes avec des valeurs inférieures à 32 bits. Le bug a conduit à la corruption de la mémoire aléatoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/5786 rel="external nofollow noreferrer" target=_blank>#5786</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug rare dans la vérification de la partie avec la colonne LowCardinality. <a href=https://github.com/ClickHouse/ClickHouse/pull/5832 rel="external nofollow noreferrer" target=_blank>#5832</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de segfault dans la fusion TTL avec des colonnes non physiques en bloc. <a href=https://github.com/ClickHouse/ClickHouse/pull/5819 rel="external nofollow noreferrer" target=_blank>#5819</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction du sommeil infini potentiel des requêtes de faible priorité. <a href=https://github.com/ClickHouse/ClickHouse/pull/5842 rel="external nofollow noreferrer" target=_blank>#5842</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la façon dont ClickHouse détermine le fuseau horaire par défaut comme UCT au lieu de UTC. <a href=https://github.com/ClickHouse/ClickHouse/pull/5828 rel="external nofollow noreferrer" target=_blank>#5828</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug sur l'exécution distribuée DROP/ALTER/TRUNCATE / OPTIMIZE sur les requêtes de CLUSTER sur la réplique suiveur avant la réplique leader. Maintenant, ils seront exécutés directement sur la réplique leader. <a href=https://github.com/ClickHouse/ClickHouse/pull/5757 rel="external nofollow noreferrer" target=_blank>#5757</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de la condition de concurrence, ce qui fait que certaines requêtes peuvent ne pas apparaître instantanément dans query_log après la requête system FLUSH LOGS. <a href=https://github.com/ClickHouse/ClickHouse/pull/5685 rel="external nofollow noreferrer" target=_blank>#5685</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Ajout du support manquant pour les arguments constants à <code class=syntax>evalMLModel</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/5820 rel="external nofollow noreferrer" target=_blank>#5820</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-9-2-4-2019-06-24>Clickhouse Version 19.9.2.4, 2019-06-24<a class=headerlink href=../amp/#clickhouse-release-19-9-2-4-2019-06-24 title="Permanent link"> </a></h3><h4 id=new-feature-8>Nouveauté<a class=headerlink href=../amp/#new-feature-8 title="Permanent link"> </a></h4><ul><li>Imprimer des informations sur les pièces gelées dans <code class=syntax>system.parts</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/5471 rel="external nofollow noreferrer" target=_blank>#5471</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Demander mot de passe du client sur clickhouse-client démarrer sur ats s'il n'est pas dans les arguments <a href=https://github.com/ClickHouse/ClickHouse/pull/5092 rel="external nofollow noreferrer" target=_blank>#5092</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Mettre <code class=syntax>dictGet</code> et <code class=syntax>dictGetOrDefault</code> fonctions pour les types Décimaux. <a href=https://github.com/ClickHouse/ClickHouse/pull/5394 rel="external nofollow noreferrer" target=_blank>#5394</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=improvement-8>Amélioration<a class=headerlink href=../amp/#improvement-8 title="Permanent link"> </a></h4><ul><li>Debian init: ajout d'un délai d'arrêt du service <a href=https://github.com/ClickHouse/ClickHouse/pull/5522 rel="external nofollow noreferrer" target=_blank>#5522</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajouter un paramètre interdit par défaut pour créer une table avec des types suspects pour LowCardinality <a href=https://github.com/ClickHouse/ClickHouse/pull/5448 rel="external nofollow noreferrer" target=_blank>#5448</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Les fonctions de régression renvoient les poids du modèle lorsqu'elles ne sont pas utilisées comme État dans la fonction <code class=syntax>evalMLMethod</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5411 rel="external nofollow noreferrer" target=_blank>#5411</a> (<a href=https://github.com/Quid37 rel="external nofollow noreferrer" target=_blank>Quid37</a>)</li><li>Renommer et améliorer les méthodes de régression. <a href=https://github.com/ClickHouse/ClickHouse/pull/5492 rel="external nofollow noreferrer" target=_blank>#5492</a> (<a href=https://github.com/Quid37 rel="external nofollow noreferrer" target=_blank>Quid37</a>)</li><li>Interfaces plus claires des chercheurs de chaînes. <a href=https://github.com/ClickHouse/ClickHouse/pull/5586 rel="external nofollow noreferrer" target=_blank>#5586</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li></ul><h4 id=bug-fix-24>Bug Fix<a class=headerlink href=../amp/#bug-fix-24 title="Permanent link"> </a></h4><ul><li>Correction de la perte de données potentielle dans Kafka <a href=https://github.com/ClickHouse/ClickHouse/pull/5445 rel="external nofollow noreferrer" target=_blank>#5445</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction d'une boucle infinie potentielle dans <code class=syntax>PrettySpace</code> format lorsqu'il est appelé avec zéro colonnes <a href=https://github.com/ClickHouse/ClickHouse/pull/5560 rel="external nofollow noreferrer" target=_blank>#5560</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Correction d'un bug de débordement UInt32 dans les modèles linéaires. Autoriser le modèle EVAL ML pour l'argument du modèle non const. <a href=https://github.com/ClickHouse/ClickHouse/pull/5516 rel="external nofollow noreferrer" target=_blank>#5516</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li><code class=syntax>ALTER TABLE ... DROP INDEX IF EXISTS ...</code> ne devrait pas soulever une exception si l'index n'existe pas <a href=https://github.com/ClickHouse/ClickHouse/pull/5524 rel="external nofollow noreferrer" target=_blank>#5524</a> (<a href=https://github.com/NanoBjorn rel="external nofollow noreferrer" target=_blank>Gleb Novikov</a>)</li><li>Fixer erreur de segmentation avec <code class=syntax>bitmapHasAny</code> dans la sous-requête scalaire <a href=https://github.com/ClickHouse/ClickHouse/pull/5528 rel="external nofollow noreferrer" target=_blank>#5528</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Correction d'une erreur lorsque le pool de connexions de réplication ne tente pas de résoudre l'hôte, même lorsque le cache DNS a été supprimé. <a href=https://github.com/ClickHouse/ClickHouse/pull/5534 rel="external nofollow noreferrer" target=_blank>#5534</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>ALTER ... MODIFY TTL</code> sur ReplicatedMergeTree. <a href=https://github.com/ClickHouse/ClickHouse/pull/5539 rel="external nofollow noreferrer" target=_blank>#5539</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Correction de L'insertion dans une table distribuée avec une colonne matérialisée <a href=https://github.com/ClickHouse/ClickHouse/pull/5429 rel="external nofollow noreferrer" target=_blank>#5429</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Correction d'un mauvais alloc lorsque truncate Join storage <a href=https://github.com/ClickHouse/ClickHouse/pull/5437 rel="external nofollow noreferrer" target=_blank>#5437</a> (<a href=https://github.com/TCeason rel="external nofollow noreferrer" target=_blank>TCeason</a>)</li><li>Dans les versions récentes du paquet tzdata, certains fichiers sont maintenant des liens symboliques. Le mécanisme actuel de détection du fuseau horaire par défaut est cassé et donne des noms erronés pour certains fuseaux horaires. Maintenant, au moins, nous forçons le nom du fuseau horaire au contenu de TZ si fourni. <a href=https://github.com/ClickHouse/ClickHouse/pull/5443 rel="external nofollow noreferrer" target=_blank>#5443</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Fixer certains cas extrêmement rares avec multivolnitsky searcher lorsque les aiguilles constantes en somme sont au moins 16KB long. L'algorithme a manqué ou écrasé les résultats précédents ce qui peut conduire au résultat incorrect de <code class=syntax>multiSearchAny</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5588 rel="external nofollow noreferrer" target=_blank>#5588</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Résolvez le problème lorsque les paramètres des requêtes ExternalData ne pouvaient pas utiliser les paramètres ClickHouse. Aussi, pour l'instant, paramètres <code class=syntax>date_time_input_format</code> et <code class=syntax>low_cardinality_allow_in_native_format</code> ne peut pas être utilisé en raison de l'ambiguïté des noms (en données externe, il peut être interprété comme format de tableau et dans la requête, il peut être un paramètre). <a href=https://github.com/ClickHouse/ClickHouse/pull/5455 rel="external nofollow noreferrer" target=_blank>#5455</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Correction d'un bug lorsque des pièces ont été supprimées uniquement de FS sans les laisser tomber de Zookeeper. <a href=https://github.com/ClickHouse/ClickHouse/pull/5520 rel="external nofollow noreferrer" target=_blank>#5520</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Supprimer la journalisation de débogage du protocole MySQL <a href=https://github.com/ClickHouse/ClickHouse/pull/5478 rel="external nofollow noreferrer" target=_blank>#5478</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ignorer ZNONODE pendant le traitement de la requête DDL <a href=https://github.com/ClickHouse/ClickHouse/pull/5489 rel="external nofollow noreferrer" target=_blank>#5489</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Fix mix <code class=syntax>UNION ALL</code> type de colonne de résultat. Il y avait des cas avec des données incohérentes et des types de colonnes de colonnes résultantes. <a href=https://github.com/ClickHouse/ClickHouse/pull/5503 rel="external nofollow noreferrer" target=_blank>#5503</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Lancer une exception sur des entiers erronés dans <code class=syntax>dictGetT</code> fonctions au lieu de crash. <a href=https://github.com/ClickHouse/ClickHouse/pull/5446 rel="external nofollow noreferrer" target=_blank>#5446</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction de mauvais element_count et load_factor pour le dictionnaire haché dans <code class=syntax>system.dictionaries</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/5440 rel="external nofollow noreferrer" target=_blank>#5440</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li></ul><h4 id=buildtestingpackaging-improvement-9>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-9 title="Permanent link"> </a></h4><ul><li>Construction fixe Sans <code class=syntax>Brotli</code> Prise en charge de la compression HTTP (<code class=syntax>ENABLE_BROTLI=OFF</code> cmake variable). <a href=https://github.com/ClickHouse/ClickHouse/pull/5521 rel="external nofollow noreferrer" target=_blank>#5521</a> (<a href=https://github.com/citrin rel="external nofollow noreferrer" target=_blank>Anton Yuzhaninov</a>)</li><li>Inclure rugissement.h comme rugissant / rugissant.h <a href=https://github.com/ClickHouse/ClickHouse/pull/5523 rel="external nofollow noreferrer" target=_blank>#5523</a> (<a href=https://github.com/orivej rel="external nofollow noreferrer" target=_blank>Orivej Desh</a>)</li><li>Correction des avertissements gcc9 dans hyperscan(la directive # line est mauvaise!) <a href=https://github.com/ClickHouse/ClickHouse/pull/5546 rel="external nofollow noreferrer" target=_blank>#5546</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Corrigez tous les avertissements lors de la compilation avec gcc-9. Correction de certains problèmes de contrib. Corrigez GCC9 ICE et soumettez-le à bugzilla. <a href=https://github.com/ClickHouse/ClickHouse/pull/5498 rel="external nofollow noreferrer" target=_blank>#5498</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Liaison fixe avec lld <a href=https://github.com/ClickHouse/ClickHouse/pull/5477 rel="external nofollow noreferrer" target=_blank>#5477</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Supprimer les spécialisations dans les dictionnaires <a href=https://github.com/ClickHouse/ClickHouse/pull/5452 rel="external nofollow noreferrer" target=_blank>#5452</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Amélioration des tests de performance pour le formatage et l'analyse des tables pour différents types de fichiers <a href=https://github.com/ClickHouse/ClickHouse/pull/5497 rel="external nofollow noreferrer" target=_blank>#5497</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li><li>Corrections pour l'exécution de test parallèle <a href=https://github.com/ClickHouse/ClickHouse/pull/5506 rel="external nofollow noreferrer" target=_blank>#5506</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Docker: utiliser les configs de clickhouse-test <a href=https://github.com/ClickHouse/ClickHouse/pull/5531 rel="external nofollow noreferrer" target=_blank>#5531</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de la compilation Pour FreeBSD <a href=https://github.com/ClickHouse/ClickHouse/pull/5447 rel="external nofollow noreferrer" target=_blank>#5447</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Mise à niveau boost à 1.70 <a href=https://github.com/ClickHouse/ClickHouse/pull/5570 rel="external nofollow noreferrer" target=_blank>#5570</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Fixer construire clickhouse comme sous-module <a href=https://github.com/ClickHouse/ClickHouse/pull/5574 rel="external nofollow noreferrer" target=_blank>#5574</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Améliorer les tests de performance JSONExtract <a href=https://github.com/ClickHouse/ClickHouse/pull/5444 rel="external nofollow noreferrer" target=_blank>#5444</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li></ul><h2 id=clickhouse-release-19-8>Clickhouse Version 19.8<a class=headerlink href=../amp/#clickhouse-release-19-8 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-8-3-8-2019-06-11>Clickhouse Version 19.8.3.8, 2019-06-11<a class=headerlink href=../amp/#clickhouse-release-19-8-3-8-2019-06-11 title="Permanent link"> </a></h3><h4 id=new-features>Nouveauté<a class=headerlink href=../amp/#new-features title="Permanent link"> </a></h4><ul><li>Ajout de fonctions pour travailler avec JSON <a href=https://github.com/ClickHouse/ClickHouse/pull/4686 rel="external nofollow noreferrer" target=_blank>#4686</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/5124 rel="external nofollow noreferrer" target=_blank>#5124</a>. (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Ajouter une fonction basename, avec un comportement similaire à une fonction basename, qui existe dans beaucoup de langues (<code class=syntax>os.path.basename</code> en python, <code class=syntax>basename</code> in PHP, etc…). Work with both an UNIX-like path or a Windows path. <a href=https://github.com/ClickHouse/ClickHouse/pull/5136 rel="external nofollow noreferrer" target=_blank>#5136</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Ajouter <code class=syntax>LIMIT n, m BY</code> ou <code class=syntax>LIMIT m OFFSET n BY</code> syntaxe pour définir le décalage de N pour la clause LIMIT BY. <a href=https://github.com/ClickHouse/ClickHouse/pull/5138 rel="external nofollow noreferrer" target=_blank>#5138</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Ajouté nouveau type de données <code class=syntax>SimpleAggregateFunction</code>, ce qui permet d'avoir des colonnes avec agrégation de lumière dans un <code class=syntax>AggregatingMergeTree</code>. Cela ne peut être utilisé avec des fonctions simples comme <code class=syntax>any</code>, <code class=syntax>anyLast</code>, <code class=syntax>sum</code>, <code class=syntax>min</code>, <code class=syntax>max</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4629 rel="external nofollow noreferrer" target=_blank>#4629</a> (<a href=https://github.com/bgranvea rel="external nofollow noreferrer" target=_blank>Boris Granveaud</a>)</li><li>Ajout du support pour les arguments non constants dans la fonction <code class=syntax>ngramDistance</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5198 rel="external nofollow noreferrer" target=_blank>#5198</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>L'ajout de fonctions <code class=syntax>skewPop</code>, <code class=syntax>skewSamp</code>, <code class=syntax>kurtPop</code> et <code class=syntax>kurtSamp</code> pour calculer l'asymétrie de séquence, l'asymétrie de l'échantillon, la kurtose et la kurtose de l'échantillon respectivement. <a href=https://github.com/ClickHouse/ClickHouse/pull/5200 rel="external nofollow noreferrer" target=_blank>#5200</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Soutien renommer opération pour <code class=syntax>MaterializeView</code> stockage. <a href=https://github.com/ClickHouse/ClickHouse/pull/5209 rel="external nofollow noreferrer" target=_blank>#5209</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Serveur Ajouté qui permet de se connecter à ClickHouse en utilisant le client MySQL. <a href=https://github.com/ClickHouse/ClickHouse/pull/4715 rel="external nofollow noreferrer" target=_blank>#4715</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Ajouter <code class=syntax>toDecimal*OrZero</code> et <code class=syntax>toDecimal*OrNull</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/5291 rel="external nofollow noreferrer" target=_blank>#5291</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Soutenir les types décimaux dans les fonctions: <code class=syntax>quantile</code>, <code class=syntax>quantiles</code>, <code class=syntax>median</code>, <code class=syntax>quantileExactWeighted</code>, <code class=syntax>quantilesExactWeighted</code>, medianExactWeighted. <a href=https://github.com/ClickHouse/ClickHouse/pull/5304 rel="external nofollow noreferrer" target=_blank>#5304</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajouter <code class=syntax>toValidUTF8</code> function, which replaces all invalid UTF-8 characters by replacement character � (U+FFFD). <a href=https://github.com/ClickHouse/ClickHouse/pull/5322 rel="external nofollow noreferrer" target=_blank>#5322</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Ajouter <code class=syntax>format</code> fonction. Formatage du motif constant (modèle de format Python simplifié) avec les chaînes listées dans les arguments. <a href=https://github.com/ClickHouse/ClickHouse/pull/5330 rel="external nofollow noreferrer" target=_blank>#5330</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Ajouter <code class=syntax>system.detached_parts</code> tableau contenant des informations sur les parties détachées de <code class=syntax>MergeTree</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/5353 rel="external nofollow noreferrer" target=_blank>#5353</a> (<a href=https://github.com/akuzm rel="external nofollow noreferrer" target=_blank>akuzm</a>)</li><li>Ajouter <code class=syntax>ngramSearch</code> fonction pour calculer la différence non symétrique entre l'aiguille et la botte de foin. <a href=https://github.com/ClickHouse/ClickHouse/pull/5418 rel="external nofollow noreferrer" target=_blank>#5418</a><a href=https://github.com/ClickHouse/ClickHouse/pull/5422 rel="external nofollow noreferrer" target=_blank>#5422</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Mise en œuvre de méthodes d'apprentissage automatique de base (régression linéaire stochastique et régression logistique) à l'aide de l'interface des fonctions agrégées. A différentes stratégies pour mettre à jour les poids du modèle (descente de gradient simple, méthode momentum, méthode Nesterov). Prend également en charge les mini-lots de taille personnalisée. <a href=https://github.com/ClickHouse/ClickHouse/pull/4943 rel="external nofollow noreferrer" target=_blank>#4943</a> (<a href=https://github.com/Quid37 rel="external nofollow noreferrer" target=_blank>Quid37</a>)</li><li>La mise en œuvre de <code class=syntax>geohashEncode</code> et <code class=syntax>geohashDecode</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/5003 rel="external nofollow noreferrer" target=_blank>#5003</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Fonction agrégée ajoutée <code class=syntax>timeSeriesGroupSum</code> qui peut regrouper différentes séries de l'échantillon d'horodatage de l'alignement. Il utilisera une interpolation linéaire entre deux échantillons d'horodatage, puis additionnera les séries temporelles ensemble. Fonction agrégée ajoutée <code class=syntax>timeSeriesGroupRateSum</code>, qui calcule le taux de séries chronologiques, puis additionne les taux ensemble. <a href=https://github.com/ClickHouse/ClickHouse/pull/4542 rel="external nofollow noreferrer" target=_blank>#4542</a> (<a href=https://github.com/LiuYangkuan rel="external nofollow noreferrer" target=_blank>Yangkuan Liu</a>)</li><li>L'ajout de fonctions <code class=syntax>IPv4CIDRtoIPv4Range</code> et <code class=syntax>IPv6CIDRtoIPv6Range</code> pour calculer les limites inférieures et supérieures pour une adresse IP dans le sous-réseau à l'aide D'un CIDR. <a href=https://github.com/ClickHouse/ClickHouse/pull/5095 rel="external nofollow noreferrer" target=_blank>#5095</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li><li>Ajouter un en-tête X-Clickhouse-Summary lorsque nous envoyons une requête en utilisant HTTP avec paramètre activé <code class=syntax>send_progress_in_http_headers</code>. Renvoie les informations habituelles de X-ClickHouse-Progress, avec des informations supplémentaires telles que le nombre de lignes et d'octets insérés dans la requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/5116 rel="external nofollow noreferrer" target=_blank>#5116</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume Tassery</a>)</li></ul><h4 id=improvements>Amélioration<a class=headerlink href=../amp/#improvements title="Permanent link"> </a></h4><ul><li>Ajouter <code class=syntax>max_parts_in_total</code> paramètre pour la famille de tables MergeTree (par défaut: 100 000) qui empêche la spécification dangereuse de la clé de partition # 5166. <a href=https://github.com/ClickHouse/ClickHouse/pull/5171 rel="external nofollow noreferrer" target=_blank>#5171</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>clickhouse-obfuscator</code>: dériver la graine pour les colonnes individuelles en combinant la graine initiale avec le nom de la colonne, pas la position de la colonne. Ceci est destiné à transformer des ensembles de données avec plusieurs tables associées, de sorte que les tables restent joignables après la transformation. <a href=https://github.com/ClickHouse/ClickHouse/pull/5178 rel="external nofollow noreferrer" target=_blank>#5178</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>L'ajout de fonctions <code class=syntax>JSONExtractRaw</code>, <code class=syntax>JSONExtractKeyAndValues</code>. Renommé fonctions <code class=syntax>jsonExtract&lt;type&gt;</code> de <code class=syntax>JSONExtract&lt;type&gt;</code>. Quand quelque chose ne va pas, ces fonctions renvoient les valeurs correspondantes, pas <code class=syntax>NULL</code>. Modifié la fonction <code class=syntax>JSONExtract</code>, maintenant, il obtient le type de retour de son dernier paramètre et n'injecte pas nullables. Implémenté repli vers RapidJSON dans le cas où les instructions AVX2 ne sont pas disponibles. Bibliothèque Simdjson mise à jour vers une nouvelle version. <a href=https://github.com/ClickHouse/ClickHouse/pull/5235 rel="external nofollow noreferrer" target=_blank>#5235</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Maintenant <code class=syntax>if</code> et <code class=syntax>multiIf</code> les fonctions ne dépendent pas de la condition <code class=syntax>Nullable</code>, mais comptez sur les branches pour la compatibilité sql. <a href=https://github.com/ClickHouse/ClickHouse/pull/5238 rel="external nofollow noreferrer" target=_blank>#5238</a> (<a href=https://github.com/janplus rel="external nofollow noreferrer" target=_blank>Jian Wu</a>)</li><li><code class=syntax>In</code> prédicat génère maintenant <code class=syntax>Null</code> résultat de <code class=syntax>Null</code> d'entrée comme l' <code class=syntax>Equal</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/5152 rel="external nofollow noreferrer" target=_blank>#5152</a> (<a href=https://github.com/janplus rel="external nofollow noreferrer" target=_blank>Jian Wu</a>)</li><li>Vérifiez la limite de temps chaque (flush_interval / poll_timeout) nombre de lignes de Kafka. Cela permet de casser la lecture de Kafka consumer plus fréquemment et de vérifier les délais pour les flux de niveau supérieur <a href=https://github.com/ClickHouse/ClickHouse/pull/5249 rel="external nofollow noreferrer" target=_blank>#5249</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Lien rdkafka avec SASL fourni. Il devrait permettre d'utiliser l'authentification SASL SCRAM <a href=https://github.com/ClickHouse/ClickHouse/pull/5253 rel="external nofollow noreferrer" target=_blank>#5253</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Version par lots de RowRefList pour toutes les jointures. <a href=https://github.com/ClickHouse/ClickHouse/pull/5267 rel="external nofollow noreferrer" target=_blank>#5267</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>clickhouse-server: messages d'erreur d'écoute plus informatifs. <a href=https://github.com/ClickHouse/ClickHouse/pull/5268 rel="external nofollow noreferrer" target=_blank>#5268</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Soutien dictionnaires dans clickhouse-copieur pour les fonctions dans <code class=syntax>&lt;sharding_key&gt;</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5270 rel="external nofollow noreferrer" target=_blank>#5270</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajouter un nouveau paramètre <code class=syntax>kafka_commit_every_batch</code> pour réglementer Kafka engager la Politique.<br> Il permet de définir le mode de validation: après chaque lot de messages personnels, ou après le bloc entier est écrit dans le stockage. C'est un compromis entre perdre des messages ou les lire deux fois dans certaines situations extrêmes. <a href=https://github.com/ClickHouse/ClickHouse/pull/5308 rel="external nofollow noreferrer" target=_blank>#5308</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Faire <code class=syntax>windowFunnel</code> supporte d'autres types entiers non signés. <a href=https://github.com/ClickHouse/ClickHouse/pull/5320 rel="external nofollow noreferrer" target=_blank>#5320</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Autoriser à ombrer la colonne virtuelle <code class=syntax>_table</code> dans le moteur de Fusion. <a href=https://github.com/ClickHouse/ClickHouse/pull/5325 rel="external nofollow noreferrer" target=_blank>#5325</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Faire <code class=syntax>sequenceMatch</code> les fonctions d'agrégation prennent en charge d'autres types entiers non signés <a href=https://github.com/ClickHouse/ClickHouse/pull/5339 rel="external nofollow noreferrer" target=_blank>#5339</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Meilleurs messages d'erreur si l'inadéquation de la somme de contrôle est probablement causée par des défaillances matérielles. <a href=https://github.com/ClickHouse/ClickHouse/pull/5355 rel="external nofollow noreferrer" target=_blank>#5355</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Vérifiez que les tables sous-jacentes prennent en charge l'échantillonnage pour <code class=syntax>StorageMerge</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5366 rel="external nofollow noreferrer" target=_blank>#5366</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Сlose MySQL connections after their usage in external dictionaries. It is related to issue #893. <a href=https://github.com/ClickHouse/ClickHouse/pull/5395 rel="external nofollow noreferrer" target=_blank>#5395</a> (<a href=https://github.com/clemrodriguez rel="external nofollow noreferrer" target=_blank>Clément Rodriguez</a>)</li><li>Améliorations du protocole de fil MySQL. Changement du nom du format en MySQLWire. Utiliser RAII pour appeler RSA_free. Désactivation de SSL si le contexte ne peut pas être créé. <a href=https://github.com/ClickHouse/ClickHouse/pull/5419 rel="external nofollow noreferrer" target=_blank>#5419</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>clickhouse-client: allow to run with unaccessable history file (read-only, no disk space, file is directory, …). <a href=https://github.com/ClickHouse/ClickHouse/pull/5431 rel="external nofollow noreferrer" target=_blank>#5431</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Respectez les paramètres de requête dans les insertions asynchrones dans les tables distribuées. <a href=https://github.com/ClickHouse/ClickHouse/pull/4936 rel="external nofollow noreferrer" target=_blank>#4936</a> (<a href=https://github.com/TCeason rel="external nofollow noreferrer" target=_blank>TCeason</a>)</li><li>Renommé fonctions <code class=syntax>leastSqr</code> de <code class=syntax>simpleLinearRegression</code>, <code class=syntax>LinearRegression</code> de <code class=syntax>linearRegression</code>, <code class=syntax>LogisticRegression</code> de <code class=syntax>logisticRegression</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5391 rel="external nofollow noreferrer" target=_blank>#5391</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li></ul><h4 id=performance-improvements>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvements title="Permanent link"> </a></h4><ul><li>Paralléliser le traitement des parties des tables MergeTree non répliquées dans la requête ALTER MODIFY. <a href=https://github.com/ClickHouse/ClickHouse/pull/4639 rel="external nofollow noreferrer" target=_blank>#4639</a> (<a href=https://github.com/IvanKush rel="external nofollow noreferrer" target=_blank>Ivan Kush</a>)</li><li>Optimisations dans l'extraction d'expressions régulières. <a href=https://github.com/ClickHouse/ClickHouse/pull/5193 rel="external nofollow noreferrer" target=_blank>#5193</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5191 rel="external nofollow noreferrer" target=_blank>#5191</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>N'ajoutez pas de colonne de clé de jointure droite pour joindre le résultat si elle est utilisée uniquement dans la section join on. <a href=https://github.com/ClickHouse/ClickHouse/pull/5260 rel="external nofollow noreferrer" target=_blank>#5260</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Geler le tampon Kafka après la première réponse vide. Il évite les invocations multiples de <code class=syntax>ReadBuffer::next()</code> pour un résultat vide dans certains flux d'analyse de ligne. <a href=https://github.com/ClickHouse/ClickHouse/pull/5283 rel="external nofollow noreferrer" target=_blank>#5283</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li><code class=syntax>concat</code> optimisation de la fonction pour plusieurs arguments. <a href=https://github.com/ClickHouse/ClickHouse/pull/5357 rel="external nofollow noreferrer" target=_blank>#5357</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Query optimisation. Allow push down IN statement while rewriting commа/cross join into inner one. <a href=https://github.com/ClickHouse/ClickHouse/pull/5396 rel="external nofollow noreferrer" target=_blank>#5396</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Mettez à niveau notre implémentation LZ4 avec reference one pour avoir une décompression plus rapide. <a href=https://github.com/ClickHouse/ClickHouse/pull/5070 rel="external nofollow noreferrer" target=_blank>#5070</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Implémenté MSD radix sort (basé sur kxsort), et le tri partiel. <a href=https://github.com/ClickHouse/ClickHouse/pull/5129 rel="external nofollow noreferrer" target=_blank>#5129</a> (<a href=https://github.com/kvinty rel="external nofollow noreferrer" target=_blank>Evgenii Pravda</a>)</li></ul><h4 id=bug-fixes>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes title="Permanent link"> </a></h4><ul><li>Correction des colonnes push require avec jointure <a href=https://github.com/ClickHouse/ClickHouse/pull/5192 rel="external nofollow noreferrer" target=_blank>#5192</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Correction d'un bug, lorsque ClickHouse est exécuté par systemd, la commande <code class=syntax>sudo service clickhouse-server forcerestart</code> ne fonctionne pas comme prévu. <a href=https://github.com/ClickHouse/ClickHouse/pull/5204 rel="external nofollow noreferrer" target=_blank>#5204</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction des codes d'erreur http dans DataPartsExchange (le serveur HTTP interserver sur le port 9009 renvoie toujours le code 200, même en cas d'erreurs). <a href=https://github.com/ClickHouse/ClickHouse/pull/5216 rel="external nofollow noreferrer" target=_blank>#5216</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de SimpleAggregateFunction pour une chaîne plus longue que MAX_SMALL_STRING_SIZE <a href=https://github.com/ClickHouse/ClickHouse/pull/5311 rel="external nofollow noreferrer" target=_blank>#5311</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Correction d'une erreur pour <code class=syntax>Decimal</code> de <code class=syntax>Nullable(Decimal)</code> conversion en en. Soutenir D'autres conversions décimales à décimales (y compris différentes échelles). <a href=https://github.com/ClickHouse/ClickHouse/pull/5350 rel="external nofollow noreferrer" target=_blank>#5350</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction FPU clobbering dans la bibliothèque simdjson qui conduisent à un mauvais calcul de <code class=syntax>uniqHLL</code> et <code class=syntax>uniqCombined</code> fonction agrégée et fonctions mathématiques telles que <code class=syntax>log</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5354 rel="external nofollow noreferrer" target=_blank>#5354</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la gestion des cas const/nonconst mixtes dans les fonctions JSON. <a href=https://github.com/ClickHouse/ClickHouse/pull/5435 rel="external nofollow noreferrer" target=_blank>#5435</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Fixer <code class=syntax>retention</code> fonction. Maintenant, toutes les conditions qui satisfont dans une rangée de données sont ajoutées à l'état des données. <a href=https://github.com/ClickHouse/ClickHouse/pull/5119 rel="external nofollow noreferrer" target=_blank>#5119</a> (<a href=https://github.com/nicelulu rel="external nofollow noreferrer" target=_blank>小路</a>)</li><li>Correction du type de résultat pour <code class=syntax>quantileExact</code> avec des Décimales. <a href=https://github.com/ClickHouse/ClickHouse/pull/5304 rel="external nofollow noreferrer" target=_blank>#5304</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=documentation>Documentation<a class=headerlink href=../amp/#documentation title="Permanent link"> </a></h4><ul><li>Traduire la documentation pour <code class=syntax>CollapsingMergeTree</code> pour les chinois. <a href=https://github.com/ClickHouse/ClickHouse/pull/5168 rel="external nofollow noreferrer" target=_blank>#5168</a> (<a href=https://github.com/AlexZFX rel="external nofollow noreferrer" target=_blank>张风啸</a>)</li><li>Traduire une documentation sur les moteurs de table en chinois.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5134 rel="external nofollow noreferrer" target=_blank>#5134</a><br><a href=https://github.com/ClickHouse/ClickHouse/pull/5328 rel="external nofollow noreferrer" target=_blank>#5328</a><br> (<a href=https://github.com/neverlee rel="external nofollow noreferrer" target=_blank>jamais lee</a>)</li></ul><h4 id=buildtestingpackaging-improvements>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements title="Permanent link"> </a></h4><ul><li>Correction de certains rapports de désinfectant qui montrent une utilisation probable après-livraison.<a href=https://github.com/ClickHouse/ClickHouse/pull/5139 rel="external nofollow noreferrer" target=_blank>#5139</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5143 rel="external nofollow noreferrer" target=_blank>#5143</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5393 rel="external nofollow noreferrer" target=_blank>#5393</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Déplacez les tests de performance hors de répertoires séparés pour plus de commodité. <a href=https://github.com/ClickHouse/ClickHouse/pull/5158 rel="external nofollow noreferrer" target=_blank>#5158</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de tests de performance incorrects. <a href=https://github.com/ClickHouse/ClickHouse/pull/5255 rel="external nofollow noreferrer" target=_blank>#5255</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajout d'un outil pour calculer les sommes de contrôle causées par les retournements de bits pour déboguer les problèmes matériels. <a href=https://github.com/ClickHouse/ClickHouse/pull/5334 rel="external nofollow noreferrer" target=_blank>#5334</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Rendre le script runner plus utilisable. <a href=https://github.com/ClickHouse/ClickHouse/pull/5340 rel="external nofollow noreferrer" target=_blank>#5340</a><a href=https://github.com/ClickHouse/ClickHouse/pull/5360 rel="external nofollow noreferrer" target=_blank>#5360</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Ajouter petite instruction comment écrire des tests de performance. <a href=https://github.com/ClickHouse/ClickHouse/pull/5408 rel="external nofollow noreferrer" target=_blank>#5408</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajout de la possibilité de faire des substitutions dans Créer, remplir et supprimer la requête dans les tests de performance <a href=https://github.com/ClickHouse/ClickHouse/pull/5367 rel="external nofollow noreferrer" target=_blank>#5367</a> (<a href=https://github.com/stavrolia rel="external nofollow noreferrer" target=_blank>Olga Khvostikova</a>)</li></ul><h2 id=clickhouse-release-19-7>Clickhouse Version 19.7<a class=headerlink href=../amp/#clickhouse-release-19-7 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-7-5-29-2019-07-05>Clickhouse Version 19.7.5.29, 2019-07-05<a class=headerlink href=../amp/#clickhouse-release-19-7-5-29-2019-07-05 title="Permanent link"> </a></h3><h4 id=bug-fix-25>Bug Fix<a class=headerlink href=../amp/#bug-fix-25 title="Permanent link"> </a></h4><ul><li>Correction de la régression des performances dans certaines requêtes avec jointure. <a href=https://github.com/ClickHouse/ClickHouse/pull/5192 rel="external nofollow noreferrer" target=_blank>#5192</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li></ul><h3 id=clickhouse-release-19-7-5-27-2019-06-09>Clickhouse Version 19.7.5.27, 2019-06-09<a class=headerlink href=../amp/#clickhouse-release-19-7-5-27-2019-06-09 title="Permanent link"> </a></h3><h4 id=new-features-1>Nouveauté<a class=headerlink href=../amp/#new-features-1 title="Permanent link"> </a></h4><ul><li>Ajout de fonctions liées au bitmap <code class=syntax>bitmapHasAny</code> et <code class=syntax>bitmapHasAll</code> analogue à <code class=syntax>hasAny</code> et <code class=syntax>hasAll</code> fonctions pour les tableaux. <a href=https://github.com/ClickHouse/ClickHouse/pull/5279 rel="external nofollow noreferrer" target=_blank>#5279</a> (<a href=https://github.com/svladykin rel="external nofollow noreferrer" target=_blank>Sergi Vladykin</a>)</li></ul><h4 id=bug-fixes-1>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-1 title="Permanent link"> </a></h4><ul><li>Fixer erreur de segmentation sur <code class=syntax>minmax</code> INDEX avec valeur nulle. <a href=https://github.com/ClickHouse/ClickHouse/pull/5246 rel="external nofollow noreferrer" target=_blank>#5246</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Marquez toutes les colonnes d'entrée dans LIMIT BY comme sortie requise. Il fixe ‘Not found column’ erreur dans certaines requêtes distribuées. <a href=https://github.com/ClickHouse/ClickHouse/pull/5407 rel="external nofollow noreferrer" target=_blank>#5407</a> (<a href=https://github.com/kvap rel="external nofollow noreferrer" target=_blank>Constantin S. Pan</a>)</li><li>Fixer “Column ‘0’ already exists” erreur dans <code class=syntax>SELECT .. PREWHERE</code> sur la colonne avec défaut <a href=https://github.com/ClickHouse/ClickHouse/pull/5397 rel="external nofollow noreferrer" target=_blank>#5397</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Fixer <code class=syntax>ALTER MODIFY TTL</code> requête sur <code class=syntax>ReplicatedMergeTree</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5539/commits rel="external nofollow noreferrer" target=_blank>#5539</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Ne plantez pas le serveur lorsque les consommateurs Kafka n'ont pas réussi à démarrer. <a href=https://github.com/ClickHouse/ClickHouse/pull/5285 rel="external nofollow noreferrer" target=_blank>#5285</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Les fonctions Bitmap fixes produisent un mauvais résultat. <a href=https://github.com/ClickHouse/ClickHouse/pull/5359 rel="external nofollow noreferrer" target=_blank>#5359</a> (<a href=https://github.com/andyyzh rel="external nofollow noreferrer" target=_blank>Andy Yang</a>)</li><li>Correction d'element_count pour le dictionnaire haché (ne pas inclure les doublons) <a href=https://github.com/ClickHouse/ClickHouse/pull/5440 rel="external nofollow noreferrer" target=_blank>#5440</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Utilisez le contenu de la variable d'environnement TZ comme nom pour le fuseau horaire. Il aide à détecter correctement le fuseau horaire par défaut dans certains cas.<a href=https://github.com/ClickHouse/ClickHouse/pull/5443 rel="external nofollow noreferrer" target=_blank>#5443</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>N'essayez pas de convertir les entiers dans <code class=syntax>dictGetT</code> fonctions, car il ne fonctionne pas correctement. Jetez une exception à la place. <a href=https://github.com/ClickHouse/ClickHouse/pull/5446 rel="external nofollow noreferrer" target=_blank>#5446</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction des paramètres dans la requête HTTP ExternalData. <a href=https://github.com/ClickHouse/ClickHouse/pull/5455 rel="external nofollow noreferrer" target=_blank>#5455</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila<br> Kutenin</a>)</li><li>Correction d'un bug lorsque des pièces ont été supprimées uniquement de FS sans les laisser tomber de Zookeeper. <a href=https://github.com/ClickHouse/ClickHouse/pull/5520 rel="external nofollow noreferrer" target=_blank>#5520</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un défaut de segmentation dans <code class=syntax>bitmapHasAny</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/5528 rel="external nofollow noreferrer" target=_blank>#5528</a> (<a href=https://github.com/yuzhichang rel="external nofollow noreferrer" target=_blank>Zhichang Yu</a>)</li><li>Correction d'une erreur lorsque le pool de connexions de réplication ne tente pas de résoudre l'hôte, même lorsque le cache DNS a été supprimé. <a href=https://github.com/ClickHouse/ClickHouse/pull/5534 rel="external nofollow noreferrer" target=_blank>#5534</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>DROP INDEX IF EXISTS</code> requête. Maintenant <code class=syntax>ALTER TABLE ... DROP INDEX IF EXISTS ...</code> la requête ne déclenche pas d'exception si l'index fourni n'existe pas. <a href=https://github.com/ClickHouse/ClickHouse/pull/5524 rel="external nofollow noreferrer" target=_blank>#5524</a> (<a href=https://github.com/NanoBjorn rel="external nofollow noreferrer" target=_blank>Gleb Novikov</a>)</li><li>Correction de la colonne union all supertype. Il y avait des cas avec des données incohérentes et des types de colonnes de colonnes résultantes. <a href=https://github.com/ClickHouse/ClickHouse/pull/5503 rel="external nofollow noreferrer" target=_blank>#5503</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ignorer ZNONODE pendant le traitement de la requête DDL. Avant si un autre nœud supprime le znode dans la file d'attente des tâches, celui qui<br> ne pas le traiter, mais déjà obtenir la liste des enfants, mettra fin au thread DDLWorker. <a href=https://github.com/ClickHouse/ClickHouse/pull/5489 rel="external nofollow noreferrer" target=_blank>#5489</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li><li>Correction de L'insertion dans la table Distributed() avec une colonne matérialisée. <a href=https://github.com/ClickHouse/ClickHouse/pull/5429 rel="external nofollow noreferrer" target=_blank>#5429</a> (<a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a>)</li></ul><h3 id=clickhouse-release-19-7-3-9-2019-05-30>Clickhouse Version 19.7.3.9, 2019-05-30<a class=headerlink href=../amp/#clickhouse-release-19-7-3-9-2019-05-30 title="Permanent link"> </a></h3><h4 id=new-features-2>Nouveauté<a class=headerlink href=../amp/#new-features-2 title="Permanent link"> </a></h4><ul><li>Permet de limiter la plage d'un paramètre qui peut être spécifiée par l'utilisateur.<br> Ces contraintes peuvent être configurées dans le profil des paramètres utilisateur.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/4931 rel="external nofollow noreferrer" target=_blank>#4931</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly<br> Baranov</a>)</li><li>Ajouter une deuxième version de la fonction <code class=syntax>groupUniqArray</code> avec une option de<br><code class=syntax>max_size</code> paramètre qui limite la taille du tableau résultant. Ce<br> le comportement est similaire à <code class=syntax>groupArray(max_size)(x)</code> fonction.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5026 rel="external nofollow noreferrer" target=_blank>#5026</a> (<a href=https://github.com/YiuRULE rel="external nofollow noreferrer" target=_blank>Guillaume<br> Tassery</a>)</li><li>Pour les formats de fichier D'entrée TSVWithNames/CSVWithNames, l'ordre des colonnes peut maintenant être<br> déterminé à partir de l'en-tête du fichier. Ceci est contrôlé par<br><code class=syntax>input_format_with_names_use_header</code> paramètre.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5081 rel="external nofollow noreferrer" target=_blank>#5081</a><br> (<a href=https://github.com/Akazz rel="external nofollow noreferrer" target=_blank>Alexander</a>)</li></ul><h4 id=bug-fixes-2>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-2 title="Permanent link"> </a></h4><ul><li>Crash avec uncompressed_cache + JOIN lors de la fusion (#5197)<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5133 rel="external nofollow noreferrer" target=_blank>#5133</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila<br> Kutenin</a>)</li><li>Erreur de Segmentation sur une requête clickhouse-client aux tables système. #5066<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5127 rel="external nofollow noreferrer" target=_blank>#5127</a><br> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Perte de données sur une charge lourde via KafkaEngine (#4736)<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5080 rel="external nofollow noreferrer" target=_blank>#5080</a><br> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Correction d'une condition de concurrence de données très rare qui pourrait se produire lors de l'exécution d'une requête avec UNION impliquant au moins deux sélections du système.colonnes, système.tables système.les pièces, système d'.parts_tables ou tables de la famille de fusion et effectuer des modifications simultanées des colonnes des tables associées. <a href=https://github.com/ClickHouse/ClickHouse/pull/5189 rel="external nofollow noreferrer" target=_blank>#5189</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=performance-improvements-1>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvements-1 title="Permanent link"> </a></h4><ul><li>Utilisez le tri radix pour trier par colonne numérique unique dans <code class=syntax>ORDER BY</code> sans<br><code class=syntax>LIMIT</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/5106 rel="external nofollow noreferrer" target=_blank>#5106</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/4439 rel="external nofollow noreferrer" target=_blank>#4439</a><br> (<a href=https://github.com/kvinty rel="external nofollow noreferrer" target=_blank>Evgenii Pravda</a>,<br><a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=documentation-1>Documentation<a class=headerlink href=../amp/#documentation-1 title="Permanent link"> </a></h4><ul><li>Traduire la documentation de certains moteurs de table en chinois.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5107 rel="external nofollow noreferrer" target=_blank>#5107</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5094 rel="external nofollow noreferrer" target=_blank>#5094</a>,<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5087 rel="external nofollow noreferrer" target=_blank>#5087</a><br> (<a href=https://github.com/AlexZFX rel="external nofollow noreferrer" target=_blank>张风啸</a>),<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5068 rel="external nofollow noreferrer" target=_blank>#5068</a> (<a href=https://github.com/neverlee rel="external nofollow noreferrer" target=_blank>jamais<br> Lee</a>)</li></ul><h4 id=buildtestingpackaging-improvements-1>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements-1 title="Permanent link"> </a></h4><ul><li>Imprimer les caractères UTF-8 correctement dans <code class=syntax>clickhouse-test</code>.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5084 rel="external nofollow noreferrer" target=_blank>#5084</a><br> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un paramètre de ligne de commande pour clickhouse-client pour toujours charger la suggestion<br> données. <a href=https://github.com/ClickHouse/ClickHouse/pull/5102 rel="external nofollow noreferrer" target=_blank>#5102</a><br> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Résolvez certains des avertissements PVS-Studio.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5082 rel="external nofollow noreferrer" target=_blank>#5082</a><br> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Mise à jour LZ4 <a href=https://github.com/ClickHouse/ClickHouse/pull/5040 rel="external nofollow noreferrer" target=_blank>#5040</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila<br> Kutenin</a>)</li><li>Ajouter gperf pour construire des exigences pour la prochaine demande de tirage # 5030.<br><a href=https://github.com/ClickHouse/ClickHouse/pull/5110 rel="external nofollow noreferrer" target=_blank>#5110</a><br> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h2 id=clickhouse-release-19-6>Clickhouse Version 19.6<a class=headerlink href=../amp/#clickhouse-release-19-6 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-6-3-18-2019-06-13>Clickhouse Version 19.6.3.18, 2019-06-13<a class=headerlink href=../amp/#clickhouse-release-19-6-3-18-2019-06-13 title="Permanent link"> </a></h3><h4 id=bug-fixes-3>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-3 title="Permanent link"> </a></h4><ul><li>Correction de l'état pushdown pour les requêtes des fonctions de table <code class=syntax>mysql</code> et <code class=syntax>odbc</code> et les moteurs de table correspondants. Cela corrige #3540 et # 2384. <a href=https://github.com/ClickHouse/ClickHouse/pull/5313 rel="external nofollow noreferrer" target=_blank>#5313</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de l'impasse dans Zookeeper. <a href=https://github.com/ClickHouse/ClickHouse/pull/5297 rel="external nofollow noreferrer" target=_blank>#5297</a> (<a href=https://github.com/github1youlc rel="external nofollow noreferrer" target=_blank>github1youlc</a>)</li><li>Autoriser les décimales entre guillemets en CSV. <a href=https://github.com/ClickHouse/ClickHouse/pull/5284 rel="external nofollow noreferrer" target=_blank>#5284</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a></li><li>Interdire la conversion de float Inf / NaN en décimales (exception de lancer). <a href=https://github.com/ClickHouse/ClickHouse/pull/5282 rel="external nofollow noreferrer" target=_blank>#5282</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction de la course de données dans la requête renommer. <a href=https://github.com/ClickHouse/ClickHouse/pull/5247 rel="external nofollow noreferrer" target=_blank>#5247</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Désactiver temporairement LFAlloc. L'utilisation de LFAlloc peut conduire à beaucoup de MAP_FAILED dans l'allocation de UncompressedCache et, par conséquent, à des plantages de requêtes sur des serveurs chargés en haut. <a href=https://github.com/ClickHouse/ClickHouse/commit/cfdba938ce22f16efeec504f7f90206a515b1280 rel="external nofollow noreferrer" target=_blank>cfdba93</a>(<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li></ul><h3 id=clickhouse-release-19-6-2-11-2019-05-13>Clickhouse Version 19.6.2.11, 2019-05-13<a class=headerlink href=../amp/#clickhouse-release-19-6-2-11-2019-05-13 title="Permanent link"> </a></h3><h4 id=new-features-3>Nouveauté<a class=headerlink href=../amp/#new-features-3 title="Permanent link"> </a></h4><ul><li>Expressions TTL pour les colonnes et les tables. <a href=https://github.com/ClickHouse/ClickHouse/pull/4212 rel="external nofollow noreferrer" target=_blank>#4212</a> (<a href=https://github.com/CurtizJ rel="external nofollow noreferrer" target=_blank>Anton Popov</a>)</li><li>Ajout du support pour <code class=syntax>brotli</code> compression pour les réponses HTTP (Accept-Encoding: br) <a href=https://github.com/ClickHouse/ClickHouse/pull/4388 rel="external nofollow noreferrer" target=_blank>#4388</a> (<a href=https://github.com/fandyushin rel="external nofollow noreferrer" target=_blank>Mikhail</a>)</li><li>Ajout d'une fonction nouvelle <code class=syntax>isValidUTF8</code> pour vérifier si un ensemble d'octets est correctement codé en utf-8. <a href=https://github.com/ClickHouse/ClickHouse/pull/4934 rel="external nofollow noreferrer" target=_blank>#4934</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Ajouter la nouvelle stratégie d'équilibrage de charge <code class=syntax>first_or_random</code> qui envoie des requêtes au premier hôte spécifié et s'il est inaccessible, envoie des requêtes à des hôtes aléatoires de shard. Utile pour les configurations de topologie de réplication croisée. <a href=https://github.com/ClickHouse/ClickHouse/pull/5012 rel="external nofollow noreferrer" target=_blank>#5012</a> (<a href=https://github.com/nvartolomei rel="external nofollow noreferrer" target=_blank>nvartolomei</a>)</li></ul><h4 id=experimental-features-1>Caractéristiques Expérimentales<a class=headerlink href=../amp/#experimental-features-1 title="Permanent link"> </a></h4><ul><li>Ajouter un paramètre <code class=syntax>index_granularity_bytes</code> (granularité d'index adaptatif) pour la famille de tables MergeTree*. <a href=https://github.com/ClickHouse/ClickHouse/pull/4826 rel="external nofollow noreferrer" target=_blank>#4826</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h4 id=improvements-1>Amélioration<a class=headerlink href=../amp/#improvements-1 title="Permanent link"> </a></h4><ul><li>Ajout du support pour les arguments de taille et de longueur non constants et négatifs pour la fonction <code class=syntax>substringUTF8</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4989 rel="external nofollow noreferrer" target=_blank>#4989</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Désactivez push-down to right table dans LEFT join, left table dans RIGHT join et les deux tables dans full join. Cela corrige les mauvais résultats de jointure dans certains cas. <a href=https://github.com/ClickHouse/ClickHouse/pull/4846 rel="external nofollow noreferrer" target=_blank>#4846</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li><code class=syntax>clickhouse-copier</code>: configuration automatique de tâche de téléchargement de <code class=syntax>--task-file</code> option <a href=https://github.com/ClickHouse/ClickHouse/pull/4876 rel="external nofollow noreferrer" target=_blank>#4876</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout d'un gestionnaire de fautes de frappe pour l'usine de stockage et les fonctions de table factory. <a href=https://github.com/ClickHouse/ClickHouse/pull/4891 rel="external nofollow noreferrer" target=_blank>#4891</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Support des astérisques et des astérisques qualifiés pour plusieurs jointures sans sous-requêtes <a href=https://github.com/ClickHouse/ClickHouse/pull/4898 rel="external nofollow noreferrer" target=_blank>#4898</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Rendre le message d'erreur de colonne manquant plus convivial. <a href=https://github.com/ClickHouse/ClickHouse/pull/4915 rel="external nofollow noreferrer" target=_blank>#4915</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=performance-improvements-2>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvements-2 title="Permanent link"> </a></h4><ul><li>Accélération significative de la jointure ASOF <a href=https://github.com/ClickHouse/ClickHouse/pull/4924 rel="external nofollow noreferrer" target=_blank>#4924</a> (<a href=https://github.com/Gladdy rel="external nofollow noreferrer" target=_blank>Martijn Bakker</a>)</li></ul><h4 id=backward-incompatible-changes>Modifications Incompatibles En Arrière<a class=headerlink href=../amp/#backward-incompatible-changes title="Permanent link"> </a></h4><ul><li>L'en-tête HTTP <code class=syntax>Query-Id</code> a été renommé <code class=syntax>X-ClickHouse-Query-Id</code> pour des raisons de cohérence. <a href=https://github.com/ClickHouse/ClickHouse/pull/4972 rel="external nofollow noreferrer" target=_blank>#4972</a> (<a href=https://github.com/fandyushin rel="external nofollow noreferrer" target=_blank>Mikhail</a>)</li></ul><h4 id=bug-fixes-4>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-4 title="Permanent link"> </a></h4><ul><li>Déréférence du pointeur nul potentiel fixe dans <code class=syntax>clickhouse-copier</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4900 rel="external nofollow noreferrer" target=_blank>#4900</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction d'une erreur sur la requête avec JOIN + ARRAY JOIN <a href=https://github.com/ClickHouse/ClickHouse/pull/4938 rel="external nofollow noreferrer" target=_blank>#4938</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixe suspendu au début du serveur lorsqu'un dictionnaire dépend d'un autre dictionnaire via une base de données avec moteur=Dictionnaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/4962 rel="external nofollow noreferrer" target=_blank>#4962</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Partially fix distributed_product_mode = local. It's possible to allow columns of local tables in where/having/order by/… via table aliases. Throw exception if table does not have alias. There's not possible to access to the columns without table aliases yet. <a href=https://github.com/ClickHouse/ClickHouse/pull/4986 rel="external nofollow noreferrer" target=_blank>#4986</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un résultat potentiellement erroné pour <code class=syntax>SELECT DISTINCT</code> avec <code class=syntax>JOIN</code> <a href=https://github.com/ClickHouse/ClickHouse/pull/5001 rel="external nofollow noreferrer" target=_blank>#5001</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'une condition de concurrence de données très rare qui pourrait se produire lors de l'exécution d'une requête avec UNION impliquant au moins deux sélections du système.colonnes, système.tables système.les pièces, système d'.parts_tables ou tables de la famille de fusion et effectuer des modifications simultanées des colonnes des tables associées. <a href=https://github.com/ClickHouse/ClickHouse/pull/5189 rel="external nofollow noreferrer" target=_blank>#5189</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=buildtestingpackaging-improvements-2>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements-2 title="Permanent link"> </a></h4><ul><li>Correction des échecs de test lors de l'exécution de clickhouse-server sur un hôte différent <a href=https://github.com/ClickHouse/ClickHouse/pull/4713 rel="external nofollow noreferrer" target=_blank>#4713</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>clickhouse-test: désactiver les séquences de contrôle de couleur dans un environnement non tty. <a href=https://github.com/ClickHouse/ClickHouse/pull/4937 rel="external nofollow noreferrer" target=_blank>#4937</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>clickhouse-test: Autoriser l'utilisation de toute base de données de test (supprimer <code class=syntax>test.</code> qualification lorsque cela est possible) <a href=https://github.com/ClickHouse/ClickHouse/pull/5008 rel="external nofollow noreferrer" target=_blank>#5008</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction des erreurs ubsan <a href=https://github.com/ClickHouse/ClickHouse/pull/5037 rel="external nofollow noreferrer" target=_blank>#5037</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Yandex LFAlloc a été ajouté à ClickHouse pour allouer des données MarkCache et UncompressedCache de différentes manières pour attraper des segfaults plus fiables <a href=https://github.com/ClickHouse/ClickHouse/pull/4995 rel="external nofollow noreferrer" target=_blank>#4995</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Python util pour aider avec les rétroportages et les changelogs. <a href=https://github.com/ClickHouse/ClickHouse/pull/4949 rel="external nofollow noreferrer" target=_blank>#4949</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h2 id=clickhouse-release-19-5>Clickhouse Version 19.5<a class=headerlink href=../amp/#clickhouse-release-19-5 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-5-4-22-2019-05-13>Clickhouse Version 19.5.4.22, 2019-05-13<a class=headerlink href=../amp/#clickhouse-release-19-5-4-22-2019-05-13 title="Permanent link"> </a></h3><h4 id=bug-fixes-5>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-5 title="Permanent link"> </a></h4><ul><li>Correction d'un crash possible dans les fonctions bitmap* <a href=https://github.com/ClickHouse/ClickHouse/pull/5220 rel="external nofollow noreferrer" target=_blank>#5220</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/5228 rel="external nofollow noreferrer" target=_blank>#5228</a> (<a href=https://github.com/andyyzh rel="external nofollow noreferrer" target=_blank>Andy Yang</a>)</li><li>Correction d'une condition de concurrence de données très rare qui pourrait se produire lors de l'exécution d'une requête avec UNION impliquant au moins deux sélections du système.colonnes, système.tables système.les pièces, système d'.parts_tables ou tables de la famille de fusion et effectuer des modifications simultanées des colonnes des tables associées. <a href=https://github.com/ClickHouse/ClickHouse/pull/5189 rel="external nofollow noreferrer" target=_blank>#5189</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur <code class=syntax>Set for IN is not created yet in case of using single LowCardinality column in the left part of IN</code>. Cette erreur s'est produite si la colonne LowCardinality était la partie de la clé primaire. #5031 <a href=https://github.com/ClickHouse/ClickHouse/pull/5154 rel="external nofollow noreferrer" target=_blank>#5154</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Modification de la fonction de rétention: si une ligne satisfait à la fois la première et la nième condition, seule la première condition satisfaite est ajoutée à l'état des données. Maintenant, toutes les conditions qui satisfont dans une rangée de données sont ajoutées à l'état des données. <a href=https://github.com/ClickHouse/ClickHouse/pull/5119 rel="external nofollow noreferrer" target=_blank>#5119</a> (<a href=https://github.com/nicelulu rel="external nofollow noreferrer" target=_blank>小路</a>)</li></ul><h3 id=clickhouse-release-19-5-3-8-2019-04-18>Clickhouse Version 19.5.3.8, 2019-04-18<a class=headerlink href=../amp/#clickhouse-release-19-5-3-8-2019-04-18 title="Permanent link"> </a></h3><h4 id=bug-fixes-6>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-6 title="Permanent link"> </a></h4><ul><li>Type de réglage fixe <code class=syntax>max_partitions_per_insert_block</code> de booléen à UInt64. <a href=https://github.com/ClickHouse/ClickHouse/pull/5028 rel="external nofollow noreferrer" target=_blank>#5028</a> (<a href=https://github.com/mhsekhavat rel="external nofollow noreferrer" target=_blank>Mohammad Hossein Sekhavat</a>)</li></ul><h3 id=clickhouse-release-19-5-2-6-2019-04-15>Clickhouse Version 19.5.2.6, 2019-04-15<a class=headerlink href=../amp/#clickhouse-release-19-5-2-6-2019-04-15 title="Permanent link"> </a></h3><h4 id=new-features-4>Nouveauté<a class=headerlink href=../amp/#new-features-4 title="Permanent link"> </a></h4><ul><li><a href=https://github.com/intel/hyperscan rel="external nofollow noreferrer" target=_blank>Hyperscan</a> plusieurs expressions rationnelles a été ajouté (fonctions <code class=syntax>multiMatchAny</code>, <code class=syntax>multiMatchAnyIndex</code>, <code class=syntax>multiFuzzyMatchAny</code>, <code class=syntax>multiFuzzyMatchAnyIndex</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4780 rel="external nofollow noreferrer" target=_blank>#4780</a>, <a href=https://github.com/ClickHouse/ClickHouse/pull/4841 rel="external nofollow noreferrer" target=_blank>#4841</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li><code class=syntax>multiSearchFirstPosition</code> la fonction a été ajoutée. <a href=https://github.com/ClickHouse/ClickHouse/pull/4780 rel="external nofollow noreferrer" target=_blank>#4780</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Implémentez le filtre d'expression prédéfini par ligne pour les tables. <a href=https://github.com/ClickHouse/ClickHouse/pull/4792 rel="external nofollow noreferrer" target=_blank>#4792</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Un nouveau type d'indices de saut de données basés sur des filtres bloom (peut être utilisé pour <code class=syntax>equal</code>, <code class=syntax>in</code> et <code class=syntax>like</code> fonction). <a href=https://github.com/ClickHouse/ClickHouse/pull/4499 rel="external nofollow noreferrer" target=_blank>#4499</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Ajouter <code class=syntax>ASOF JOIN</code> ce qui permet d'exécuter des requêtes, qui se joignent à la valeur la plus récente connue. <a href=https://github.com/ClickHouse/ClickHouse/pull/4774 rel="external nofollow noreferrer" target=_blank>#4774</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4867 rel="external nofollow noreferrer" target=_blank>#4867</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4863 rel="external nofollow noreferrer" target=_blank>#4863</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4875 rel="external nofollow noreferrer" target=_blank>#4875</a> (<a href=https://github.com/Gladdy rel="external nofollow noreferrer" target=_blank>Martijn Bakker</a>, <a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Réécrire plusieurs <code class=syntax>COMMA JOIN</code> de <code class=syntax>CROSS JOIN</code>. Puis réécrire <code class=syntax>INNER JOIN</code> si cela est possible. <a href=https://github.com/ClickHouse/ClickHouse/pull/4661 rel="external nofollow noreferrer" target=_blank>#4661</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=improvement-9>Amélioration<a class=headerlink href=../amp/#improvement-9 title="Permanent link"> </a></h4><ul><li><code class=syntax>topK</code> et <code class=syntax>topKWeighted</code> prend désormais en charge personnalisée <code class=syntax>loadFactor</code> (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/4252 rel="external nofollow noreferrer" target=_blank>#4252</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4634 rel="external nofollow noreferrer" target=_blank>#4634</a> (<a href=https://github.com/kirillDanshin rel="external nofollow noreferrer" target=_blank>Kirill Danshin</a>)</li><li>Permettre d'utiliser <code class=syntax>parallel_replicas_count &gt; 1</code> même pour les tables sans échantillonnage (le paramètre est simplement ignoré pour elles). Dans les versions précédentes, il a été conduit à l'exception. <a href=https://github.com/ClickHouse/ClickHouse/pull/4637 rel="external nofollow noreferrer" target=_blank>#4637</a> (<a href=https://github.com/digitalist rel="external nofollow noreferrer" target=_blank>Alexey Elymanov</a>)</li><li>Soutien pour <code class=syntax>CREATE OR REPLACE VIEW</code>. Permettent de créer un afficher ou définir une nouvelle définition dans un seul énoncé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4654 rel="external nofollow noreferrer" target=_blank>#4654</a> (<a href=https://github.com/bgranvea rel="external nofollow noreferrer" target=_blank>Boris Granveaud</a>)</li><li><code class=syntax>Buffer</code> tableau moteur prend désormais en charge <code class=syntax>PREWHERE</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4671 rel="external nofollow noreferrer" target=_blank>#4671</a> (<a href=https://github.com/LiuYangkuan rel="external nofollow noreferrer" target=_blank>Yangkuan Liu</a>)</li><li>Ajouter la possibilité de démarrer la table répliquée sans métadonnées dans zookeeper dans <code class=syntax>readonly</code> mode. <a href=https://github.com/ClickHouse/ClickHouse/pull/4691 rel="external nofollow noreferrer" target=_blank>#4691</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction du scintillement de la barre de progression dans clickhouse-client. Le problème était le plus perceptible lors de l'utilisation <code class=syntax>FORMAT Null</code> avec des flux de requêtes. <a href=https://github.com/ClickHouse/ClickHouse/pull/4811 rel="external nofollow noreferrer" target=_blank>#4811</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Permettent de désactiver les fonctions avec <code class=syntax>hyperscan</code> bibliothèque par utilisateur pour limiter l'utilisation potentiellement excessive et incontrôlée des ressources. <a href=https://github.com/ClickHouse/ClickHouse/pull/4816 rel="external nofollow noreferrer" target=_blank>#4816</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter le numéro de version se connectant à toutes les erreurs. <a href=https://github.com/ClickHouse/ClickHouse/pull/4824 rel="external nofollow noreferrer" target=_blank>#4824</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout d'une restriction à la <code class=syntax>multiMatch</code> fonctions qui nécessite une taille de chaîne pour s'adapter à <code class=syntax>unsigned int</code>. A également ajouté le nombre d'arguments limite à la <code class=syntax>multiSearch</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4834 rel="external nofollow noreferrer" target=_blank>#4834</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Amélioration de l'utilisation de l'espace scratch et de la gestion des erreurs dans Hyperscan. <a href=https://github.com/ClickHouse/ClickHouse/pull/4866 rel="external nofollow noreferrer" target=_blank>#4866</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Remplir <code class=syntax>system.graphite_detentions</code> à partir d'une table de config <code class=syntax>*GraphiteMergeTree</code> le moteur de tables. <a href=https://github.com/ClickHouse/ClickHouse/pull/4584 rel="external nofollow noreferrer" target=_blank>#4584</a> (<a href=https://github.com/Felixoid rel="external nofollow noreferrer" target=_blank>Mikhail f. Shiryaev</a>)</li><li>Renommer <code class=syntax>trigramDistance</code> la fonction de <code class=syntax>ngramDistance</code> et d'ajouter plus de fonctions avec <code class=syntax>CaseInsensitive</code> et <code class=syntax>UTF</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4602 rel="external nofollow noreferrer" target=_blank>#4602</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Amélioration du calcul des indices de saut de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/4640 rel="external nofollow noreferrer" target=_blank>#4640</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Garder ordinaire, <code class=syntax>DEFAULT</code>, <code class=syntax>MATERIALIZED</code> et <code class=syntax>ALIAS</code> colonnes dans une seule liste (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/2867 rel="external nofollow noreferrer" target=_blank>#2867</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4707 rel="external nofollow noreferrer" target=_blank>#4707</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li></ul><h4 id=bug-fix-26>Bug Fix<a class=headerlink href=../amp/#bug-fix-26 title="Permanent link"> </a></h4><ul><li>Éviter <code class=syntax>std::terminate</code> en cas d'échec d'allocation de mémoire. Maintenant <code class=syntax>std::bad_alloc</code> exception est levée comme prévu. <a href=https://github.com/ClickHouse/ClickHouse/pull/4665 rel="external nofollow noreferrer" target=_blank>#4665</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corrige la lecture de capnproto à partir du tampon. Parfois, les fichiers N'ont pas été chargés avec succès par HTTP. <a href=https://github.com/ClickHouse/ClickHouse/pull/4674 rel="external nofollow noreferrer" target=_blank>#4674</a> (<a href=https://github.com/smirnov-vs rel="external nofollow noreferrer" target=_blank>Vladislav</a>)</li><li>Correction d'erreur <code class=syntax>Unknown log entry type: 0</code> après <code class=syntax>OPTIMIZE TABLE FINAL</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/4683 rel="external nofollow noreferrer" target=_blank>#4683</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Mauvais arguments <code class=syntax>hasAny</code> ou <code class=syntax>hasAll</code> fonctions peut conduire à l'erreur de segmentation. <a href=https://github.com/ClickHouse/ClickHouse/pull/4698 rel="external nofollow noreferrer" target=_blank>#4698</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Blocage peut se produire lors de l'exécution <code class=syntax>DROP DATABASE dictionary</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/4701 rel="external nofollow noreferrer" target=_blank>#4701</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corriger un comportement indéfini dans <code class=syntax>median</code> et <code class=syntax>quantile</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4702 rel="external nofollow noreferrer" target=_blank>#4702</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Correction de la détection du niveau de compression lorsque <code class=syntax>network_compression_method</code> en minuscules. Cassé dans v19. 1. <a href=https://github.com/ClickHouse/ClickHouse/pull/4706 rel="external nofollow noreferrer" target=_blank>#4706</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de l'ignorance de <code class=syntax>&lt;timezone&gt;UTC&lt;/timezone&gt;</code> paramètre (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/4658 rel="external nofollow noreferrer" target=_blank>#4658</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4718 rel="external nofollow noreferrer" target=_blank>#4718</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Fixer <code class=syntax>histogram</code> comportement de la fonction avec <code class=syntax>Distributed</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/4741 rel="external nofollow noreferrer" target=_blank>#4741</a> (<a href=https://github.com/olegkv rel="external nofollow noreferrer" target=_blank>olegkv</a>)</li><li>Rapport Tsan fixe <code class=syntax>destroy of a locked mutex</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4742 rel="external nofollow noreferrer" target=_blank>#4742</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Rapport Tsan fixe sur l'arrêt en raison de la condition de concurrence dans l'utilisation des journaux système. Correction de l'utilisation potentielle-après-libre à l'arrêt lorsque part_log est activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4758 rel="external nofollow noreferrer" target=_blank>#4758</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixer revérifier les pièces dans <code class=syntax>ReplicatedMergeTreeAlterThread</code> en cas d'erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4772 rel="external nofollow noreferrer" target=_blank>#4772</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Les opérations arithmétiques sur les états de fonction d'agrégat intermédiaire ne fonctionnaient pas pour les arguments constants (tels que les résultats de sous-requête). <a href=https://github.com/ClickHouse/ClickHouse/pull/4776 rel="external nofollow noreferrer" target=_blank>#4776</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Toujours renvoyer les noms de colonne dans les métadonnées. Sinon il est impossible de créer une table avec une colonne nommée <code class=syntax>index</code> (le serveur ne redémarre pas en raison de malformé <code class=syntax>ATTACH</code> requête dans les métadonnées). <a href=https://github.com/ClickHouse/ClickHouse/pull/4782 rel="external nofollow noreferrer" target=_blank>#4782</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un crash dans l' <code class=syntax>ALTER ... MODIFY ORDER BY</code> sur <code class=syntax>Distributed</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/4790 rel="external nofollow noreferrer" target=_blank>#4790</a> (<a href=https://github.com/TCeason rel="external nofollow noreferrer" target=_blank>TCeason</a>)</li><li>Fixer erreur de segmentation dans <code class=syntax>JOIN ON</code> avec l'option <code class=syntax>enable_optimize_predicate_expression</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4794 rel="external nofollow noreferrer" target=_blank>#4794</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Correction d'un bug avec l'ajout d'une ligne étrangère après avoir consommé un message protobuf de Kafka. <a href=https://github.com/ClickHouse/ClickHouse/pull/4808 rel="external nofollow noreferrer" target=_blank>#4808</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction d'un arrêt brutal de <code class=syntax>JOIN</code> sur la colonne non nullable vs nullable. Fixer <code class=syntax>NULLs</code> dans la droite dans <code class=syntax>ANY JOIN</code> + <code class=syntax>join_use_nulls</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4815 rel="external nofollow noreferrer" target=_blank>#4815</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un défaut de segmentation dans <code class=syntax>clickhouse-copier</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4835 rel="external nofollow noreferrer" target=_blank>#4835</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Condition de course fixe dans <code class=syntax>SELECT</code> de <code class=syntax>system.tables</code> si la table est renommée ou modifiée simultanément. <a href=https://github.com/ClickHouse/ClickHouse/pull/4836 rel="external nofollow noreferrer" target=_blank>#4836</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la course de données lors de la récupération d'une partie de données déjà obsolète. <a href=https://github.com/ClickHouse/ClickHouse/pull/4839 rel="external nofollow noreferrer" target=_blank>#4839</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la course de données rares qui peut se produire pendant <code class=syntax>RENAME</code> table de la famille MergeTree. <a href=https://github.com/ClickHouse/ClickHouse/pull/4844 rel="external nofollow noreferrer" target=_blank>#4844</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un défaut de segmentation en fonction <code class=syntax>arrayIntersect</code>. Une erreur de Segmentation pourrait se produire si la fonction était appelée avec des arguments constants et ordinaires mixtes. <a href=https://github.com/ClickHouse/ClickHouse/pull/4847 rel="external nofollow noreferrer" target=_blank>#4847</a> (<a href=https://github.com/fancyqlx rel="external nofollow noreferrer" target=_blank>Lixiang Qian</a>)</li><li>Correction de la lecture de <code class=syntax>Array(LowCardinality)</code> colonne dans de rares cas où la colonne contenait une longue séquence de tableaux vides. <a href=https://github.com/ClickHouse/ClickHouse/pull/4850 rel="external nofollow noreferrer" target=_blank>#4850</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'un crash dans l' <code class=syntax>FULL/RIGHT JOIN</code> lorsque nous rejoignons sur nullable vs non nullable. <a href=https://github.com/ClickHouse/ClickHouse/pull/4855 rel="external nofollow noreferrer" target=_blank>#4855</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixer <code class=syntax>No message received</code> exception lors de la récupération de pièces entre les répliques. <a href=https://github.com/ClickHouse/ClickHouse/pull/4856 rel="external nofollow noreferrer" target=_blank>#4856</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>arrayIntersect</code> fonction mauvais résultat en cas de plusieurs valeurs répétées dans un seul tableau. <a href=https://github.com/ClickHouse/ClickHouse/pull/4871 rel="external nofollow noreferrer" target=_blank>#4871</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'une condition de course pendant <code class=syntax>ALTER COLUMN</code> requêtes qui pourraient conduire à un plantage du serveur (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/3421 rel="external nofollow noreferrer" target=_blank>#3421</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4592 rel="external nofollow noreferrer" target=_blank>#4592</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Correction d'un résultat incorrect dans <code class=syntax>FULL/RIGHT JOIN</code> avec colonne const. <a href=https://github.com/ClickHouse/ClickHouse/pull/4723 rel="external nofollow noreferrer" target=_blank>#4723</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction des doublons dans <code class=syntax>GLOBAL JOIN</code> avec asterisk. <a href=https://github.com/ClickHouse/ClickHouse/pull/4705 rel="external nofollow noreferrer" target=_blank>#4705</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Paramètre correction de la déduction <code class=syntax>ALTER MODIFY</code> de la colonne <code class=syntax>CODEC</code> lorsque le type de colonne n'est pas spécifié. <a href=https://github.com/ClickHouse/ClickHouse/pull/4883 rel="external nofollow noreferrer" target=_blank>#4883</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fonction <code class=syntax>cutQueryStringAndFragment()</code> et <code class=syntax>queryStringAndFragment()</code> fonctionne maintenant correctement quand <code class=syntax>URL</code> contient un fragment et aucune requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/4894 rel="external nofollow noreferrer" target=_blank>#4894</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction d'un bug rare lors du réglage <code class=syntax>min_bytes_to_use_direct_io</code> est supérieur à zéro, ce qui se produit lorsque le thread doit chercher en arrière dans le fichier de colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/4897 rel="external nofollow noreferrer" target=_blank>#4897</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de mauvais types d'arguments pour les fonctions d'agrégation avec <code class=syntax>LowCardinality</code> arguments (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/4919 rel="external nofollow noreferrer" target=_blank>#4919</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4922 rel="external nofollow noreferrer" target=_blank>#4922</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'une qualification de nom incorrecte Dans <code class=syntax>GLOBAL JOIN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4969 rel="external nofollow noreferrer" target=_blank>#4969</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fonction Fix <code class=syntax>toISOWeek</code> résultat pour l'année 1970. <a href=https://github.com/ClickHouse/ClickHouse/pull/4988 rel="external nofollow noreferrer" target=_blank>#4988</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixer <code class=syntax>DROP</code>, <code class=syntax>TRUNCATE</code> et <code class=syntax>OPTIMIZE</code> requêtes duplication, lorsqu'elles sont exécutées sur <code class=syntax>ON CLUSTER</code> pour <code class=syntax>ReplicatedMergeTree*</code> les tables de la famille. <a href=https://github.com/ClickHouse/ClickHouse/pull/4991 rel="external nofollow noreferrer" target=_blank>#4991</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h4 id=backward-incompatible-change-8>Modification Incompatible En Arrière<a class=headerlink href=../amp/#backward-incompatible-change-8 title="Permanent link"> </a></h4><ul><li>Renommer le paramètre <code class=syntax>insert_sample_with_metadata</code> définir <code class=syntax>input_format_defaults_for_omitted_fields</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4771 rel="external nofollow noreferrer" target=_blank>#4771</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Ajout d'un réglage <code class=syntax>max_partitions_per_insert_block</code> (avec la valeur 100 par défaut). Si le bloc inséré contient un plus grand nombre de partitions, une exception est levée. Mettre à 0 si vous souhaitez supprimer la limite (pas recommandé). <a href=https://github.com/ClickHouse/ClickHouse/pull/4845 rel="external nofollow noreferrer" target=_blank>#4845</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Les fonctions multi-recherche ont été renommées (<code class=syntax>multiPosition</code> de <code class=syntax>multiSearchAllPositions</code>, <code class=syntax>multiSearch</code> de <code class=syntax>multiSearchAny</code>, <code class=syntax>firstMatch</code> de <code class=syntax>multiSearchFirstIndex</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4780 rel="external nofollow noreferrer" target=_blank>#4780</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li></ul><h4 id=performance-improvement-6>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvement-6 title="Permanent link"> </a></h4><ul><li>Optimisez volnitsky searcher en inlining, donnant environ 5-10% d'amélioration de la recherche pour les requêtes avec de nombreuses aiguilles ou de nombreux bigrams similaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/4862 rel="external nofollow noreferrer" target=_blank>#4862</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Correction d'un problème de performance lors du réglage <code class=syntax>use_uncompressed_cache</code> est supérieur à zéro, qui est apparu lorsque toutes les données lues contenues dans le cache. <a href=https://github.com/ClickHouse/ClickHouse/pull/4913 rel="external nofollow noreferrer" target=_blank>#4913</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h4 id=buildtestingpackaging-improvement-10>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-10 title="Permanent link"> </a></h4><ul><li>Durcissement debug build: mappages de mémoire plus granulaires et ASLR; ajouter une protection de mémoire pour le cache de marque et l'index. Cela permet de trouver plus de bugs de piétinement de mémoire dans le cas où ASan et MSan ne peuvent pas le faire. <a href=https://github.com/ClickHouse/ClickHouse/pull/4632 rel="external nofollow noreferrer" target=_blank>#4632</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout du support pour les variables cmake <code class=syntax>ENABLE_PROTOBUF</code>, <code class=syntax>ENABLE_PARQUET</code> et <code class=syntax>ENABLE_BROTLI</code> ce qui permet d'activer / désactiver les fonctionnalités ci-dessus (comme nous pouvons le faire pour librdkafka, mysql, etc). <a href=https://github.com/ClickHouse/ClickHouse/pull/4669 rel="external nofollow noreferrer" target=_blank>#4669</a> (<a href=https://github.com/silviucpp rel="external nofollow noreferrer" target=_blank>Silviu Caragea</a>)</li><li>Ajouter la possibilité d'Imprimer la liste des processus et stacktraces de tous les threads si certaines requêtes sont suspendues après l'exécution du test. <a href=https://github.com/ClickHouse/ClickHouse/pull/4675 rel="external nofollow noreferrer" target=_blank>#4675</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter des tentatives sur <code class=syntax>Connection loss</code> erreur dans <code class=syntax>clickhouse-test</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4682 rel="external nofollow noreferrer" target=_blank>#4682</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter freebsd build avec vagrant et construire avec thread sanitizer au script packager. <a href=https://github.com/ClickHouse/ClickHouse/pull/4712 rel="external nofollow noreferrer" target=_blank>#4712</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4748 rel="external nofollow noreferrer" target=_blank>#4748</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Maintenant l'Utilisateur a demandé un mot de passe pour l'utilisateur <code class=syntax>'default'</code> lors de l'installation. <a href=https://github.com/ClickHouse/ClickHouse/pull/4725 rel="external nofollow noreferrer" target=_blank>#4725</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Supprimer l'avertissement dans <code class=syntax>rdkafka</code> bibliothèque. <a href=https://github.com/ClickHouse/ClickHouse/pull/4740 rel="external nofollow noreferrer" target=_blank>#4740</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Permettre la capacité de construire sans ssl. <a href=https://github.com/ClickHouse/ClickHouse/pull/4750 rel="external nofollow noreferrer" target=_blank>#4750</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajouter un moyen de lancer l'image clickhouse-server à partir d'un utilisateur personnalisé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4753 rel="external nofollow noreferrer" target=_blank>#4753</a> (<a href=https://github.com/Felixoid rel="external nofollow noreferrer" target=_blank>Mikhail f. Shiryaev</a>)</li><li>Mise à niveau contrib boost à 1.69. <a href=https://github.com/ClickHouse/ClickHouse/pull/4793 rel="external nofollow noreferrer" target=_blank>#4793</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Désactiver l'utilisation de <code class=syntax>mremap</code> lorsqu'il est compilé avec thread Sanitizer. Étonnamment, TSan n'intercepte pas <code class=syntax>mremap</code> (bien qu'il ne intercepter <code class=syntax>mmap</code>, <code class=syntax>munmap</code>) qui conduit à des faux positifs. Rapport Tsan fixe dans les tests avec État. <a href=https://github.com/ClickHouse/ClickHouse/pull/4859 rel="external nofollow noreferrer" target=_blank>#4859</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter la vérification de test en utilisant le schéma de format via L'interface HTTP. <a href=https://github.com/ClickHouse/ClickHouse/pull/4864 rel="external nofollow noreferrer" target=_blank>#4864</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li></ul><h2 id=clickhouse-release-19-4>Clickhouse Version 19.4<a class=headerlink href=../amp/#clickhouse-release-19-4 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-4-4-33-2019-04-17>Clickhouse Version 19.4.4.33, 2019-04-17<a class=headerlink href=../amp/#clickhouse-release-19-4-4-33-2019-04-17 title="Permanent link"> </a></h3><h4 id=bug-fixes-7>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-7 title="Permanent link"> </a></h4><ul><li>Éviter <code class=syntax>std::terminate</code> en cas d'échec d'allocation de mémoire. Maintenant <code class=syntax>std::bad_alloc</code> exception est levée comme prévu. <a href=https://github.com/ClickHouse/ClickHouse/pull/4665 rel="external nofollow noreferrer" target=_blank>#4665</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corrige la lecture de capnproto à partir du tampon. Parfois, les fichiers N'ont pas été chargés avec succès par HTTP. <a href=https://github.com/ClickHouse/ClickHouse/pull/4674 rel="external nofollow noreferrer" target=_blank>#4674</a> (<a href=https://github.com/smirnov-vs rel="external nofollow noreferrer" target=_blank>Vladislav</a>)</li><li>Correction d'erreur <code class=syntax>Unknown log entry type: 0</code> après <code class=syntax>OPTIMIZE TABLE FINAL</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/4683 rel="external nofollow noreferrer" target=_blank>#4683</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Mauvais arguments <code class=syntax>hasAny</code> ou <code class=syntax>hasAll</code> fonctions peut conduire à l'erreur de segmentation. <a href=https://github.com/ClickHouse/ClickHouse/pull/4698 rel="external nofollow noreferrer" target=_blank>#4698</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Blocage peut se produire lors de l'exécution <code class=syntax>DROP DATABASE dictionary</code> requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/4701 rel="external nofollow noreferrer" target=_blank>#4701</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corriger un comportement indéfini dans <code class=syntax>median</code> et <code class=syntax>quantile</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4702 rel="external nofollow noreferrer" target=_blank>#4702</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li><li>Correction de la détection du niveau de compression lorsque <code class=syntax>network_compression_method</code> en minuscules. Cassé dans v19. 1. <a href=https://github.com/ClickHouse/ClickHouse/pull/4706 rel="external nofollow noreferrer" target=_blank>#4706</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de l'ignorance de <code class=syntax>&lt;timezone&gt;UTC&lt;/timezone&gt;</code> paramètre (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/4658 rel="external nofollow noreferrer" target=_blank>#4658</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4718 rel="external nofollow noreferrer" target=_blank>#4718</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Fixer <code class=syntax>histogram</code> comportement de la fonction avec <code class=syntax>Distributed</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/4741 rel="external nofollow noreferrer" target=_blank>#4741</a> (<a href=https://github.com/olegkv rel="external nofollow noreferrer" target=_blank>olegkv</a>)</li><li>Rapport Tsan fixe <code class=syntax>destroy of a locked mutex</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4742 rel="external nofollow noreferrer" target=_blank>#4742</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Rapport Tsan fixe sur l'arrêt en raison de la condition de concurrence dans l'utilisation des journaux système. Correction de l'utilisation potentielle-après-libre à l'arrêt lorsque part_log est activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4758 rel="external nofollow noreferrer" target=_blank>#4758</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixer revérifier les pièces dans <code class=syntax>ReplicatedMergeTreeAlterThread</code> en cas d'erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4772 rel="external nofollow noreferrer" target=_blank>#4772</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Les opérations arithmétiques sur les états de fonction d'agrégat intermédiaire ne fonctionnaient pas pour les arguments constants (tels que les résultats de sous-requête). <a href=https://github.com/ClickHouse/ClickHouse/pull/4776 rel="external nofollow noreferrer" target=_blank>#4776</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Toujours renvoyer les noms de colonne dans les métadonnées. Sinon il est impossible de créer une table avec une colonne nommée <code class=syntax>index</code> (le serveur ne redémarre pas en raison de malformé <code class=syntax>ATTACH</code> requête dans les métadonnées). <a href=https://github.com/ClickHouse/ClickHouse/pull/4782 rel="external nofollow noreferrer" target=_blank>#4782</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un crash dans l' <code class=syntax>ALTER ... MODIFY ORDER BY</code> sur <code class=syntax>Distributed</code> table. <a href=https://github.com/ClickHouse/ClickHouse/pull/4790 rel="external nofollow noreferrer" target=_blank>#4790</a> (<a href=https://github.com/TCeason rel="external nofollow noreferrer" target=_blank>TCeason</a>)</li><li>Fixer erreur de segmentation dans <code class=syntax>JOIN ON</code> avec l'option <code class=syntax>enable_optimize_predicate_expression</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4794 rel="external nofollow noreferrer" target=_blank>#4794</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Correction d'un bug avec l'ajout d'une ligne étrangère après avoir consommé un message protobuf de Kafka. <a href=https://github.com/ClickHouse/ClickHouse/pull/4808 rel="external nofollow noreferrer" target=_blank>#4808</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction d'un défaut de segmentation dans <code class=syntax>clickhouse-copier</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4835 rel="external nofollow noreferrer" target=_blank>#4835</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Condition de course fixe dans <code class=syntax>SELECT</code> de <code class=syntax>system.tables</code> si la table est renommée ou modifiée simultanément. <a href=https://github.com/ClickHouse/ClickHouse/pull/4836 rel="external nofollow noreferrer" target=_blank>#4836</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la course de données lors de la récupération d'une partie de données déjà obsolète. <a href=https://github.com/ClickHouse/ClickHouse/pull/4839 rel="external nofollow noreferrer" target=_blank>#4839</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la course de données rares qui peut se produire pendant <code class=syntax>RENAME</code> table de la famille MergeTree. <a href=https://github.com/ClickHouse/ClickHouse/pull/4844 rel="external nofollow noreferrer" target=_blank>#4844</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un défaut de segmentation en fonction <code class=syntax>arrayIntersect</code>. Une erreur de Segmentation pourrait se produire si la fonction était appelée avec des arguments constants et ordinaires mixtes. <a href=https://github.com/ClickHouse/ClickHouse/pull/4847 rel="external nofollow noreferrer" target=_blank>#4847</a> (<a href=https://github.com/fancyqlx rel="external nofollow noreferrer" target=_blank>Lixiang Qian</a>)</li><li>Correction de la lecture de <code class=syntax>Array(LowCardinality)</code> colonne dans de rares cas où la colonne contenait une longue séquence de tableaux vides. <a href=https://github.com/ClickHouse/ClickHouse/pull/4850 rel="external nofollow noreferrer" target=_blank>#4850</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Fixer <code class=syntax>No message received</code> exception lors de la récupération de pièces entre les répliques. <a href=https://github.com/ClickHouse/ClickHouse/pull/4856 rel="external nofollow noreferrer" target=_blank>#4856</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>arrayIntersect</code> fonction mauvais résultat en cas de plusieurs valeurs répétées dans un seul tableau. <a href=https://github.com/ClickHouse/ClickHouse/pull/4871 rel="external nofollow noreferrer" target=_blank>#4871</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'une condition de course pendant <code class=syntax>ALTER COLUMN</code> requêtes qui pourraient conduire à un plantage du serveur (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/3421 rel="external nofollow noreferrer" target=_blank>#3421</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4592 rel="external nofollow noreferrer" target=_blank>#4592</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Paramètre correction de la déduction <code class=syntax>ALTER MODIFY</code> de la colonne <code class=syntax>CODEC</code> lorsque le type de colonne n'est pas spécifié. <a href=https://github.com/ClickHouse/ClickHouse/pull/4883 rel="external nofollow noreferrer" target=_blank>#4883</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fonction <code class=syntax>cutQueryStringAndFragment()</code> et <code class=syntax>queryStringAndFragment()</code> fonctionne maintenant correctement quand <code class=syntax>URL</code> contient un fragment et aucune requête. <a href=https://github.com/ClickHouse/ClickHouse/pull/4894 rel="external nofollow noreferrer" target=_blank>#4894</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Correction d'un bug rare lors du réglage <code class=syntax>min_bytes_to_use_direct_io</code> est supérieur à zéro, ce qui se produit lorsque le thread doit chercher en arrière dans le fichier de colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/4897 rel="external nofollow noreferrer" target=_blank>#4897</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de mauvais types d'arguments pour les fonctions d'agrégation avec <code class=syntax>LowCardinality</code> arguments (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/4919 rel="external nofollow noreferrer" target=_blank>#4919</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4922 rel="external nofollow noreferrer" target=_blank>#4922</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Fonction Fix <code class=syntax>toISOWeek</code> résultat pour l'année 1970. <a href=https://github.com/ClickHouse/ClickHouse/pull/4988 rel="external nofollow noreferrer" target=_blank>#4988</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixer <code class=syntax>DROP</code>, <code class=syntax>TRUNCATE</code> et <code class=syntax>OPTIMIZE</code> requêtes duplication, lorsqu'elles sont exécutées sur <code class=syntax>ON CLUSTER</code> pour <code class=syntax>ReplicatedMergeTree*</code> les tables de la famille. <a href=https://github.com/ClickHouse/ClickHouse/pull/4991 rel="external nofollow noreferrer" target=_blank>#4991</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li></ul><h4 id=improvements-2>Amélioration<a class=headerlink href=../amp/#improvements-2 title="Permanent link"> </a></h4><ul><li>Garder ordinaire, <code class=syntax>DEFAULT</code>, <code class=syntax>MATERIALIZED</code> et <code class=syntax>ALIAS</code> colonnes dans une seule liste (corrige le problème <a href=https://github.com/ClickHouse/ClickHouse/issues/2867 rel="external nofollow noreferrer" target=_blank>#2867</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4707 rel="external nofollow noreferrer" target=_blank>#4707</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li></ul><h3 id=clickhouse-release-19-4-3-11-2019-04-02>Clickhouse Version 19.4.3.11, 2019-04-02<a class=headerlink href=../amp/#clickhouse-release-19-4-3-11-2019-04-02 title="Permanent link"> </a></h3><h4 id=bug-fixes-8>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-8 title="Permanent link"> </a></h4><ul><li>Correction d'un crash dans l' <code class=syntax>FULL/RIGHT JOIN</code> lorsque nous rejoignons sur nullable vs non nullable. <a href=https://github.com/ClickHouse/ClickHouse/pull/4855 rel="external nofollow noreferrer" target=_blank>#4855</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un défaut de segmentation dans <code class=syntax>clickhouse-copier</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4835 rel="external nofollow noreferrer" target=_blank>#4835</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=buildtestingpackaging-improvement-11>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-11 title="Permanent link"> </a></h4><ul><li>Ajouter un moyen de lancer l'image clickhouse-server à partir d'un utilisateur personnalisé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4753 rel="external nofollow noreferrer" target=_blank>#4753</a> (<a href=https://github.com/Felixoid rel="external nofollow noreferrer" target=_blank>Mikhail f. Shiryaev</a>)</li></ul><h3 id=clickhouse-release-19-4-2-7-2019-03-30>Clickhouse Version 19.4.2.7, 2019-03-30<a class=headerlink href=../amp/#clickhouse-release-19-4-2-7-2019-03-30 title="Permanent link"> </a></h3><h4 id=bug-fixes-9>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-9 title="Permanent link"> </a></h4><ul><li>Correction de la lecture de <code class=syntax>Array(LowCardinality)</code> colonne dans de rares cas où la colonne contenait une longue séquence de tableaux vides. <a href=https://github.com/ClickHouse/ClickHouse/pull/4850 rel="external nofollow noreferrer" target=_blank>#4850</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li></ul><h3 id=clickhouse-release-19-4-1-3-2019-03-19>Clickhouse Version 19.4.1.3, 2019-03-19<a class=headerlink href=../amp/#clickhouse-release-19-4-1-3-2019-03-19 title="Permanent link"> </a></h3><h4 id=bug-fixes-10>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-10 title="Permanent link"> </a></h4><ul><li>Correction des requêtes distantes qui contiennent les deux <code class=syntax>LIMIT BY</code> et <code class=syntax>LIMIT</code>. Auparavant, si <code class=syntax>LIMIT BY</code> et <code class=syntax>LIMIT</code> ont été utilisés pour la requête distante, <code class=syntax>LIMIT</code> ça pourrait arriver avant <code class=syntax>LIMIT BY</code>, ce qui a conduit à un résultat trop filtré. <a href=https://github.com/ClickHouse/ClickHouse/pull/4708 rel="external nofollow noreferrer" target=_blank>#4708</a> (<a href=https://github.com/kvap rel="external nofollow noreferrer" target=_blank>Constantin S. Pan</a>)</li></ul><h3 id=clickhouse-release-19-4-0-49-2019-03-09>Clickhouse Version 19.4.0.49, 2019-03-09<a class=headerlink href=../amp/#clickhouse-release-19-4-0-49-2019-03-09 title="Permanent link"> </a></h3><h4 id=new-features-5>Nouveauté<a class=headerlink href=../amp/#new-features-5 title="Permanent link"> </a></h4><ul><li>Ajout d'un support complet pour <code class=syntax>Protobuf</code> format (entrée et sortie, structures de données imbriquées). <a href=https://github.com/ClickHouse/ClickHouse/pull/4174 rel="external nofollow noreferrer" target=_blank>#4174</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4493 rel="external nofollow noreferrer" target=_blank>#4493</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Ajout de fonctions bitmap avec des bitmaps rugissants. <a href=https://github.com/ClickHouse/ClickHouse/pull/4207 rel="external nofollow noreferrer" target=_blank>#4207</a> (<a href=https://github.com/andyyzh rel="external nofollow noreferrer" target=_blank>Andy Yang</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/4568 rel="external nofollow noreferrer" target=_blank>#4568</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Support du format Parquet. <a href=https://github.com/ClickHouse/ClickHouse/pull/4448 rel="external nofollow noreferrer" target=_blank>#4448</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>La distance de n-gramme a été ajoutée pour la comparaison de chaîne floue. Il est similaire aux métriques Q-gram en langage R. <a href=https://github.com/ClickHouse/ClickHouse/pull/4466 rel="external nofollow noreferrer" target=_blank>#4466</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Combinez des règles pour le cumul de graphite à partir de modèles d'agrégation et de rétention dédiés. <a href=https://github.com/ClickHouse/ClickHouse/pull/4426 rel="external nofollow noreferrer" target=_blank>#4426</a> (<a href=https://github.com/Felixoid rel="external nofollow noreferrer" target=_blank>Mikhail f. Shiryaev</a>)</li><li>Ajouter <code class=syntax>max_execution_speed</code> et <code class=syntax>max_execution_speed_bytes</code> pour limiter l'utilisation des ressources. Ajouter <code class=syntax>min_execution_speed_bytes</code> réglage pour compléter le <code class=syntax>min_execution_speed</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4430 rel="external nofollow noreferrer" target=_blank>#4430</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Mise en œuvre de la fonction <code class=syntax>flatten</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4555 rel="external nofollow noreferrer" target=_blank>#4555</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4409 rel="external nofollow noreferrer" target=_blank>#4409</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>, <a href=https://github.com/kzon rel="external nofollow noreferrer" target=_blank>kzon</a>)</li><li>L'ajout de fonctions <code class=syntax>arrayEnumerateDenseRanked</code> et <code class=syntax>arrayEnumerateUniqRanked</code> (c'est comme <code class=syntax>arrayEnumerateUniq</code> mais permet d'affiner la profondeur du tableau pour regarder à l'intérieur des tableaux multidimensionnels). <a href=https://github.com/ClickHouse/ClickHouse/pull/4475 rel="external nofollow noreferrer" target=_blank>#4475</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>) <a href=https://github.com/ClickHouse/ClickHouse/pull/4601 rel="external nofollow noreferrer" target=_blank>#4601</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Multiple JOINS with some restrictions: no asterisks, no complex aliases in ON/WHERE/GROUP BY/… <a href=https://github.com/ClickHouse/ClickHouse/pull/4462 rel="external nofollow noreferrer" target=_blank>#4462</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=bug-fixes-11>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-11 title="Permanent link"> </a></h4><ul><li>Cette version contient également toutes les corrections de bugs de 19.3 et 19.1.</li><li>Correction d'un bug dans les indices de saut de données: l'ordre des granules après L'insertion était incorrect. <a href=https://github.com/ClickHouse/ClickHouse/pull/4407 rel="external nofollow noreferrer" target=_blank>#4407</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Fixe <code class=syntax>set</code> indice pour <code class=syntax>Nullable</code> et <code class=syntax>LowCardinality</code> colonne. Avant d', <code class=syntax>set</code> index avec <code class=syntax>Nullable</code> ou <code class=syntax>LowCardinality</code> colonne a conduit à l'erreur <code class=syntax>Data type must be deserialized with multiple streams</code> lors de la sélection. <a href=https://github.com/ClickHouse/ClickHouse/pull/4594 rel="external nofollow noreferrer" target=_blank>#4594</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Définir correctement update_time sur full <code class=syntax>executable</code> dictionnaire de mise à jour. <a href=https://github.com/ClickHouse/ClickHouse/pull/4551 rel="external nofollow noreferrer" target=_blank>#4551</a> (<a href=https://github.com/temoon rel="external nofollow noreferrer" target=_blank>Tema Novikov</a>)</li><li>Correction de la barre de progression cassée dans 19.3. <a href=https://github.com/ClickHouse/ClickHouse/pull/4627 rel="external nofollow noreferrer" target=_blank>#4627</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Correction de valeurs incohérentes de MemoryTracker lorsque la région de mémoire a été réduite, dans certains cas. <a href=https://github.com/ClickHouse/ClickHouse/pull/4619 rel="external nofollow noreferrer" target=_blank>#4619</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un comportement indéfini dans ThreadPool. <a href=https://github.com/ClickHouse/ClickHouse/pull/4612 rel="external nofollow noreferrer" target=_blank>#4612</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un crash très rare avec le message <code class=syntax>mutex lock failed: Invalid argument</code> cela peut se produire lorsqu'une table MergeTree a été supprimée simultanément avec un SELECT. <a href=https://github.com/ClickHouse/ClickHouse/pull/4608 rel="external nofollow noreferrer" target=_blank>#4608</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Compatibilité du pilote ODBC avec <code class=syntax>LowCardinality</code> type de données. <a href=https://github.com/ClickHouse/ClickHouse/pull/4381 rel="external nofollow noreferrer" target=_blank>#4381</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>FreeBSD: correction pour <code class=syntax>AIOcontextPool: Found io_event with unknown id 0</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4438 rel="external nofollow noreferrer" target=_blank>#4438</a> (<a href=https://github.com/urgordeadbeef rel="external nofollow noreferrer" target=_blank>urgordeadbeef</a>)</li><li><code class=syntax>system.part_log</code> table a été créée, indépendamment de la configuration. <a href=https://github.com/ClickHouse/ClickHouse/pull/4483 rel="external nofollow noreferrer" target=_blank>#4483</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du comportement indéfini dans <code class=syntax>dictIsIn</code> fonction pour les dictionnaires de cache. <a href=https://github.com/ClickHouse/ClickHouse/pull/4515 rel="external nofollow noreferrer" target=_blank>#4515</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixed a deadlock when a SELECT query locks the same table multiple times (e.g. from different threads or when executing multiple subqueries) and there is a concurrent DDL query. <a href=https://github.com/ClickHouse/ClickHouse/pull/4535 rel="external nofollow noreferrer" target=_blank>#4535</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Désactiver compile_expressions par défaut jusqu'à ce que nous obtenions propre <code class=syntax>llvm</code> contrib et peut le tester avec <code class=syntax>clang</code> et <code class=syntax>asan</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4579 rel="external nofollow noreferrer" target=_blank>#4579</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Empêcher <code class=syntax>std::terminate</code> lorsque <code class=syntax>invalidate_query</code> pour <code class=syntax>clickhouse</code> externe dictionnaire source a retourné mauvais jeu de résultats (vide ou plusieurs lignes ou plusieurs colonnes). Correction d'un problème lors de l' <code class=syntax>invalidate_query</code> a été effectuée toutes les cinq secondes quel que soit le <code class=syntax>lifetime</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4583 rel="external nofollow noreferrer" target=_blank>#4583</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Éviter l'impasse lorsque le <code class=syntax>invalidate_query</code> pour un dictionnaire avec <code class=syntax>clickhouse</code> source était impliquant <code class=syntax>system.dictionaries</code> table ou <code class=syntax>Dictionaries</code> base de données (cas rare). <a href=https://github.com/ClickHouse/ClickHouse/pull/4599 rel="external nofollow noreferrer" target=_blank>#4599</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corrections pour CROSS JOIN avec vide où. <a href=https://github.com/ClickHouse/ClickHouse/pull/4598 rel="external nofollow noreferrer" target=_blank>#4598</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixe erreur de segmentation en fonction “replicate” lorsque l'argument constant est passé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4603 rel="external nofollow noreferrer" target=_blank>#4603</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de la fonction lambda avec l'optimiseur de prédicats. <a href=https://github.com/ClickHouse/ClickHouse/pull/4408 rel="external nofollow noreferrer" target=_blank>#4408</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Plusieurs jointures plusieurs correctifs. <a href=https://github.com/ClickHouse/ClickHouse/pull/4595 rel="external nofollow noreferrer" target=_blank>#4595</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=improvements-3>Amélioration<a class=headerlink href=../amp/#improvements-3 title="Permanent link"> </a></h4><ul><li>Prend en charge les alias dans la section JOIN ON pour les colonnes de la table droite. <a href=https://github.com/ClickHouse/ClickHouse/pull/4412 rel="external nofollow noreferrer" target=_blank>#4412</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Le résultat de plusieurs jointures nécessite des noms de résultats corrects à utiliser dans les sous-sélections. Remplacez les alias plats par des noms de source dans le résultat. <a href=https://github.com/ClickHouse/ClickHouse/pull/4474 rel="external nofollow noreferrer" target=_blank>#4474</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Améliorer la logique push-down pour les instructions jointes. <a href=https://github.com/ClickHouse/ClickHouse/pull/4387 rel="external nofollow noreferrer" target=_blank>#4387</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h4 id=performance-improvements-3>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvements-3 title="Permanent link"> </a></h4><ul><li>Heuristiques améliorées de “move to PREWHERE” optimisation. <a href=https://github.com/ClickHouse/ClickHouse/pull/4405 rel="external nofollow noreferrer" target=_blank>#4405</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Utilisez des tables de recherche appropriées qui utilisent L'API de HashTable pour les clés 8 bits et 16 bits. <a href=https://github.com/ClickHouse/ClickHouse/pull/4536 rel="external nofollow noreferrer" target=_blank>#4536</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Amélioration des performances de la comparaison de chaînes. <a href=https://github.com/ClickHouse/ClickHouse/pull/4564 rel="external nofollow noreferrer" target=_blank>#4564</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Nettoyage de la file D'attente DDL distribuée dans un thread séparé afin de ne pas ralentir la boucle principale qui traite les tâches DDL distribuées. <a href=https://github.com/ClickHouse/ClickHouse/pull/4502 rel="external nofollow noreferrer" target=_blank>#4502</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Lorsque <code class=syntax>min_bytes_to_use_direct_io</code> est défini sur 1, Tous les fichiers n'ont pas été ouverts avec le mode O_DIRECT car la taille des données à lire était parfois sous-estimée par la taille d'un bloc compressé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4526 rel="external nofollow noreferrer" target=_blank>#4526</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=buildtestingpackaging-improvement-12>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-12 title="Permanent link"> </a></h4><ul><li>Ajout du support pour clang-9 <a href=https://github.com/ClickHouse/ClickHouse/pull/4604 rel="external nofollow noreferrer" target=_blank>#4604</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corrigé de mal <code class=syntax>__asm__</code> instructions (encore une fois) <a href=https://github.com/ClickHouse/ClickHouse/pull/4621 rel="external nofollow noreferrer" target=_blank>#4621</a> (<a href=https://github.com/podshumok rel="external nofollow noreferrer" target=_blank>Konstantin Podshumok</a>)</li><li>Ajouter la possibilité de spécifier les paramètres pour <code class=syntax>clickhouse-performance-test</code> à partir de la ligne de commande. <a href=https://github.com/ClickHouse/ClickHouse/pull/4437 rel="external nofollow noreferrer" target=_blank>#4437</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter des tests de dictionnaires aux tests d'intégration. <a href=https://github.com/ClickHouse/ClickHouse/pull/4477 rel="external nofollow noreferrer" target=_blank>#4477</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajout de requêtes du benchmark sur le site web à des tests de performance automatisés. <a href=https://github.com/ClickHouse/ClickHouse/pull/4496 rel="external nofollow noreferrer" target=_blank>#4496</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>xxhash.h</code> n'existe pas dans LZ4 externe car il s'agit d'un détail d'implémentation et ses symboles sont <code class=syntax>XXH_NAMESPACE</code> macro. Lorsque lz4 est externe, xxHash doit aussi être externe, et les personnes à charge doivent y accéder. <a href=https://github.com/ClickHouse/ClickHouse/pull/4495 rel="external nofollow noreferrer" target=_blank>#4495</a> (<a href=https://github.com/orivej rel="external nofollow noreferrer" target=_blank>Orivej Desh</a>)</li><li>Correction d'un cas lorsque <code class=syntax>quantileTiming</code> la fonction d'agrégation peut être appelée avec un argument négatif ou à virgule flottante (cela corrige le test fuzz avec un désinfectant de comportement indéfini). <a href=https://github.com/ClickHouse/ClickHouse/pull/4506 rel="external nofollow noreferrer" target=_blank>#4506</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'erreur d'orthographe. <a href=https://github.com/ClickHouse/ClickHouse/pull/4531 rel="external nofollow noreferrer" target=_blank>#4531</a> (<a href=https://github.com/sdk2 rel="external nofollow noreferrer" target=_blank>sdk2</a>)</li><li>Correction de la compilation sur Mac. <a href=https://github.com/ClickHouse/ClickHouse/pull/4371 rel="external nofollow noreferrer" target=_blank>#4371</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Corrections de construction Pour FreeBSD et diverses configurations de construction inhabituelles. <a href=https://github.com/ClickHouse/ClickHouse/pull/4444 rel="external nofollow noreferrer" target=_blank>#4444</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h2 id=clickhouse-release-19-3>Clickhouse Version 19.3<a class=headerlink href=../amp/#clickhouse-release-19-3 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-3-9-1-2019-04-02>Clickhouse Version 19.3.9.1, 2019-04-02<a class=headerlink href=../amp/#clickhouse-release-19-3-9-1-2019-04-02 title="Permanent link"> </a></h3><h4 id=bug-fixes-12>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-12 title="Permanent link"> </a></h4><ul><li>Correction d'un crash dans l' <code class=syntax>FULL/RIGHT JOIN</code> lorsque nous rejoignons sur nullable vs non nullable. <a href=https://github.com/ClickHouse/ClickHouse/pull/4855 rel="external nofollow noreferrer" target=_blank>#4855</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un défaut de segmentation dans <code class=syntax>clickhouse-copier</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4835 rel="external nofollow noreferrer" target=_blank>#4835</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de la lecture de <code class=syntax>Array(LowCardinality)</code> colonne dans de rares cas où la colonne contenait une longue séquence de tableaux vides. <a href=https://github.com/ClickHouse/ClickHouse/pull/4850 rel="external nofollow noreferrer" target=_blank>#4850</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li></ul><h4 id=buildtestingpackaging-improvement-13>Construction / Test / Amélioration De L'Emballage<a class=headerlink href=../amp/#buildtestingpackaging-improvement-13 title="Permanent link"> </a></h4><ul><li>Ajouter un moyen de lancer l'image clickhouse-server à partir d'un utilisateur personnalisé <a href=https://github.com/ClickHouse/ClickHouse/pull/4753 rel="external nofollow noreferrer" target=_blank>#4753</a> (<a href=https://github.com/Felixoid rel="external nofollow noreferrer" target=_blank>Mikhail f. Shiryaev</a>)</li></ul><h3 id=clickhouse-release-19-3-7-2019-03-12>Clickhouse Version 19.3.7, 2019-03-12<a class=headerlink href=../amp/#clickhouse-release-19-3-7-2019-03-12 title="Permanent link"> </a></h3><h4 id=bug-fixes-13>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-13 title="Permanent link"> </a></h4><ul><li>Correction d'une erreur dans #3920. Cette erreur se manifeste par une corruption aléatoire du cache (messages <code class=syntax>Unknown codec family code</code>, <code class=syntax>Cannot seek through file</code>) et de segmentation. Cette anomalie est apparue dans la version 19.1 et est présente dans les versions jusqu'à 19.1.10 et 19.3.6. <a href=https://github.com/ClickHouse/ClickHouse/pull/4623 rel="external nofollow noreferrer" target=_blank>#4623</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-3-6-2019-03-02>Clickhouse Version 19.3.6, 2019-03-02<a class=headerlink href=../amp/#clickhouse-release-19-3-6-2019-03-02 title="Permanent link"> </a></h3><h4 id=bug-fixes-14>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-14 title="Permanent link"> </a></h4><ul><li>Quand il y a plus de 1000 threads dans un pool de threads, <code class=syntax>std::terminate</code> peut se produire à la sortie thread. <a href=https://github.com/azat rel="external nofollow noreferrer" target=_blank>Azat Khuzhin</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4485 rel="external nofollow noreferrer" target=_blank>#4485</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4505 rel="external nofollow noreferrer" target=_blank>#4505</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Maintenant, il est possible de créer <code class=syntax>ReplicatedMergeTree*</code> tables avec commentaires sur les colonnes sans valeurs par défaut et tables avec colonnes codecs Sans commentaires et valeurs par défaut. Corrigez également la comparaison des codecs. <a href=https://github.com/ClickHouse/ClickHouse/pull/4523 rel="external nofollow noreferrer" target=_blank>#4523</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un crash sur la jointure avec un tableau ou un tuple. <a href=https://github.com/ClickHouse/ClickHouse/pull/4552 rel="external nofollow noreferrer" target=_blank>#4552</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un crash dans clickhouse-copieur avec le message <code class=syntax>ThreadStatus not created</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4540 rel="external nofollow noreferrer" target=_blank>#4540</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction du blocage à l'arrêt du serveur si des DDL distribués étaient utilisés. <a href=https://github.com/ClickHouse/ClickHouse/pull/4472 rel="external nofollow noreferrer" target=_blank>#4472</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Des numéros de colonne incorrects ont été imprimés dans un message d'erreur concernant l'analyse de format de texte pour les colonnes dont le nombre est supérieur à 10. <a href=https://github.com/ClickHouse/ClickHouse/pull/4484 rel="external nofollow noreferrer" target=_blank>#4484</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=buildtestingpackaging-improvements-3>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements-3 title="Permanent link"> </a></h4><ul><li>Correction de la construction avec AVX activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4527 rel="external nofollow noreferrer" target=_blank>#4527</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Activer la comptabilité étendue et la comptabilité D'E / S basée sur une version bien connue au lieu du noyau sous lequel elle est compilée. <a href=https://github.com/ClickHouse/ClickHouse/pull/4541 rel="external nofollow noreferrer" target=_blank>#4541</a> (<a href=https://github.com/nvartolomei rel="external nofollow noreferrer" target=_blank>nvartolomei</a>)</li><li>Permet d'ignorer le paramètre core_dump.size_limit, avertissement au lieu de lancer si la limite définie échoue. <a href=https://github.com/ClickHouse/ClickHouse/pull/4473 rel="external nofollow noreferrer" target=_blank>#4473</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Enlevé le <code class=syntax>inline</code> les balises de <code class=syntax>void readBinary(...)</code> dans <code class=syntax>Field.cpp</code>. Également fusionné redondant <code class=syntax>namespace DB</code> bloc. <a href=https://github.com/ClickHouse/ClickHouse/pull/4530 rel="external nofollow noreferrer" target=_blank>#4530</a> (<a href=https://github.com/hczhcz rel="external nofollow noreferrer" target=_blank>hcz</a>)</li></ul><h3 id=clickhouse-release-19-3-5-2019-02-21>Clickhouse Version 19.3.5, 2019-02-21<a class=headerlink href=../amp/#clickhouse-release-19-3-5-2019-02-21 title="Permanent link"> </a></h3><h4 id=bug-fixes-15>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-15 title="Permanent link"> </a></h4><ul><li>Correction d'un bug avec de grandes requêtes d'insertion http traitement. <a href=https://github.com/ClickHouse/ClickHouse/pull/4454 rel="external nofollow noreferrer" target=_blank>#4454</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de l'incompatibilité avec les anciennes versions en raison d'une mauvaise implémentation de <code class=syntax>send_logs_level</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/4445 rel="external nofollow noreferrer" target=_blank>#4445</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Incompatibilité arrière fixe de la fonction de table <code class=syntax>remote</code> introduit avec des commentaires de colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/4446 rel="external nofollow noreferrer" target=_blank>#4446</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-3-4-2019-02-16>Clickhouse Version 19.3.4, 2019-02-16<a class=headerlink href=../amp/#clickhouse-release-19-3-4-2019-02-16 title="Permanent link"> </a></h3><h4 id=improvements-4>Amélioration<a class=headerlink href=../amp/#improvements-4 title="Permanent link"> </a></h4><ul><li>La taille de l'index de la Table n'est pas prise en compte des limites de mémoire lors de <code class=syntax>ATTACH TABLE</code> requête. Éviter la possibilité qu'un tableau ne peut pas être attachée après avoir été détaché. <a href=https://github.com/ClickHouse/ClickHouse/pull/4396 rel="external nofollow noreferrer" target=_blank>#4396</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Légèrement augmenté la limite sur la chaîne max et la taille du tableau reçu de ZooKeeper. Il permet de continuer à travailler avec une taille accrue de <code class=syntax>CLIENT_JVMFLAGS=-Djute.maxbuffer=...</code> sur la Gardienne. <a href=https://github.com/ClickHouse/ClickHouse/pull/4398 rel="external nofollow noreferrer" target=_blank>#4398</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Permettre de réparer la réplique abandonnée même si elle a déjà un grand nombre de nœuds dans sa file d'attente. <a href=https://github.com/ClickHouse/ClickHouse/pull/4399 rel="external nofollow noreferrer" target=_blank>#4399</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajouter un argument requis à <code class=syntax>SET</code> index (nombre maximum de lignes stockées). <a href=https://github.com/ClickHouse/ClickHouse/pull/4386 rel="external nofollow noreferrer" target=_blank>#4386</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li></ul><h4 id=bug-fixes-16>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-16 title="Permanent link"> </a></h4><ul><li>Fixe <code class=syntax>WITH ROLLUP</code> résultat pour le groupe par un seul <code class=syntax>LowCardinality</code> clé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4384 rel="external nofollow noreferrer" target=_blank>#4384</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Correction d'un bug dans l'index set (laissant tomber un granule s'il contient plus de <code class=syntax>max_rows</code> rangée). <a href=https://github.com/ClickHouse/ClickHouse/pull/4386 rel="external nofollow noreferrer" target=_blank>#4386</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Beaucoup de corrections de construction FreeBSD. <a href=https://github.com/ClickHouse/ClickHouse/pull/4397 rel="external nofollow noreferrer" target=_blank>#4397</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction de la substitution des alias dans les requêtes avec une sous-requête contenant le même alias (problème <a href=https://github.com/ClickHouse/ClickHouse/issues/4110 rel="external nofollow noreferrer" target=_blank>#4110</a>). <a href=https://github.com/ClickHouse/ClickHouse/pull/4351 rel="external nofollow noreferrer" target=_blank>#4351</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=buildtestingpackaging-improvements-4>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements-4 title="Permanent link"> </a></h4><ul><li>Ajouter la possibilité d'exécuter <code class=syntax>clickhouse-server</code> pour les tests sans état dans l'image docker. <a href=https://github.com/ClickHouse/ClickHouse/pull/4347 rel="external nofollow noreferrer" target=_blank>#4347</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li></ul><h3 id=clickhouse-release-19-3-3-2019-02-13>Clickhouse Version 19.3.3, 2019-02-13<a class=headerlink href=../amp/#clickhouse-release-19-3-3-2019-02-13 title="Permanent link"> </a></h3><h4 id=new-features-6>Nouveauté<a class=headerlink href=../amp/#new-features-6 title="Permanent link"> </a></h4><ul><li>Ajouté le <code class=syntax>KILL MUTATION</code> instruction qui permet de supprimer les mutations qui sont pour certaines raisons coincé. Ajouter <code class=syntax>latest_failed_part</code>, <code class=syntax>latest_fail_time</code>, <code class=syntax>latest_fail_reason</code> champs à la <code class=syntax>system.mutations</code> tableau pour faciliter le dépannage. <a href=https://github.com/ClickHouse/ClickHouse/pull/4287 rel="external nofollow noreferrer" target=_blank>#4287</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Fonction agrégée ajoutée <code class=syntax>entropy</code> qui calcule l'entropie de Shannon. <a href=https://github.com/ClickHouse/ClickHouse/pull/4238 rel="external nofollow noreferrer" target=_blank>#4238</a> (<a href=https://github.com/Quid37 rel="external nofollow noreferrer" target=_blank>Quid37</a>)</li><li>Ajout de la possibilité d'envoyer des requêtes <code class=syntax>INSERT INTO tbl VALUES (....</code> au serveur sans fractionnement sur <code class=syntax>query</code> et <code class=syntax>data</code> partie. <a href=https://github.com/ClickHouse/ClickHouse/pull/4301 rel="external nofollow noreferrer" target=_blank>#4301</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Mise en œuvre générique de <code class=syntax>arrayWithConstant</code> la fonction a été ajoutée. <a href=https://github.com/ClickHouse/ClickHouse/pull/4322 rel="external nofollow noreferrer" target=_blank>#4322</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Mettre <code class=syntax>NOT BETWEEN</code> opérateur de comparaison. <a href=https://github.com/ClickHouse/ClickHouse/pull/4228 rel="external nofollow noreferrer" target=_blank>#4228</a> (<a href=https://github.com/nezed rel="external nofollow noreferrer" target=_blank>Dmitry Naumov</a>)</li><li>Mettre <code class=syntax>sumMapFiltered</code> afin de pouvoir limiter le nombre de clés pour lesquelles les valeurs seront additionnées par <code class=syntax>sumMap</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4129 rel="external nofollow noreferrer" target=_blank>#4129</a> (<a href=https://github.com/ercolanelli-leo rel="external nofollow noreferrer" target=_blank>Léo Ercolanelli</a>)</li><li>Ajout du support de <code class=syntax>Nullable</code> types de <code class=syntax>mysql</code> table de fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4198 rel="external nofollow noreferrer" target=_blank>#4198</a> (<a href=https://github.com/edonin rel="external nofollow noreferrer" target=_blank>Emmanuel Donin de Rosière</a>)</li><li>Prise en charge des expressions constantes arbitraires dans <code class=syntax>LIMIT</code> clause. <a href=https://github.com/ClickHouse/ClickHouse/pull/4246 rel="external nofollow noreferrer" target=_blank>#4246</a> (<a href=https://github.com/k3box rel="external nofollow noreferrer" target=_blank>k3box</a>)</li><li>Ajouter <code class=syntax>topKWeighted</code> fonction d'agrégation qui prend un argument supplémentaire avec un poids (entier non signé). <a href=https://github.com/ClickHouse/ClickHouse/pull/4245 rel="external nofollow noreferrer" target=_blank>#4245</a> (<a href=https://github.com/andrewgolman rel="external nofollow noreferrer" target=_blank>Andrew Golman</a>)</li><li><code class=syntax>StorageJoin</code> maintenant prend en charge <code class=syntax>join_any_take_last_row</code> paramètre qui permet d'écraser les valeurs existantes de la même clé. <a href=https://github.com/ClickHouse/ClickHouse/pull/3973 rel="external nofollow noreferrer" target=_blank>#3973</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a></li><li>Ajout de la fonction <code class=syntax>toStartOfInterval</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4304 rel="external nofollow noreferrer" target=_blank>#4304</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Ajouter <code class=syntax>RowBinaryWithNamesAndTypes</code> format. <a href=https://github.com/ClickHouse/ClickHouse/pull/4200 rel="external nofollow noreferrer" target=_blank>#4200</a> (<a href=https://github.com/DarkWanderer rel="external nofollow noreferrer" target=_blank>Oleg V. Kozlyuk</a>)</li><li>Ajouter <code class=syntax>IPv4</code> et <code class=syntax>IPv6</code> types de données. Implémentations plus efficaces de <code class=syntax>IPv*</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/3669 rel="external nofollow noreferrer" target=_blank>#3669</a> (<a href=https://github.com/Enmk rel="external nofollow noreferrer" target=_blank>Vasily Nemkov</a>)</li><li>Ajout de la fonction <code class=syntax>toStartOfTenMinutes()</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4298 rel="external nofollow noreferrer" target=_blank>#4298</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Ajouter <code class=syntax>Protobuf</code> le format de sortie. <a href=https://github.com/ClickHouse/ClickHouse/pull/4005 rel="external nofollow noreferrer" target=_blank>#4005</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4158 rel="external nofollow noreferrer" target=_blank>#4158</a> (<a href=https://github.com/vitlibar rel="external nofollow noreferrer" target=_blank>Vitaly Baranov</a>)</li><li>Ajout du support brotli pour L'interface HTTP pour l'importation de données (INSERTs). <a href=https://github.com/ClickHouse/ClickHouse/pull/4235 rel="external nofollow noreferrer" target=_blank>#4235</a> (<a href=https://github.com/fandyushin rel="external nofollow noreferrer" target=_blank>Mikhail</a>)</li><li>Ajout d'astuces pendant que l'utilisateur fait une faute de frappe dans le nom de la fonction ou tapez dans le client de ligne de commande. <a href=https://github.com/ClickHouse/ClickHouse/pull/4239 rel="external nofollow noreferrer" target=_blank>#4239</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Ajouter <code class=syntax>Query-Id</code> de du Serveur HTTP en-tête de Réponse. <a href=https://github.com/ClickHouse/ClickHouse/pull/4231 rel="external nofollow noreferrer" target=_blank>#4231</a> (<a href=https://github.com/fandyushin rel="external nofollow noreferrer" target=_blank>Mikhail</a>)</li></ul><h4 id=experimental-features-2>Caractéristiques Expérimentales<a class=headerlink href=../amp/#experimental-features-2 title="Permanent link"> </a></h4><ul><li>Ajouter <code class=syntax>minmax</code> et <code class=syntax>set</code> index de saut de données pour la famille de moteurs de table MergeTree. <a href=https://github.com/ClickHouse/ClickHouse/pull/4143 rel="external nofollow noreferrer" target=_blank>#4143</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li>Conversion ajoutée de <code class=syntax>CROSS JOIN</code> de <code class=syntax>INNER JOIN</code> si cela est possible. <a href=https://github.com/ClickHouse/ClickHouse/pull/4221 rel="external nofollow noreferrer" target=_blank>#4221</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4266 rel="external nofollow noreferrer" target=_blank>#4266</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=bug-fixes-17>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-17 title="Permanent link"> </a></h4><ul><li>Fixe <code class=syntax>Not found column</code> pour les colonnes en double dans <code class=syntax>JOIN ON</code> section. <a href=https://github.com/ClickHouse/ClickHouse/pull/4279 rel="external nofollow noreferrer" target=_blank>#4279</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Faire <code class=syntax>START REPLICATED SENDS</code> commande démarrer les envois répliqués. <a href=https://github.com/ClickHouse/ClickHouse/pull/4229 rel="external nofollow noreferrer" target=_blank>#4229</a> (<a href=https://github.com/nvartolomei rel="external nofollow noreferrer" target=_blank>nvartolomei</a>)</li><li>Fixe l'exécution des fonctions d'agrégat avec <code class=syntax>Array(LowCardinality)</code> argument. <a href=https://github.com/ClickHouse/ClickHouse/pull/4055 rel="external nofollow noreferrer" target=_blank>#4055</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Fixe mauvais comportement lors <code class=syntax>INSERT ... SELECT ... FROM file(...)</code> requête et fichier a <code class=syntax>CSVWithNames</code> ou <code class=syntax>TSVWIthNames</code> le format et la première ligne de données est manquant. <a href=https://github.com/ClickHouse/ClickHouse/pull/4297 rel="external nofollow noreferrer" target=_blank>#4297</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un crash sur dictionnaire recharger si le dictionnaire n'est pas disponible. Ce bug est apparu dans 19.1.6. <a href=https://github.com/ClickHouse/ClickHouse/pull/4188 rel="external nofollow noreferrer" target=_blank>#4188</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Fixe <code class=syntax>ALL JOIN</code> avec des doublons dans la table de droite. <a href=https://github.com/ClickHouse/ClickHouse/pull/4184 rel="external nofollow noreferrer" target=_blank>#4184</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un défaut de segmentation avec <code class=syntax>use_uncompressed_cache=1</code> et exception avec une mauvaise taille non compressée. Ce bug est apparu dans 19.1.6. <a href=https://github.com/ClickHouse/ClickHouse/pull/4186 rel="external nofollow noreferrer" target=_blank>#4186</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>compile_expressions</code> bug avec comparaison de grandes dates (plus de int16). <a href=https://github.com/ClickHouse/ClickHouse/pull/4341 rel="external nofollow noreferrer" target=_blank>#4341</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Boucle infinie fixe lors de la sélection de la fonction de table <code class=syntax>numbers(0)</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4280 rel="external nofollow noreferrer" target=_blank>#4280</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Désactiver temporairement l'optimisation des prédicats pour <code class=syntax>ORDER BY</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3890 rel="external nofollow noreferrer" target=_blank>#3890</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Fixe <code class=syntax>Illegal instruction</code> erreur lors de l'utilisation des fonctions base64 sur les anciens processeurs. Cette erreur n'a été reproduite que lorsque ClickHouse a été compilé avec gcc-8. <a href=https://github.com/ClickHouse/ClickHouse/pull/4275 rel="external nofollow noreferrer" target=_blank>#4275</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe <code class=syntax>No message received</code> erreur lors de l'interaction avec le pilote ODBC PostgreSQL via une connexion TLS. Corrige également segfault lors de l'utilisation du pilote MySQL ODBC. <a href=https://github.com/ClickHouse/ClickHouse/pull/4170 rel="external nofollow noreferrer" target=_blank>#4170</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un résultat incorrect lorsque <code class=syntax>Date</code> et <code class=syntax>DateTime</code> les arguments sont utilisés dans les branches de l'opérateur conditionnel (fonction <code class=syntax>if</code>). Ajouté cas générique pour la fonction <code class=syntax>if</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4243 rel="external nofollow noreferrer" target=_blank>#4243</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Les dictionnaires ClickHouse se chargent maintenant dans <code class=syntax>clickhouse</code> processus. <a href=https://github.com/ClickHouse/ClickHouse/pull/4166 rel="external nofollow noreferrer" target=_blank>#4166</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe blocage lorsqu' <code class=syntax>SELECT</code> à partir d'une table avec <code class=syntax>File</code> moteur a été rejugé après <code class=syntax>No such file or directory</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4161 rel="external nofollow noreferrer" target=_blank>#4161</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Condition de course fixe lors de la sélection de <code class=syntax>system.tables</code> peut donner <code class=syntax>table doesn't exist</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4313 rel="external nofollow noreferrer" target=_blank>#4313</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>clickhouse-client</code> peut segfault à la sortie lors du chargement des données pour les suggestions de ligne de commande si elle a été exécutée en mode interactif. <a href=https://github.com/ClickHouse/ClickHouse/pull/4317 rel="external nofollow noreferrer" target=_blank>#4317</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug lors de l'exécution de mutations contenant <code class=syntax>IN</code> les opérateurs produisaient des résultats incorrects. <a href=https://github.com/ClickHouse/ClickHouse/pull/4099 rel="external nofollow noreferrer" target=_blank>#4099</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Correction d'une erreur: si une base de données avec <code class=syntax>Dictionary</code> moteur, tous les dictionnaires forcés de charger au démarrage du serveur, et s'il y a un dictionnaire avec la source de ClickHouse de localhost, le dictionnaire ne peut pas charger. <a href=https://github.com/ClickHouse/ClickHouse/pull/4255 rel="external nofollow noreferrer" target=_blank>#4255</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur lorsque les journaux système sont tentés de créer à nouveau à l'arrêt du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4254 rel="external nofollow noreferrer" target=_blank>#4254</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Renvoyer correctement le bon type et gérer correctement les verrous <code class=syntax>joinGet</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4153 rel="external nofollow noreferrer" target=_blank>#4153</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Ajouter <code class=syntax>sumMapWithOverflow</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4151 rel="external nofollow noreferrer" target=_blank>#4151</a> (<a href=https://github.com/ercolanelli-leo rel="external nofollow noreferrer" target=_blank>Léo Ercolanelli</a>)</li><li>Fixe erreur de segmentation avec <code class=syntax>allow_experimental_multiple_joins_emulation</code>. <a href=https://github.com/ClickHouse/ClickHouse/commit/52de2cd927f7b5257dd67e175f0a5560a48840d0 rel="external nofollow noreferrer" target=_blank>52de2c</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Correction d'un bug avec incorrect <code class=syntax>Date</code> et <code class=syntax>DateTime</code> comparaison. <a href=https://github.com/ClickHouse/ClickHouse/pull/4237 rel="external nofollow noreferrer" target=_blank>#4237</a> (<a href=https://github.com/valexey rel="external nofollow noreferrer" target=_blank>valexey</a>)</li><li>Correction d'un test de fuzz sous un désinfectant de comportement indéfini: ajout d'une vérification de type de paramètre pour <code class=syntax>quantile*Weighted</code> la famille de fonctions. <a href=https://github.com/ClickHouse/ClickHouse/pull/4145 rel="external nofollow noreferrer" target=_blank>#4145</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une condition de course rare lors de la suppression d'anciennes pièces de données peuvent échouer avec <code class=syntax>File not found</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4378 rel="external nofollow noreferrer" target=_blank>#4378</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction du paquet d'installation avec /etc/clickhouse-server/config manquant.XML. <a href=https://github.com/ClickHouse/ClickHouse/pull/4343 rel="external nofollow noreferrer" target=_blank>#4343</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=buildtestingpackaging-improvements-5>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements-5 title="Permanent link"> </a></h4><ul><li>Paquet Debian: correct/etc/clickhouse-server / lien prétraité selon config. <a href=https://github.com/ClickHouse/ClickHouse/pull/4205 rel="external nofollow noreferrer" target=_blank>#4205</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Divers correctifs de construction Pour FreeBSD. <a href=https://github.com/ClickHouse/ClickHouse/pull/4225 rel="external nofollow noreferrer" target=_blank>#4225</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout de la possibilité de créer, remplir et déposer des tables dans perftest. <a href=https://github.com/ClickHouse/ClickHouse/pull/4220 rel="external nofollow noreferrer" target=_blank>#4220</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajout d'un script pour vérifier les doublons comprend. <a href=https://github.com/ClickHouse/ClickHouse/pull/4326 rel="external nofollow noreferrer" target=_blank>#4326</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de la possibilité d'exécuter des requêtes par index dans le test de performance. <a href=https://github.com/ClickHouse/ClickHouse/pull/4264 rel="external nofollow noreferrer" target=_blank>#4264</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Paquet avec des symboles de débogage est suggéré d'être installé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4274 rel="external nofollow noreferrer" target=_blank>#4274</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Refactoring de performance-test. Meilleure journalisation et gestion des signaux. <a href=https://github.com/ClickHouse/ClickHouse/pull/4171 rel="external nofollow noreferrer" target=_blank>#4171</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajout de documents à Yandex anonymisé.Jeux de données Metrika. <a href=https://github.com/ClickHouse/ClickHouse/pull/4164 rel="external nofollow noreferrer" target=_blank>#4164</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Аdded tool for converting an old month-partitioned part to the custom-partitioned format. <a href=https://github.com/ClickHouse/ClickHouse/pull/4195 rel="external nofollow noreferrer" target=_blank>#4195</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Ajout de documents sur deux ensembles de données dans s3. <a href=https://github.com/ClickHouse/ClickHouse/pull/4144 rel="external nofollow noreferrer" target=_blank>#4144</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajout d'un script qui crée le journal des modifications à partir de la description des requêtes d'extraction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4169 rel="external nofollow noreferrer" target=_blank>#4169</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4173 rel="external nofollow noreferrer" target=_blank>#4173</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>) (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Ajout du module puppet pour ClickHouse. <a href=https://github.com/ClickHouse/ClickHouse/pull/4182 rel="external nofollow noreferrer" target=_blank>#4182</a> (<a href=https://github.com/MaxFedotov rel="external nofollow noreferrer" target=_blank>Maxim Fedotov</a>)</li><li>Ajout de documents pour un groupe de fonctions non documentées. <a href=https://github.com/ClickHouse/ClickHouse/pull/4168 rel="external nofollow noreferrer" target=_blank>#4168</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>ARM construire des correctifs. <a href=https://github.com/ClickHouse/ClickHouse/pull/4210 rel="external nofollow noreferrer" target=_blank>#4210</a><a href=https://github.com/ClickHouse/ClickHouse/pull/4306 rel="external nofollow noreferrer" target=_blank>#4306</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4291 rel="external nofollow noreferrer" target=_blank>#4291</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>) (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Tests de dictionnaire maintenant capables de s'exécuter à partir de <code class=syntax>ctest</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4189 rel="external nofollow noreferrer" target=_blank>#4189</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Maintenant <code class=syntax>/etc/ssl</code> est utilisé comme répertoire par défaut avec les certificats SSL. <a href=https://github.com/ClickHouse/ClickHouse/pull/4167 rel="external nofollow noreferrer" target=_blank>#4167</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de la vérification SSE et AVX instruction au début. <a href=https://github.com/ClickHouse/ClickHouse/pull/4234 rel="external nofollow noreferrer" target=_blank>#4234</a> (<a href=https://github.com/igron99 rel="external nofollow noreferrer" target=_blank>Igr</a>)</li><li>Le script d'initialisation attendra le serveur jusqu'au démarrage. <a href=https://github.com/ClickHouse/ClickHouse/pull/4281 rel="external nofollow noreferrer" target=_blank>#4281</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=backward-incompatible-changes-1>Modifications Incompatibles En Arrière<a class=headerlink href=../amp/#backward-incompatible-changes-1 title="Permanent link"> </a></h4><ul><li>Retiré <code class=syntax>allow_experimental_low_cardinality_type</code> paramètre. <code class=syntax>LowCardinality</code> les types de données sont prêts pour la production. <a href=https://github.com/ClickHouse/ClickHouse/pull/4323 rel="external nofollow noreferrer" target=_blank>#4323</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Réduisez la taille du cache mark et la taille du cache non compressé en conséquence à la quantité de mémoire disponible. <a href=https://github.com/ClickHouse/ClickHouse/pull/4240 rel="external nofollow noreferrer" target=_blank>#4240</a> (<a href=https://github.com/k-lopatin rel="external nofollow noreferrer" target=_blank>Lopatin Konstantin</a></li><li>Ajouté le mot <code class=syntax>INDEX</code> dans <code class=syntax>CREATE TABLE</code> requête. Une colonne avec le nom <code class=syntax>index</code> doivent être indiqués avec backticks ou des guillemets: <code class=syntax>`index`</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4143 rel="external nofollow noreferrer" target=_blank>#4143</a> (<a href=https://github.com/nikvas0 rel="external nofollow noreferrer" target=_blank>Nikita Vasilev</a>)</li><li><code class=syntax>sumMap</code> désormais promouvoir le type de résultat au lieu de débordement. Vieux <code class=syntax>sumMap</code> le comportement peut être obtenu en utilisant <code class=syntax>sumMapWithOverflow</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4151 rel="external nofollow noreferrer" target=_blank>#4151</a> (<a href=https://github.com/ercolanelli-leo rel="external nofollow noreferrer" target=_blank>Léo Ercolanelli</a>)</li></ul><h4 id=performance-improvements-4>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvements-4 title="Permanent link"> </a></h4><ul><li><code class=syntax>std::sort</code> remplacé par <code class=syntax>pdqsort</code> pour les requêtes sans <code class=syntax>LIMIT</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4236 rel="external nofollow noreferrer" target=_blank>#4236</a> (<a href=https://github.com/kvinty rel="external nofollow noreferrer" target=_blank>Evgenii Pravda</a>)</li><li>Maintenant, le serveur réutilise les threads du pool de threads global. Cela affecte les performances dans certains cas particuliers. <a href=https://github.com/ClickHouse/ClickHouse/pull/4150 rel="external nofollow noreferrer" target=_blank>#4150</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=improvements-5>Amélioration<a class=headerlink href=../amp/#improvements-5 title="Permanent link"> </a></h4><ul><li>Implémentation du support AIO Pour FreeBSD. <a href=https://github.com/ClickHouse/ClickHouse/pull/4305 rel="external nofollow noreferrer" target=_blank>#4305</a> (<a href=https://github.com/urgordeadbeef rel="external nofollow noreferrer" target=_blank>urgordeadbeef</a>)</li><li><code class=syntax>SELECT * FROM a JOIN b USING a, b</code> maintenant de retour <code class=syntax>a</code> et <code class=syntax>b</code> colonnes uniquement à partir de la table de gauche. <a href=https://github.com/ClickHouse/ClickHouse/pull/4141 rel="external nofollow noreferrer" target=_blank>#4141</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Permettre <code class=syntax>-C</code> option du client pour travailler comme <code class=syntax>-c</code> option. <a href=https://github.com/ClickHouse/ClickHouse/pull/4232 rel="external nofollow noreferrer" target=_blank>#4232</a> (<a href=https://github.com/syominsergey rel="external nofollow noreferrer" target=_blank>syominsergey</a>)</li><li>Option <code class=syntax>--password</code> utilisé sans valeur nécessite un mot de passe de stdin. <a href=https://github.com/ClickHouse/ClickHouse/pull/4230 rel="external nofollow noreferrer" target=_blank>#4230</a> (<a href=https://github.com/bsd-conqueror rel="external nofollow noreferrer" target=_blank>BSD_Conqueror</a>)</li><li>Ajout de la mise en évidence des métacaractères Non échappés dans les littéraux de chaîne qui contiennent <code class=syntax>LIKE</code> expressions ou expressions rationnelles. <a href=https://github.com/ClickHouse/ClickHouse/pull/4327 rel="external nofollow noreferrer" target=_blank>#4327</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de l'annulation des requêtes HTTP en lecture seule si le socket client disparaît. <a href=https://github.com/ClickHouse/ClickHouse/pull/4213 rel="external nofollow noreferrer" target=_blank>#4213</a> (<a href=https://github.com/nvartolomei rel="external nofollow noreferrer" target=_blank>nvartolomei</a>)</li><li>Maintenant, le serveur signale la progression pour maintenir les connexions client en vie. <a href=https://github.com/ClickHouse/ClickHouse/pull/4215 rel="external nofollow noreferrer" target=_blank>#4215</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Message légèrement meilleur avec raison pour optimiser la requête avec <code class=syntax>optimize_throw_if_noop</code> paramètre est activé. <a href=https://github.com/ClickHouse/ClickHouse/pull/4294 rel="external nofollow noreferrer" target=_blank>#4294</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout du support de <code class=syntax>--version</code> option pour le serveur clickhouse. <a href=https://github.com/ClickHouse/ClickHouse/pull/4251 rel="external nofollow noreferrer" target=_blank>#4251</a> (<a href=https://github.com/k-lopatin rel="external nofollow noreferrer" target=_blank>Lopatin Konstantin</a>)</li><li>Ajouter <code class=syntax>--help/-h</code> option pour <code class=syntax>clickhouse-server</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4233 rel="external nofollow noreferrer" target=_blank>#4233</a> (<a href=https://github.com/yurriy rel="external nofollow noreferrer" target=_blank>Yuriy Baranov</a>)</li><li>Ajout du support pour les sous-requêtes scalaires avec le résultat de l'état de la fonction d'agrégation. <a href=https://github.com/ClickHouse/ClickHouse/pull/4348 rel="external nofollow noreferrer" target=_blank>#4348</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>Nikolai Kochetov</a>)</li><li>Amélioration du temps d'arrêt du serveur et modifie le temps d'attente. <a href=https://github.com/ClickHouse/ClickHouse/pull/4372 rel="external nofollow noreferrer" target=_blank>#4372</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout d'informations sur le paramètre replicated_can_become_leader au système.réplicas et ajouter la journalisation si la réplique ne sera pas essayer de devenir leader. <a href=https://github.com/ClickHouse/ClickHouse/pull/4379 rel="external nofollow noreferrer" target=_blank>#4379</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li></ul><h2 id=clickhouse-release-19-1>Clickhouse Version 19.1<a class=headerlink href=../amp/#clickhouse-release-19-1 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-1-14-2019-03-14>Clickhouse Version 19.1.14, 2019-03-14<a class=headerlink href=../amp/#clickhouse-release-19-1-14-2019-03-14 title="Permanent link"> </a></h3><ul><li>Correction d'une erreur <code class=syntax>Column ... queried more than once</code> cela peut arriver si le réglage <code class=syntax>asterisk_left_columns_only</code> est réglé sur 1 en cas d'utilisation <code class=syntax>GLOBAL JOIN</code> avec <code class=syntax>SELECT *</code> (cas rare). Le problème n'existe pas dans 19.3 et plus récent. <a href=https://github.com/ClickHouse/ClickHouse/pull/4692/commits/6bac7d8d11a9b0d6de0b32b53c47eb2f6f8e7062 rel="external nofollow noreferrer" target=_blank>6bac7d8d</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h3 id=clickhouse-release-19-1-13-2019-03-12>Clickhouse Version 19.1.13, 2019-03-12<a class=headerlink href=../amp/#clickhouse-release-19-1-13-2019-03-12 title="Permanent link"> </a></h3><p>Cette version contient exactement le même ensemble de patchs 19.3.7.</p><h3 id=clickhouse-release-19-1-10-2019-03-03>Clickhouse Version 19.1.10, 2019-03-03<a class=headerlink href=../amp/#clickhouse-release-19-1-10-2019-03-03 title="Permanent link"> </a></h3><p>Cette version contient exactement le même ensemble de patchs 19.3.6.</p><h2 id=clickhouse-release-19-1-1>Clickhouse Version 19.1<a class=headerlink href=../amp/#clickhouse-release-19-1-1 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-1-9-2019-02-21>Clickhouse Version 19.1.9, 2019-02-21<a class=headerlink href=../amp/#clickhouse-release-19-1-9-2019-02-21 title="Permanent link"> </a></h3><h4 id=bug-fixes-18>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-18 title="Permanent link"> </a></h4><ul><li>Correction de l'incompatibilité avec les anciennes versions en raison d'une mauvaise implémentation de <code class=syntax>send_logs_level</code> paramètre. <a href=https://github.com/ClickHouse/ClickHouse/pull/4445 rel="external nofollow noreferrer" target=_blank>#4445</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Incompatibilité arrière fixe de la fonction de table <code class=syntax>remote</code> introduit avec des commentaires de colonne. <a href=https://github.com/ClickHouse/ClickHouse/pull/4446 rel="external nofollow noreferrer" target=_blank>#4446</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-1-8-2019-02-16>Clickhouse Version 19.1.8, 2019-02-16<a class=headerlink href=../amp/#clickhouse-release-19-1-8-2019-02-16 title="Permanent link"> </a></h3><h4 id=bug-fixes-19>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-19 title="Permanent link"> </a></h4><ul><li>Correction du paquet d'installation avec /etc/clickhouse-server/config manquant.XML. <a href=https://github.com/ClickHouse/ClickHouse/pull/4343 rel="external nofollow noreferrer" target=_blank>#4343</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h2 id=clickhouse-release-19-1-2>Clickhouse Version 19.1<a class=headerlink href=../amp/#clickhouse-release-19-1-2 title="Permanent link"> </a></h2><h3 id=clickhouse-release-19-1-7-2019-02-15>Clickhouse Version 19.1.7, 2019-02-15<a class=headerlink href=../amp/#clickhouse-release-19-1-7-2019-02-15 title="Permanent link"> </a></h3><h4 id=bug-fixes-20>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-20 title="Permanent link"> </a></h4><ul><li>Renvoyer correctement le bon type et gérer correctement les verrous <code class=syntax>joinGet</code> fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4153 rel="external nofollow noreferrer" target=_blank>#4153</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Correction d'une erreur lorsque les journaux système sont tentés de créer à nouveau à l'arrêt du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4254 rel="external nofollow noreferrer" target=_blank>#4254</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur: si une base de données avec <code class=syntax>Dictionary</code> moteur, tous les dictionnaires forcés de charger au démarrage du serveur, et s'il y a un dictionnaire avec la source de ClickHouse de localhost, le dictionnaire ne peut pas charger. <a href=https://github.com/ClickHouse/ClickHouse/pull/4255 rel="external nofollow noreferrer" target=_blank>#4255</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug lors de l'exécution de mutations contenant <code class=syntax>IN</code> les opérateurs produisaient des résultats incorrects. <a href=https://github.com/ClickHouse/ClickHouse/pull/4099 rel="external nofollow noreferrer" target=_blank>#4099</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li><code class=syntax>clickhouse-client</code> peut segfault à la sortie lors du chargement des données pour les suggestions de ligne de commande si elle a été exécutée en mode interactif. <a href=https://github.com/ClickHouse/ClickHouse/pull/4317 rel="external nofollow noreferrer" target=_blank>#4317</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Condition de course fixe lors de la sélection de <code class=syntax>system.tables</code> peut donner <code class=syntax>table doesn't exist</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4313 rel="external nofollow noreferrer" target=_blank>#4313</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe blocage lorsqu' <code class=syntax>SELECT</code> à partir d'une table avec <code class=syntax>File</code> moteur a été rejugé après <code class=syntax>No such file or directory</code> erreur. <a href=https://github.com/ClickHouse/ClickHouse/pull/4161 rel="external nofollow noreferrer" target=_blank>#4161</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un problème: les dictionnaires ClickHouse locaux sont chargés via TCP, mais devraient être chargés dans le processus. <a href=https://github.com/ClickHouse/ClickHouse/pull/4166 rel="external nofollow noreferrer" target=_blank>#4166</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe <code class=syntax>No message received</code> erreur lors de l'interaction avec le pilote ODBC PostgreSQL via une connexion TLS. Corrige également segfault lors de l'utilisation du pilote MySQL ODBC. <a href=https://github.com/ClickHouse/ClickHouse/pull/4170 rel="external nofollow noreferrer" target=_blank>#4170</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Désactiver temporairement l'optimisation des prédicats pour <code class=syntax>ORDER BY</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3890 rel="external nofollow noreferrer" target=_blank>#3890</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Boucle infinie fixe lors de la sélection de la fonction de table <code class=syntax>numbers(0)</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4280 rel="external nofollow noreferrer" target=_blank>#4280</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe <code class=syntax>compile_expressions</code> bug avec comparaison de grandes dates (plus de int16). <a href=https://github.com/ClickHouse/ClickHouse/pull/4341 rel="external nofollow noreferrer" target=_blank>#4341</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un défaut de segmentation avec <code class=syntax>uncompressed_cache=1</code> et exception avec une mauvaise taille non compressée. <a href=https://github.com/ClickHouse/ClickHouse/pull/4186 rel="external nofollow noreferrer" target=_blank>#4186</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Fixe <code class=syntax>ALL JOIN</code> avec des doublons dans la table de droite. <a href=https://github.com/ClickHouse/ClickHouse/pull/4184 rel="external nofollow noreferrer" target=_blank>#4184</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Fixe mauvais comportement lors <code class=syntax>INSERT ... SELECT ... FROM file(...)</code> requête et fichier a <code class=syntax>CSVWithNames</code> ou <code class=syntax>TSVWIthNames</code> le format et la première ligne de données est manquant. <a href=https://github.com/ClickHouse/ClickHouse/pull/4297 rel="external nofollow noreferrer" target=_blank>#4297</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe l'exécution des fonctions d'agrégat avec <code class=syntax>Array(LowCardinality)</code> argument. <a href=https://github.com/ClickHouse/ClickHouse/pull/4055 rel="external nofollow noreferrer" target=_blank>#4055</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Paquet Debian: correct/etc/clickhouse-server / lien prétraité selon config. <a href=https://github.com/ClickHouse/ClickHouse/pull/4205 rel="external nofollow noreferrer" target=_blank>#4205</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction d'un test de fuzz sous un désinfectant de comportement indéfini: ajout d'une vérification de type de paramètre pour <code class=syntax>quantile*Weighted</code> la famille de fonctions. <a href=https://github.com/ClickHouse/ClickHouse/pull/4145 rel="external nofollow noreferrer" target=_blank>#4145</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Faire <code class=syntax>START REPLICATED SENDS</code> commande démarrer les envois répliqués. <a href=https://github.com/ClickHouse/ClickHouse/pull/4229 rel="external nofollow noreferrer" target=_blank>#4229</a> (<a href=https://github.com/nvartolomei rel="external nofollow noreferrer" target=_blank>nvartolomei</a>)</li><li>Fixe <code class=syntax>Not found column</code> pour les colonnes en double dans JOIN ON section. <a href=https://github.com/ClickHouse/ClickHouse/pull/4279 rel="external nofollow noreferrer" target=_blank>#4279</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Maintenant <code class=syntax>/etc/ssl</code> est utilisé comme répertoire par défaut avec les certificats SSL. <a href=https://github.com/ClickHouse/ClickHouse/pull/4167 rel="external nofollow noreferrer" target=_blank>#4167</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un crash sur dictionnaire recharger si le dictionnaire n'est pas disponible. <a href=https://github.com/ClickHouse/ClickHouse/pull/4188 rel="external nofollow noreferrer" target=_blank>#4188</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Correction d'un bug avec incorrect <code class=syntax>Date</code> et <code class=syntax>DateTime</code> comparaison. <a href=https://github.com/ClickHouse/ClickHouse/pull/4237 rel="external nofollow noreferrer" target=_blank>#4237</a> (<a href=https://github.com/valexey rel="external nofollow noreferrer" target=_blank>valexey</a>)</li><li>Correction d'un résultat incorrect lorsque <code class=syntax>Date</code> et <code class=syntax>DateTime</code> les arguments sont utilisés dans les branches de l'opérateur conditionnel (fonction <code class=syntax>if</code>). Ajouté cas générique pour la fonction <code class=syntax>if</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4243 rel="external nofollow noreferrer" target=_blank>#4243</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h3 id=clickhouse-release-19-1-6-2019-01-24>Clickhouse Version 19.1.6, 2019-01-24<a class=headerlink href=../amp/#clickhouse-release-19-1-6-2019-01-24 title="Permanent link"> </a></h3><h4 id=new-features-7>Nouveauté<a class=headerlink href=../amp/#new-features-7 title="Permanent link"> </a></h4><ul><li>Codecs de compression personnalisés par colonne pour les tables. <a href=https://github.com/ClickHouse/ClickHouse/pull/3899 rel="external nofollow noreferrer" target=_blank>#3899</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4111 rel="external nofollow noreferrer" target=_blank>#4111</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>, <a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>, <a href=https://github.com/Sindbag rel="external nofollow noreferrer" target=_blank>Anatoli</a>)</li><li>Ajout du codec de compression <code class=syntax>Delta</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4052 rel="external nofollow noreferrer" target=_blank>#4052</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Permettre à <code class=syntax>ALTER</code> codecs de compression. <a href=https://github.com/ClickHouse/ClickHouse/pull/4054 rel="external nofollow noreferrer" target=_blank>#4054</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>L'ajout de fonctions <code class=syntax>left</code>, <code class=syntax>right</code>, <code class=syntax>trim</code>, <code class=syntax>ltrim</code>, <code class=syntax>rtrim</code>, <code class=syntax>timestampadd</code>, <code class=syntax>timestampsub</code> pour la compatibilité standard SQL. <a href=https://github.com/ClickHouse/ClickHouse/pull/3826 rel="external nofollow noreferrer" target=_blank>#3826</a> (<a href=https://github.com/blinkov rel="external nofollow noreferrer" target=_blank>Ivan Blinkov</a>)</li><li>Soutien pour écrire dans <code class=syntax>HDFS</code> des tables et des <code class=syntax>hdfs</code> table de fonction. <a href=https://github.com/ClickHouse/ClickHouse/pull/4084 rel="external nofollow noreferrer" target=_blank>#4084</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>L'ajout de fonctions pour rechercher plusieurs chaines de grosse botte de foin: <code class=syntax>multiPosition</code>, <code class=syntax>multiSearch</code> ,<code class=syntax>firstMatch</code> aussi avec <code class=syntax>-UTF8</code>, <code class=syntax>-CaseInsensitive</code>, et <code class=syntax>-CaseInsensitiveUTF8</code> variantes. <a href=https://github.com/ClickHouse/ClickHouse/pull/4053 rel="external nofollow noreferrer" target=_blank>#4053</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Taille des éclats inutilisés si <code class=syntax>SELECT</code> filtres de requête par clé de sharding (réglage <code class=syntax>optimize_skip_unused_shards</code>). <a href=https://github.com/ClickHouse/ClickHouse/pull/3851 rel="external nofollow noreferrer" target=_blank>#3851</a> (<a href=https://github.com/kanterov rel="external nofollow noreferrer" target=_blank>Gleb Kanterov</a>, <a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Permettre <code class=syntax>Kafka</code> moteur à ignorer certains nombre d'erreurs d'analyse par bloc. <a href=https://github.com/ClickHouse/ClickHouse/pull/4094 rel="external nofollow noreferrer" target=_blank>#4094</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Ajout du support pour <code class=syntax>CatBoost</code> évaluation des modèles multiclass. Fonction <code class=syntax>modelEvaluate</code> retourne tuple avec des prédictions brutes par classe pour les modèles multiclasse. <code class=syntax>libcatboostmodel.so</code> devrait être construit avec <a href=https://github.com/catboost/catboost/pull/607 rel="external nofollow noreferrer" target=_blank>#607</a>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3959 rel="external nofollow noreferrer" target=_blank>#3959</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>L'ajout de fonctions <code class=syntax>filesystemAvailable</code>, <code class=syntax>filesystemFree</code>, <code class=syntax>filesystemCapacity</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4097 rel="external nofollow noreferrer" target=_blank>#4097</a> (<a href=https://github.com/bgranvea rel="external nofollow noreferrer" target=_blank>Boris Granveaud</a>)</li><li>Ajouté les fonctions de hachage <code class=syntax>xxHash64</code> et <code class=syntax>xxHash32</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3905 rel="external nofollow noreferrer" target=_blank>#3905</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Ajouter <code class=syntax>gccMurmurHash</code> fonction de hachage (hachage Murmur aromatisé GCC) qui utilise la même graine de hachage que <a href=https://github.com/gcc-mirror/gcc/blob/41d6b10e96a1de98e90a7c0378437c3255814b16/libstdc%2B%2B-v3/include/bits/functional_hash.h#L191 rel="external nofollow noreferrer" target=_blank>gcc</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4000 rel="external nofollow noreferrer" target=_blank>#4000</a> (<a href=https://github.com/sundy-li rel="external nofollow noreferrer" target=_blank>sundyli</a>)</li><li>Ajouté les fonctions de hachage <code class=syntax>javaHash</code>, <code class=syntax>hiveHash</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3811 rel="external nofollow noreferrer" target=_blank>#3811</a> (<a href=https://github.com/shangshujie365 rel="external nofollow noreferrer" target=_blank>shangshujie365</a>)</li><li>Ajout d'un tableau de fonction <code class=syntax>remoteSecure</code>. Fonction fonctionne comme <code class=syntax>remote</code>, mais il utilise une connexion sécurisée. <a href=https://github.com/ClickHouse/ClickHouse/pull/4088 rel="external nofollow noreferrer" target=_blank>#4088</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li></ul><h4 id=experimental-features-3>Caractéristiques Expérimentales<a class=headerlink href=../amp/#experimental-features-3 title="Permanent link"> </a></h4><ul><li>Ajout de plusieurs jointures émulation (<code class=syntax>allow_experimental_multiple_joins_emulation</code> paramètre). <a href=https://github.com/ClickHouse/ClickHouse/pull/3946 rel="external nofollow noreferrer" target=_blank>#3946</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li></ul><h4 id=bug-fixes-21>Corrections De Bugs<a class=headerlink href=../amp/#bug-fixes-21 title="Permanent link"> </a></h4><ul><li>Faire <code class=syntax>compiled_expression_cache_size</code> réglage limité par défaut pour réduire la consommation de mémoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/4041 rel="external nofollow noreferrer" target=_blank>#4041</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un bug qui a conduit à des interruptions dans les threads qui effectuent des modifications de tables répliquées et dans le thread qui met à jour la configuration de ZooKeeper. <a href=https://github.com/ClickHouse/ClickHouse/issues/2947 rel="external nofollow noreferrer" target=_blank>#2947</a> <a href=https://github.com/ClickHouse/ClickHouse/issues/3891 rel="external nofollow noreferrer" target=_blank>#3891</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3934 rel="external nofollow noreferrer" target=_blank>#3934</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Correction d'une condition de concurrence lors de l'exécution d'une tâche alter distribuée. La condition de concurrence a conduit à plus d'une réplique essayant d'exécuter la tâche et toutes les répliques sauf une échouant avec une erreur ZooKeeper. <a href=https://github.com/ClickHouse/ClickHouse/pull/3904 rel="external nofollow noreferrer" target=_blank>#3904</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Correction d'un bug lors de l' <code class=syntax>from_zk</code> les éléments de configuration n'ont pas été actualisés après l'expiration d'une requête à ZooKeeper. <a href=https://github.com/ClickHouse/ClickHouse/issues/2947 rel="external nofollow noreferrer" target=_blank>#2947</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3947 rel="external nofollow noreferrer" target=_blank>#3947</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Correction d'un bug avec un mauvais préfixe pour les masques de sous-réseau IPv4. <a href=https://github.com/ClickHouse/ClickHouse/pull/3945 rel="external nofollow noreferrer" target=_blank>#3945</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'un crash (<code class=syntax>std::terminate</code>) dans de rares cas où un nouveau thread ne peut pas être créé en raison de ressources épuisées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3956 rel="external nofollow noreferrer" target=_blank>#3956</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug quand dans <code class=syntax>remote</code> exécution de la fonction de table lorsque des restrictions incorrectes ont été utilisées pour in <code class=syntax>getStructureOfRemoteTable</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4009 rel="external nofollow noreferrer" target=_blank>#4009</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'une fuite de sockets netlink. Ils ont été placés dans un pool où ils n'ont jamais été supprimés et de nouvelles sockets ont été créées au début d'un nouveau thread lorsque toutes les sockets actuelles étaient en cours d'utilisation. <a href=https://github.com/ClickHouse/ClickHouse/pull/4017 rel="external nofollow noreferrer" target=_blank>#4017</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Correction d'un bug avec fermeture <code class=syntax>/proc/self/fd</code> répertoire plus tôt que tous les fds ont été lus à partir de <code class=syntax>/proc</code> après la bifurcation <code class=syntax>odbc-bridge</code> sous-processus. <a href=https://github.com/ClickHouse/ClickHouse/pull/4120 rel="external nofollow noreferrer" target=_blank>#4120</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction de la chaîne à la conversion monotone UInt en cas d'utilisation de la chaîne dans la clé primaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/3870 rel="external nofollow noreferrer" target=_blank>#3870</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Correction d'une erreur dans le calcul de la monotonie de la fonction de conversion entière. <a href=https://github.com/ClickHouse/ClickHouse/pull/3921 rel="external nofollow noreferrer" target=_blank>#3921</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Fixe erreur de segmentation dans <code class=syntax>arrayEnumerateUniq</code>, <code class=syntax>arrayEnumerateDense</code> fonctions en cas d'arguments non valides. <a href=https://github.com/ClickHouse/ClickHouse/pull/3909 rel="external nofollow noreferrer" target=_blank>#3909</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Corriger UB dans StorageMerge. <a href=https://github.com/ClickHouse/ClickHouse/pull/3910 rel="external nofollow noreferrer" target=_blank>#3910</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Correction de segfault dans les fonctions <code class=syntax>addDays</code>, <code class=syntax>subtractDays</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3913 rel="external nofollow noreferrer" target=_blank>#3913</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur: fonctions <code class=syntax>round</code>, <code class=syntax>floor</code>, <code class=syntax>trunc</code>, <code class=syntax>ceil</code> peut renvoyer un résultat faux lorsqu'il est exécuté sur un argument entier et une grande échelle négative. <a href=https://github.com/ClickHouse/ClickHouse/pull/3914 rel="external nofollow noreferrer" target=_blank>#3914</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un bug induit par ‘kill query sync’ ce qui conduit à une décharge de base. <a href=https://github.com/ClickHouse/ClickHouse/pull/3916 rel="external nofollow noreferrer" target=_blank>#3916</a> (<a href=https://github.com/fancyqlx rel="external nofollow noreferrer" target=_blank>muVulDeePecker</a>)</li><li>Correction d'un bug avec un long délai après la file d'attente de réplication vide. <a href=https://github.com/ClickHouse/ClickHouse/pull/3928 rel="external nofollow noreferrer" target=_blank>#3928</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3932 rel="external nofollow noreferrer" target=_blank>#3932</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Correction d'une utilisation excessive de la mémoire en cas d'insertion dans la table avec <code class=syntax>LowCardinality</code> clé primaire. <a href=https://github.com/ClickHouse/ClickHouse/pull/3955 rel="external nofollow noreferrer" target=_blank>#3955</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Fixe <code class=syntax>LowCardinality</code> la sérialisation de <code class=syntax>Native</code> format en cas de tableaux vides. <a href=https://github.com/ClickHouse/ClickHouse/issues/3907 rel="external nofollow noreferrer" target=_blank>#3907</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4011 rel="external nofollow noreferrer" target=_blank>#4011</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Correction d'un résultat incorrect lors de l'utilisation de la colonne numérique distinct by single LowCardinality. <a href=https://github.com/ClickHouse/ClickHouse/issues/3895 rel="external nofollow noreferrer" target=_blank>#3895</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/4012 rel="external nofollow noreferrer" target=_blank>#4012</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Agrégation spécialisée fixe avec la clé LowCardinality (dans le cas où <code class=syntax>compile</code> paramètre est activé). <a href=https://github.com/ClickHouse/ClickHouse/pull/3886 rel="external nofollow noreferrer" target=_blank>#3886</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Correction du transfert d'utilisateur et de mot de passe pour les requêtes de tables répliquées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3957 rel="external nofollow noreferrer" target=_blank>#3957</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>) (<a href=https://github.com/nicelulu rel="external nofollow noreferrer" target=_blank>小路</a>)</li><li>Correction d'une condition de course très rare qui peut se produire lors de la liste des tables dans la base de données du dictionnaire lors du rechargement des dictionnaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/3970 rel="external nofollow noreferrer" target=_blank>#3970</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'un résultat incorrect lors de L'utilisation avec ROLLUP ou CUBE. <a href=https://github.com/ClickHouse/ClickHouse/issues/3756 rel="external nofollow noreferrer" target=_blank>#3756</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3837 rel="external nofollow noreferrer" target=_blank>#3837</a> (<a href=https://github.com/reflection rel="external nofollow noreferrer" target=_blank>Sam Chou</a>)</li><li>Alias de colonne fixe pour la requête avec <code class=syntax>JOIN ON</code> syntaxe et tables distribuées. <a href=https://github.com/ClickHouse/ClickHouse/pull/3980 rel="external nofollow noreferrer" target=_blank>#3980</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Correction d'une erreur dans la mise en œuvre interne de <code class=syntax>quantileTDigest</code> (trouvé par Artem Vakhrushev). Cette erreur ne se produit jamais dans ClickHouse et n'était pertinente que pour ceux qui utilisent directement clickhouse codebase comme bibliothèque. <a href=https://github.com/ClickHouse/ClickHouse/pull/3935 rel="external nofollow noreferrer" target=_blank>#3935</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=improvements-6>Amélioration<a class=headerlink href=../amp/#improvements-6 title="Permanent link"> </a></h4><ul><li>Soutien pour <code class=syntax>IF NOT EXISTS</code> dans <code class=syntax>ALTER TABLE ADD COLUMN</code> les déclarations avec <code class=syntax>IF EXISTS</code> dans <code class=syntax>DROP/MODIFY/CLEAR/COMMENT COLUMN</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3900 rel="external nofollow noreferrer" target=_blank>#3900</a> (<a href=https://github.com/bgranvea rel="external nofollow noreferrer" target=_blank>Boris Granveaud</a>)</li><li>Fonction <code class=syntax>parseDateTimeBestEffort</code>: prise en charge de formats <code class=syntax>DD.MM.YYYY</code>, <code class=syntax>DD.MM.YY</code>, <code class=syntax>DD-MM-YYYY</code>, <code class=syntax>DD-Mon-YYYY</code>, <code class=syntax>DD/Month/YYYY</code> et similaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/3922 rel="external nofollow noreferrer" target=_blank>#3922</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li><code class=syntax>CapnProtoInputStream</code> maintenant soutenir les structures déchiquetées. <a href=https://github.com/ClickHouse/ClickHouse/pull/4063 rel="external nofollow noreferrer" target=_blank>#4063</a> (<a href=https://github.com/Miniwoffer rel="external nofollow noreferrer" target=_blank>Odin Hultgren Van Der Horst</a>)</li><li>Amélioration de la facilité d'utilisation: ajout d'une vérification que le processus du serveur est démarré à partir du propriétaire du répertoire de données. Ne pas autoriser le démarrage du serveur à partir de la racine si les données appartiennent à un utilisateur non root. <a href=https://github.com/ClickHouse/ClickHouse/pull/3785 rel="external nofollow noreferrer" target=_blank>#3785</a> (<a href=https://github.com/sergey-v-galtsev rel="external nofollow noreferrer" target=_blank>sergey-V-galtsev</a>)</li><li>Meilleure logique de vérification des colonnes requises lors de l'analyse des requêtes avec des jointures. <a href=https://github.com/ClickHouse/ClickHouse/pull/3930 rel="external nofollow noreferrer" target=_blank>#3930</a> (<a href=https://github.com/4ertus2 rel="external nofollow noreferrer" target=_blank>Artem Zuikov</a>)</li><li>Diminution du nombre de connexions en cas de grand nombre de tables distribuées dans un seul serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/3726 rel="external nofollow noreferrer" target=_blank>#3726</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li><li>Appuyé ligne de totaux pour <code class=syntax>WITH TOTALS</code> requête pour le pilote ODBC. <a href=https://github.com/ClickHouse/ClickHouse/pull/3836 rel="external nofollow noreferrer" target=_blank>#3836</a> (<a href=https://github.com/nightweb rel="external nofollow noreferrer" target=_blank>Maksim Koritckiy</a>)</li><li>Autorisé à utiliser <code class=syntax>Enum</code>s comme entiers à l'intérieur de la fonction if. <a href=https://github.com/ClickHouse/ClickHouse/pull/3875 rel="external nofollow noreferrer" target=_blank>#3875</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Ajouter <code class=syntax>low_cardinality_allow_in_native_format</code> paramètre. Si désactivé, ne pas utiliser <code class=syntax>LowCadrinality</code> type de <code class=syntax>Native</code> format. <a href=https://github.com/ClickHouse/ClickHouse/pull/3879 rel="external nofollow noreferrer" target=_blank>#3879</a> (<a href=https://github.com/KochetovNicolai rel="external nofollow noreferrer" target=_blank>KochetovNicolai</a>)</li><li>Suppression de certains objets redondants du cache des expressions compilées pour réduire l'utilisation de la mémoire. <a href=https://github.com/ClickHouse/ClickHouse/pull/4042 rel="external nofollow noreferrer" target=_blank>#4042</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter vérifier que <code class=syntax>SET send_logs_level = 'value'</code> requête accepter la valeur appropriée. <a href=https://github.com/ClickHouse/ClickHouse/pull/3873 rel="external nofollow noreferrer" target=_blank>#3873</a> (<a href=https://github.com/s-mx rel="external nofollow noreferrer" target=_blank>Sabyanin Maxim</a>)</li><li>Vérification de type de données fixe dans les fonctions de conversion de type. <a href=https://github.com/ClickHouse/ClickHouse/pull/3896 rel="external nofollow noreferrer" target=_blank>#3896</a> (<a href=https://github.com/zhang2014 rel="external nofollow noreferrer" target=_blank>L'Hiver Zhang</a>)</li></ul><h4 id=performance-improvements-5>Amélioration Des Performances<a class=headerlink href=../amp/#performance-improvements-5 title="Permanent link"> </a></h4><ul><li>Ajouter un paramètre MergeTree <code class=syntax>use_minimalistic_part_header_in_zookeeper</code>. Si cette option est activée, les tables répliquées stockent les métadonnées de partie compacte dans un znode de partie unique. Cela peut réduire considérablement la taille de l'instantané ZooKeeper (surtout si les tables ont beaucoup de colonnes). Notez qu'après avoir activé ce paramètre, vous ne pourrez pas passer à une version qui ne le supporte pas. <a href=https://github.com/ClickHouse/ClickHouse/pull/3960 rel="external nofollow noreferrer" target=_blank>#3960</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Ajouter une implémentation basée sur DFA pour les fonctions <code class=syntax>sequenceMatch</code> et <code class=syntax>sequenceCount</code> en cas de motif ne contient pas de temps. <a href=https://github.com/ClickHouse/ClickHouse/pull/4004 rel="external nofollow noreferrer" target=_blank>#4004</a> (<a href=https://github.com/ercolanelli-leo rel="external nofollow noreferrer" target=_blank>Léo Ercolanelli</a>)</li><li>Amélioration des performances pour la sérialisation des nombres entiers. <a href=https://github.com/ClickHouse/ClickHouse/pull/3968 rel="external nofollow noreferrer" target=_blank>#3968</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Zéro gauche padding PODArray de sorte que -1 élément est toujours valide et mis à zéro. Il est utilisé pour le calcul sans branche des décalages. <a href=https://github.com/ClickHouse/ClickHouse/pull/3920 rel="external nofollow noreferrer" target=_blank>#3920</a> (<a href=https://github.com/amosbird rel="external nofollow noreferrer" target=_blank>Amos Oiseau</a>)</li><li>Revenir <code class=syntax>jemalloc</code> version qui conduisent à la dégradation des performances. <a href=https://github.com/ClickHouse/ClickHouse/pull/4018 rel="external nofollow noreferrer" target=_blank>#4018</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li></ul><h4 id=backward-incompatible-changes-2>Modifications Incompatibles En Arrière<a class=headerlink href=../amp/#backward-incompatible-changes-2 title="Permanent link"> </a></h4><ul><li>Fonctionnalité non documentée supprimée <code class=syntax>ALTER MODIFY PRIMARY KEY</code> parce qu'il a été remplacé par le <code class=syntax>ALTER MODIFY ORDER BY</code> commande. <a href=https://github.com/ClickHouse/ClickHouse/pull/3887 rel="external nofollow noreferrer" target=_blank>#3887</a> (<a href=https://github.com/ztlpn rel="external nofollow noreferrer" target=_blank>Alex Zatelepin</a>)</li><li>Retiré de la fonction <code class=syntax>shardByHash</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3833 rel="external nofollow noreferrer" target=_blank>#3833</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Interdire l'utilisation de sous-requêtes scalaires avec le résultat de type <code class=syntax>AggregateFunction</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3865 rel="external nofollow noreferrer" target=_blank>#3865</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li></ul><h4 id=buildtestingpackaging-improvements-6>Construire/Test/Emballage Améliorations<a class=headerlink href=../amp/#buildtestingpackaging-improvements-6 title="Permanent link"> </a></h4><ul><li>Ajout du support pour PowerPC (<code class=syntax>ppc64le</code>) construire. <a href=https://github.com/ClickHouse/ClickHouse/pull/4132 rel="external nofollow noreferrer" target=_blank>#4132</a> (<a href=https://github.com/danlark1 rel="external nofollow noreferrer" target=_blank>Danila Kutenin</a>)</li><li>Les tests fonctionnels avec État sont exécutés sur un ensemble de données Public disponible. <a href=https://github.com/ClickHouse/ClickHouse/pull/3969 rel="external nofollow noreferrer" target=_blank>#3969</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction d'une erreur lorsque le serveur ne peut pas démarrer avec le <code class=syntax>bash: /usr/bin/clickhouse-extract-from-config: Operation not permitted</code> message dans Docker ou systemd-nspawn. <a href=https://github.com/ClickHouse/ClickHouse/pull/4136 rel="external nofollow noreferrer" target=_blank>#4136</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Mettre <code class=syntax>rdkafka</code> bibliothèque à V1.0. 0-RC5. Utilisé cppkafka au lieu de l'interface c brute. <a href=https://github.com/ClickHouse/ClickHouse/pull/4025 rel="external nofollow noreferrer" target=_blank>#4025</a> (<a href=https://github.com/abyss7 rel="external nofollow noreferrer" target=_blank>Ivan</a>)</li><li>Mettre <code class=syntax>mariadb-client</code> bibliothèque. Correction d'un des problèmes trouvés par UBSan. <a href=https://github.com/ClickHouse/ClickHouse/pull/3924 rel="external nofollow noreferrer" target=_blank>#3924</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Quelques corrections pour UBSan construit. <a href=https://github.com/ClickHouse/ClickHouse/pull/3926 rel="external nofollow noreferrer" target=_blank>#3926</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3021 rel="external nofollow noreferrer" target=_blank>#3021</a> <a href=https://github.com/ClickHouse/ClickHouse/pull/3948 rel="external nofollow noreferrer" target=_blank>#3948</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de tests par validation avec UBSan build.</li><li>Ajout d'exécutions par validation de PVS-Studio static analyzer.</li><li>Correction de bugs trouvés par PVS-Studio. <a href=https://github.com/ClickHouse/ClickHouse/pull/4013 rel="external nofollow noreferrer" target=_blank>#4013</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de problèmes de compatibilité glibc. <a href=https://github.com/ClickHouse/ClickHouse/pull/4100 rel="external nofollow noreferrer" target=_blank>#4100</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Déplacez les images Docker vers 18.10 et ajoutez un fichier de compatibilité pour glibc &gt; = 2.28 <a href=https://github.com/ClickHouse/ClickHouse/pull/3965 rel="external nofollow noreferrer" target=_blank>#3965</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Ajouter une variable env si l'utilisateur ne veut pas chown répertoires dans l'image Docker du serveur. <a href=https://github.com/ClickHouse/ClickHouse/pull/3967 rel="external nofollow noreferrer" target=_blank>#3967</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li>Activé la plupart des avertissements de <code class=syntax>-Weverything</code> à clang. Permettre <code class=syntax>-Wpedantic</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/3986 rel="external nofollow noreferrer" target=_blank>#3986</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Ajout de quelques avertissements supplémentaires disponibles uniquement dans clang 8. <a href=https://github.com/ClickHouse/ClickHouse/pull/3993 rel="external nofollow noreferrer" target=_blank>#3993</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Lien vers <code class=syntax>libLLVM</code> plutôt que de libs LLVM individuels lors de l'utilisation de liens partagés. <a href=https://github.com/ClickHouse/ClickHouse/pull/3989 rel="external nofollow noreferrer" target=_blank>#3989</a> (<a href=https://github.com/orivej rel="external nofollow noreferrer" target=_blank>Orivej Desh</a>)</li><li>Ajout de variables de désinfection pour les images de test. <a href=https://github.com/ClickHouse/ClickHouse/pull/4072 rel="external nofollow noreferrer" target=_blank>#4072</a> (<a href=https://github.com/alesapin rel="external nofollow noreferrer" target=_blank>alésapine</a>)</li><li><code class=syntax>clickhouse-server</code> le paquet debian recommandera <code class=syntax>libcap2-bin</code> package à utiliser <code class=syntax>setcap</code> outil pour définir les capacités. Cette option est facultative. <a href=https://github.com/ClickHouse/ClickHouse/pull/4093 rel="external nofollow noreferrer" target=_blank>#4093</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Amélioration du temps de compilation, fixe comprend. <a href=https://github.com/ClickHouse/ClickHouse/pull/3898 rel="external nofollow noreferrer" target=_blank>#3898</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout de tests de performance pour les fonctions de hachage. <a href=https://github.com/ClickHouse/ClickHouse/pull/3918 rel="external nofollow noreferrer" target=_blank>#3918</a> (<a href=https://github.com/filimonov rel="external nofollow noreferrer" target=_blank>filimonov</a>)</li><li>Dépendances de bibliothèque cycliques fixes. <a href=https://github.com/ClickHouse/ClickHouse/pull/3958 rel="external nofollow noreferrer" target=_blank>#3958</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Amélioration de la compilation avec une faible mémoire disponible. <a href=https://github.com/ClickHouse/ClickHouse/pull/4030 rel="external nofollow noreferrer" target=_blank>#4030</a> (<a href=https://github.com/proller rel="external nofollow noreferrer" target=_blank>proller</a>)</li><li>Ajout d'un script de test pour reproduire la dégradation des performances dans <code class=syntax>jemalloc</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4036 rel="external nofollow noreferrer" target=_blank>#4036</a> (<a href=https://github.com/alexey-milovidov rel="external nofollow noreferrer" target=_blank>alexeï-milovidov</a>)</li><li>Correction de fautes d'orthographe dans les commentaires et les littéraux de chaîne sous <code class=syntax>dbms</code>. <a href=https://github.com/ClickHouse/ClickHouse/pull/4122 rel="external nofollow noreferrer" target=_blank>#4122</a> (<a href=https://github.com/maiha rel="external nofollow noreferrer" target=_blank>maiha</a>)</li><li>Correction de fautes dans les commentaires. <a href=https://github.com/ClickHouse/ClickHouse/pull/4089 rel="external nofollow noreferrer" target=_blank>#4089</a> (<a href=https://github.com/kvinty rel="external nofollow noreferrer" target=_blank>Evgenii Pravda</a>)</li></ul><h2 id=changelog-for-2018><a href=../../2018/amp/#clickhouse-release-18-16>Changelog pour 2018</a><a class=headerlink href=../amp/#changelog-for-2018 title="Permanent link"> </a></h2>
        </div>
      </div>
      <div class="row">
        <div class="col">
          
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Évaluation: RATING_VALUE - RATING_COUNT vote</p>
  <span class="alert-heading display-6">L'Article De Notation</span>
  <div id="rating-stars" class="display-6 mb-0"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>Construit à partir de <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, publié le <span title="2020-04-04T12:15:31+03:00">2020-04-04</span>, modifié sur <span title="2020-05-15T07:34:54+03:00">2020-05-15</span>
    
    </div>
</div>

        </div>
      </div>
      <div id="to-full-website" class="row fixed-bottom text-center bg-white py-3">
        <div class="col">
          <a class="btn btn-lg btn-outline-orange" href="https://clickhouse.tech/docs/fr/whats-new/changelog/2019/">To full website</a>
        </div>
      </div>
    </div>
    <amp-analytics type="metrika">
      <script type="application/json">{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script>
  </amp-analytics>
  </body>
</html>
