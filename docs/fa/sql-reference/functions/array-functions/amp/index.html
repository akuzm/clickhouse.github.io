










    



    



    



    
    






    <!doctype html>
<html ⚡ lang="fa">
  <head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>کار با ارریس | مستندات ClickHouse</title>
    <link rel="canonical" href="https://clickhouse.tech/docs/fa/sql-reference/functions/array-functions/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "کار با ارریس | مستندات ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/fa/sql-reference/functions/array-functions/",

"datePublished": "2020-04-04T12:15:31+03:00",
"dateModified": "2020-06-16T09:31:00+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "کار با ارریس | مستندات ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>

    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}footer{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}b,strong{font-weight:bolder}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}a:not([href]):hover{color:inherit;text-decoration:none}code,pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}select{text-transform:none}select{word-wrap:normal}[type=button],[type=reset],[type=submit]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}[hidden]{display:none}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}.img-fluid{max-width:100%;height:auto}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container{max-width:720px}}@media(min-width:992px){.container{max-width:960px}}@media(min-width:1200px){.container{max-width:1140px}}.container-fluid,.container-lg,.container-md{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width:576px){.container{max-width:540px}}@media(min-width:768px){.container,.container-md{max-width:720px}}@media(min-width:992px){.container,.container-lg,.container-md{max-width:960px}}@media(min-width:1200px){.container,.container-lg,.container-md{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media(min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media(min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn:disabled{opacity:.65}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link:focus{text-decoration:underline;box-shadow:none}.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}.btn-group{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group>.btn:hover{z-index:1}.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.custom-select{display:inline-block;width:100%;height:calc(1.5em+.75rem+2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") no-repeat right .75rem center/8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057}.custom-select-lg{height:calc(1.5em+1rem+2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-range{width:100%;height:1.4rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media(prefers-reduced-motion:reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:transparent;border-color:transparent;border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion:reduce){.custom-select{transition:none}}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary .alert-link{color:#002752}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1}}.bg-primary{background-color:#007bff}a.bg-primary:focus,a.bg-primary:hover{background-color:#0062cc}.bg-light{background-color:#f8f9fa}a.bg-light:focus,a.bg-light:hover{background-color:#dae0e5}.bg-dark{background-color:#343a40}a.bg-dark:focus,a.bg-dark:hover{background-color:#1d2124}.bg-white{background-color:#fff}.d-none{display:none}.d-inline{display:inline}.d-inline-block{display:inline-block}.d-block{display:block}@media(min-width:768px){.d-md-none{display:none}.d-md-inline{display:inline}.d-md-inline-block{display:inline-block}.d-md-block{display:block}}@media(min-width:992px){.d-lg-none{display:none}.d-lg-inline{display:inline}.d-lg-inline-block{display:inline-block}.d-lg-block{display:block}}.float-left{float:left}.float-right{float:right}.float-none{float:none}@media(min-width:768px){.float-md-left{float:left}.float-md-right{float:right}.float-md-none{float:none}}@media(min-width:992px){.float-lg-left{float:left}.float-lg-right{float:right}.float-lg-none{float:none}}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.my-0{margin-top:0}.mr-0{margin-right:0}.mb-0,.my-0{margin-bottom:0}.my-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mb-1,.my-1{margin-bottom:.25rem}.my-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2,.my-2{margin-bottom:.5rem}.my-3{margin-top:1rem}.mr-3{margin-right:1rem}.mb-3,.my-3{margin-bottom:1rem}.my-4{margin-top:1.5rem}.mr-4{margin-right:1.5rem}.mb-4,.my-4{margin-bottom:1.5rem}.my-5{margin-top:3rem}.mr-5{margin-right:3rem}.mb-5,.my-5{margin-bottom:3rem}.p-0{padding:0}.pt-0,.py-0{padding-top:0}.pb-0,.py-0{padding-bottom:0}.p-1{padding:.25rem}.pt-1,.py-1{padding-top:.25rem}.pb-1,.py-1{padding-bottom:.25rem}.p-2{padding:.5rem}.pt-2,.py-2{padding-top:.5rem}.pb-2,.py-2{padding-bottom:.5rem}.p-3{padding:1rem}.pt-3,.py-3{padding-top:1rem}.pb-3,.py-3{padding-bottom:1rem}.p-4{padding:1.5rem}.pt-4,.py-4{padding-top:1.5rem}.pb-4,.py-4{padding-bottom:1.5rem}.p-5{padding:3rem}.pt-5,.py-5{padding-top:3rem}.pb-5,.py-5{padding-bottom:3rem}.my-n1{margin-top:-.25rem}.mr-n1{margin-right:-.25rem}.mb-n1,.my-n1{margin-bottom:-.25rem}.my-n2{margin-top:-.5rem}.mr-n2{margin-right:-.5rem}.mb-n2,.my-n2{margin-bottom:-.5rem}.my-n3{margin-top:-1rem}.mr-n3{margin-right:-1rem}.mb-n3,.my-n3{margin-bottom:-1rem}.my-n4{margin-top:-1.5rem}.mr-n4{margin-right:-1.5rem}.mb-n4,.my-n4{margin-bottom:-1.5rem}.my-n5{margin-top:-3rem}.mr-n5{margin-right:-3rem}.mb-n5,.my-n5{margin-bottom:-3rem}@media(min-width:768px){.my-md-0{margin-top:0}.mr-md-0{margin-right:0}.mb-md-0,.my-md-0{margin-bottom:0}.my-md-1{margin-top:.25rem}.mr-md-1{margin-right:.25rem}.mb-md-1,.my-md-1{margin-bottom:.25rem}.my-md-2{margin-top:.5rem}.mr-md-2{margin-right:.5rem}.mb-md-2,.my-md-2{margin-bottom:.5rem}.my-md-3{margin-top:1rem}.mr-md-3{margin-right:1rem}.mb-md-3,.my-md-3{margin-bottom:1rem}.my-md-4{margin-top:1.5rem}.mr-md-4{margin-right:1.5rem}.mb-md-4,.my-md-4{margin-bottom:1.5rem}.my-md-5{margin-top:3rem}.mr-md-5{margin-right:3rem}.mb-md-5,.my-md-5{margin-bottom:3rem}.p-md-0{padding:0}.pt-md-0,.py-md-0{padding-top:0}.pb-md-0,.py-md-0{padding-bottom:0}.p-md-1{padding:.25rem}.pt-md-1,.py-md-1{padding-top:.25rem}.pb-md-1,.py-md-1{padding-bottom:.25rem}.p-md-2{padding:.5rem}.pt-md-2,.py-md-2{padding-top:.5rem}.pb-md-2,.py-md-2{padding-bottom:.5rem}.p-md-3{padding:1rem}.pt-md-3,.py-md-3{padding-top:1rem}.pb-md-3,.py-md-3{padding-bottom:1rem}.p-md-4{padding:1.5rem}.pt-md-4,.py-md-4{padding-top:1.5rem}.pb-md-4,.py-md-4{padding-bottom:1.5rem}.p-md-5{padding:3rem}.pt-md-5,.py-md-5{padding-top:3rem}.pb-md-5,.py-md-5{padding-bottom:3rem}.my-md-n1{margin-top:-.25rem}.mr-md-n1{margin-right:-.25rem}.mb-md-n1,.my-md-n1{margin-bottom:-.25rem}.my-md-n2{margin-top:-.5rem}.mr-md-n2{margin-right:-.5rem}.mb-md-n2,.my-md-n2{margin-bottom:-.5rem}.my-md-n3{margin-top:-1rem}.mr-md-n3{margin-right:-1rem}.mb-md-n3,.my-md-n3{margin-bottom:-1rem}.my-md-n4{margin-top:-1.5rem}.mr-md-n4{margin-right:-1.5rem}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem}.my-md-n5{margin-top:-3rem}.mr-md-n5{margin-right:-3rem}.mb-md-n5,.my-md-n5{margin-bottom:-3rem}}@media(min-width:992px){.my-lg-0{margin-top:0}.mr-lg-0{margin-right:0}.mb-lg-0,.my-lg-0{margin-bottom:0}.my-lg-1{margin-top:.25rem}.mr-lg-1{margin-right:.25rem}.mb-lg-1,.my-lg-1{margin-bottom:.25rem}.my-lg-2{margin-top:.5rem}.mr-lg-2{margin-right:.5rem}.mb-lg-2,.my-lg-2{margin-bottom:.5rem}.my-lg-3{margin-top:1rem}.mr-lg-3{margin-right:1rem}.mb-lg-3,.my-lg-3{margin-bottom:1rem}.my-lg-4{margin-top:1.5rem}.mr-lg-4{margin-right:1.5rem}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem}.my-lg-5{margin-top:3rem}.mr-lg-5{margin-right:3rem}.mb-lg-5,.my-lg-5{margin-bottom:3rem}.p-lg-0{padding:0}.pt-lg-0,.py-lg-0{padding-top:0}.pb-lg-0,.py-lg-0{padding-bottom:0}.p-lg-1{padding:.25rem}.pt-lg-1,.py-lg-1{padding-top:.25rem}.pb-lg-1,.py-lg-1{padding-bottom:.25rem}.p-lg-2{padding:.5rem}.pt-lg-2,.py-lg-2{padding-top:.5rem}.pb-lg-2,.py-lg-2{padding-bottom:.5rem}.p-lg-3{padding:1rem}.pt-lg-3,.py-lg-3{padding-top:1rem}.pb-lg-3,.py-lg-3{padding-bottom:1rem}.p-lg-4{padding:1.5rem}.pt-lg-4,.py-lg-4{padding-top:1.5rem}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem}.p-lg-5{padding:3rem}.pt-lg-5,.py-lg-5{padding-top:3rem}.pb-lg-5,.py-lg-5{padding-bottom:3rem}.my-lg-n1{margin-top:-.25rem}.mr-lg-n1{margin-right:-.25rem}.mb-lg-n1,.my-lg-n1{margin-bottom:-.25rem}.my-lg-n2{margin-top:-.5rem}.mr-lg-n2{margin-right:-.5rem}.mb-lg-n2,.my-lg-n2{margin-bottom:-.5rem}.my-lg-n3{margin-top:-1rem}.mr-lg-n3{margin-right:-1rem}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem}.my-lg-n4{margin-top:-1.5rem}.mr-lg-n4{margin-right:-1.5rem}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem}.my-lg-n5{margin-top:-3rem}.mr-lg-n5{margin-right:-3rem}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem}}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}@media(min-width:768px){.text-md-left{text-align:left}.text-md-right{text-align:right}.text-md-center{text-align:center}}@media(min-width:992px){.text-lg-left{text-align:left}.text-lg-right{text-align:right}.text-lg-center{text-align:center}}.text-white{color:#fff}.text-primary{color:#007bff}a.text-primary:focus,a.text-primary:hover{color:#0056b3}.text-light{color:#f8f9fa}a.text-light:focus,a.text-light:hover{color:#cbd3da}.text-dark{color:#343a40}a.text-dark:focus,a.text-dark:hover{color:#121416}.text-body{color:#212529}.text-muted{color:#6c757d}.text-black-50{color:rgba(0,0,0,.5)}.text-white-50{color:rgba(255,255,255,.5)}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.text-decoration-none{text-decoration:none}.text-reset{color:inherit}.visible{visibility:visible}@media print{*,::after,::before{text-shadow:none;box-shadow:none}a:not(.btn){text-decoration:underline}pre{white-space:pre-wrap}pre{border:1px solid #adb5bd;page-break-inside:avoid}img{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px}.container{min-width:992px}}@-webkit-keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}@keyframes sbx-reset-in{0%{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0);opacity:0}100%{-webkit-transform:none;transform:none;opacity:1}}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}a:link,a:visited{color:#f14600;text-decoration:none}a:active,a:hover{text-decoration:underline}.btn:disabled{cursor:default;opacity:.4}#logo-text{width:180px;margin-left:12px}.display-5{font-size:2rem;font-weight:300;line-height:1.2}.display-6{font-size:1.75rem;font-weight:300;line-height:1.2}.bg-dark-alt,.bg-dark-alt:focus{background:#36363f}.bg-orange,.bg-orange:focus{background:#f14600}.text-dark-alt{color:#36363f}.btn-dark-alt{background:#36363f}.btn-dark-alt:focus{background:#36363f}.btn-outline-orange{border-color:#f14600;color:#f14600}.btn-orange,.btn-outline-orange:hover{background:#f14600;color:#fff}.btn:active,.btn:hover{text-decoration:none}.text-orange{color:#f14600}.bg-number{position:absolute;font-size:900%;font-weight:700;color:rgba(241,70,0,.1);line-height:1;margin-top:-1rem}.headerlink{text-decoration:none;margin-left:.5rem}body[data-spy] #content{overflow-x:scroll}#content code{color:#111;background:#eee}#content pre{background:#eee;padding:1rem}@media print{body{min-width:0}code,h1,h2,h3,h4,h5,h6,img,li,p,pre{page-break-inside:avoid}}@media(prefers-color-scheme:dark){#to-full-website,body.amp,body[data-spy]{background:#1c1c1c;color:#efefef}.invert-dark{filter:invert(100%)}#content code,#content pre{background:#444;color:#eee}}.syntax{background:#f8f9fa;color:#2f1e2e}.syntax .c{color:#8d8687}.syntax .k{color:#815ba4}.syntax .n{color:#2f1e2e}.syntax .o{color:#5bc4bf}.syntax .p{color:#2f1e2e}.syntax .c1{color:#8d8687}.syntax .ld{color:#48b685}.syntax .s{color:#48b685}.syntax .nb{color:#2f1e2e}.syntax .no{color:#ef6155}.syntax .py{color:#2f1e2e}.syntax .mi{color:#f99b15}.syntax .s2{color:#48b685}.syntax .s1{color:#48b685}@media(prefers-color-scheme:dark){.syntax .k{color:#c78cff}.syntax .ld{color:#64ffbb}.syntax .s{color:#64ffbb}.syntax .s2{color:#64ffbb}.syntax .s1{color:#64ffbb}.syntax .c{color:#64ffbb}.syntax .n{color:#f8f9fa}.syntax .p{color:#f8f9fa}.syntax .nb{color:#f8f9fa}.syntax .py{color:#f8f9fa}}</style>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
  </head>
  <body class="amp" dir="rtl">
    <div class="container-fluid container-lg pb-5">
      <div class="row pt-3 mb-3">
        <div class="col">
          <a href="/" class="text-decoration-none">
            <amp-img class="d-inline-block mr-3" layout="fixed" width="40" height="36" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"></amp-img><amp-img class="invert-dark d-inline-block" layout="fixed" width="238" height="36" src="/images/clickhouse-black.svg" alt="ClickHouse" title="ClickHouse"></amp-img>
          </a>
        </div>
      </div>
      <div class="row">
        <div id="content" class="col">
          
    <div class="alert alert-primary" role="alert">
      <p class="display-5 mb-2">راهنما می خواستم!</p>
      <p class="lead">محتوای زیر از این صفحه اسناد شده است ماشین ترجمه. اما بر خلاف وب سایت های دیگر, این است که در پرواز انجام نمی. این متن ترجمه شده در مخزن گیتهاب در کنار پایگاه داده اصلی خانه کلیک زندگی می کند و منتظر سخنرانان مادری همکار به انسان بیشتر قابل خواندن است. <a href="/docs/en/sql-reference/functions/array-functions/" class="alert-link">شما همچنین می توانید نسخه اصلی انگلیسی به عنوان یک مرجع استفاده کنید.</a></p>
      <p class="lead">
          <a class="btn btn-lg btn-primary text-white" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/fa/sql-reference/functions/array-functions.md" target="_blank" rel="external nofollow noreferrer">
              راهنما مستندات تاتر با ویرایش این صفحه
          </a>
      </p>
    </div>

          <h1 id=functions-for-working-with-arrays>توابع برای کار با ارریس<a class=headerlink href=../amp/#functions-for-working-with-arrays title="Permanent link"> </a></h1><h2 id=function-empty>خالی<a class=headerlink href=../amp/#function-empty title="Permanent link"> </a></h2><p>بازده 1 برای یک مجموعه خالی, یا 0 برای یک مجموعه غیر خالی.<br> نتیجه این نوع UInt8.<br> این تابع نیز برای رشته کار می کند.</p><h2 id=function-notempty>notEmpty<a class=headerlink href=../amp/#function-notempty title="Permanent link"> </a></h2><p>بازده 0 برای یک مجموعه خالی, یا 1 برای یک مجموعه غیر خالی.<br> نتیجه این نوع UInt8.<br> این تابع نیز برای رشته کار می کند.</p><h2 id=array_functions-length>طول<a class=headerlink href=../amp/#array_functions-length title="Permanent link"> </a></h2><p>بازگرداندن تعداد اقلام در مجموعه.<br> نتیجه این نوع UInt64.<br> این تابع نیز برای رشته کار می کند.</p><h2 id=emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64>emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64<a class=headerlink href=../amp/#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64 title="Permanent link"> </a></h2><h2 id=emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64>emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64<a class=headerlink href=../amp/#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64 title="Permanent link"> </a></h2><h2 id=emptyarrayfloat32-emptyarrayfloat64>emptyArrayFloat32, emptyArrayFloat64<a class=headerlink href=../amp/#emptyarrayfloat32-emptyarrayfloat64 title="Permanent link"> </a></h2><h2 id=emptyarraydate-emptyarraydatetime>emptyArrayDate, emptyArrayDateTime<a class=headerlink href=../amp/#emptyarraydate-emptyarraydatetime title="Permanent link"> </a></h2><h2 id=emptyarraystring>تخت خواب<a class=headerlink href=../amp/#emptyarraystring title="Permanent link"> </a></h2><p>قبول صفر استدلال و مجموعه ای خالی از نوع مناسب را برمی گرداند.</p><h2 id=emptyarraytosingle>خالی<a class=headerlink href=../amp/#emptyarraytosingle title="Permanent link"> </a></h2><p>یک مجموعه خالی را می پذیرد و یک مجموعه یک عنصر را که برابر با مقدار پیش فرض است باز می گرداند.</p><h2 id=rangeend-rangestart-end-step>محدوده( پایان), دامنه (شروع, پایان [, گام])<a class=headerlink href=../amp/#rangeend-rangestart-end-step title="Permanent link"> </a></h2><p>بازگرداندن مجموعه ای از اعداد از ابتدا تا انتها-1 به گام.<br> اگر استدلال <code class=syntax>start</code> مشخص نشده است, به طور پیش فرض به 0.<br> اگر استدلال <code class=syntax>step</code> مشخص نشده است, به طور پیش فرض به 1.<br> این رفتار تقریبا مانند پیتون <code class=syntax>range</code>. اما تفاوت این است که همه نوع استدلال باید باشد <code class=syntax>UInt</code> اعداد.<br> فقط در مورد, یک استثنا پرتاب می شود اگر ارریس با طول کل بیش از 100,000,000 عناصر در یک بلوک داده ها ایجاد.</p><h2 id=arrayx1-operator-x1>array(x1, …), operator [x1, …]<a class=headerlink href=../amp/#arrayx1-operator-x1 title="Permanent link"> </a></h2><p>ایجاد مجموعه ای از استدلال تابع.<br> استدلال باید ثابت باشد و انواع که کوچکترین نوع رایج. حداقل یک استدلال باید تصویب شود, چرا که در غیر این صورت مشخص نیست که چه نوع از مجموعه ای برای ایجاد. به این معنا که شما نمی توانید از این تابع برای ایجاد یک مجموعه خالی استفاده کنید (برای انجام این کار از ‘emptyArray*’ تابع در بالا توضیح داده شد).<br> بازگشت یک ‘Array(T)’ نوع نتیجه, جایی که ‘T’ کوچکترین نوع رایج از استدلال گذشت.</p><h2 id=arrayconcat>موافقم<a class=headerlink href=../amp/#arrayconcat title="Permanent link"> </a></h2><p>ترکیبی از ارریس به عنوان استدلال گذشت.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayConcat</span><span class=p>(</span><span class=n>arrays</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>arrays</code> – Arbitrary number of arguments of <a href=../../../data-types/array/amp/ >&amp; حذف</a> نوع.<br><strong>مثال</strong></li></ul><!-- --><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayConcat</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───────────┐
│ [1,2,3,4,5,6] │
└───────────────┘
</code></pre></div><h2 id=arrayelementarr-n-operator-arrn>هشدار داده می شود]<a class=headerlink href=../amp/#arrayelementarr-n-operator-arrn title="Permanent link"> </a></h2><p>عنصر را با شاخص دریافت کنید <code class=syntax>n</code> از مجموعه <code class=syntax>arr</code>. <code class=syntax>n</code> باید هر نوع عدد صحیح باشد.<br> شاخص ها در مجموعه ای از یک شروع می شوند.<br> شاخص های منفی پشتیبانی می شوند. در این مورد, این انتخاب عنصر مربوطه شماره از پایان. به عنوان مثال, <code class=syntax>arr[-1]</code> اخرین وسیله ست</p><p>اگر شاخص می افتد در خارج از مرزهای مجموعه, این گرداند برخی از مقدار پیش فرض (0 برای اعداد, یک رشته خالی برای رشته, و غیره.), به جز برای مورد با یک مجموعه غیر ثابت و یک شاخص ثابت 0 (در این مورد وجود خواهد داشت یک خطا <code class=syntax>Array indices are 1-based</code>).</p><h2 id=hasarr-elem>است (ورود, علم)<a class=headerlink href=../amp/#hasarr-elem title="Permanent link"> </a></h2><p>بررسی اینکه ‘arr’ اری ‘elem’ عنصر.<br> بازده 0 اگر عنصر در مجموعه نیست, یا 1 اگر.</p><p><code class=syntax>NULL</code> به عنوان یک ارزش پردازش شده است.</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>has</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>],</span> <span class=k>NULL</span><span class=p>)</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─has([1, 2, NULL], NULL)─┐
│                       1 │
└─────────────────────────┘
</code></pre></div><h2 id=hasall>حصال<a class=headerlink href=../amp/#hasall title="Permanent link"> </a></h2><p>بررسی اینکه یک مجموعه زیر مجموعه دیگری باشد.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>hasAll</span><span class=p>(</span><span class=k>set</span><span class=p>,</span> <span class=n>subset</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>set</code> – Array of any type with a set of elements.</li><li><code class=syntax>subset</code> – Array of any type with elements that should be tested to be a subset of <code class=syntax>set</code>.</li></ul><p><strong>مقادیر بازگشتی</strong></p><ul><li><code class=syntax>1</code> اگر <code class=syntax>set</code> شامل تمام عناصر از <code class=syntax>subset</code>.</li><li><code class=syntax>0</code> وگرنه</li></ul><p><strong>خواص عجیب و غریب</strong></p><ul><li>مجموعه خالی زیر مجموعه ای از هر است.</li><li><code class=syntax>Null</code> پردازش به عنوان یک ارزش.</li><li>منظور از ارزش ها در هر دو ارریس مهم نیست.</li></ul><p><strong>مثالها</strong></p><p><code class=syntax>SELECT hasAll([], [])</code> بازده 1.</p><p><code class=syntax>SELECT hasAll([1, Null], [Null])</code> بازده 1.</p><p><code class=syntax>SELECT hasAll([1.0, 2, 3, 4], [1, 3])</code> بازده 1.</p><p><code class=syntax>SELECT hasAll(['a', 'b'], ['a'])</code> بازده 1.</p><p><code class=syntax>SELECT hasAll([1], ['a'])</code> بازده 0.</p><p><code class=syntax>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [3, 5]])</code> بازده 0.</p><h2 id=hasany>hasAny<a class=headerlink href=../amp/#hasany title="Permanent link"> </a></h2><p>بررسی اینکه دو بند چهار راه توسط برخی از عناصر.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>hasAny</span><span class=p>(</span><span class=n>array1</span><span class=p>,</span> <span class=n>array2</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array1</code> – Array of any type with a set of elements.</li><li><code class=syntax>array2</code> – Array of any type with a set of elements.</li></ul><p><strong>مقادیر بازگشتی</strong></p><ul><li><code class=syntax>1</code> اگر <code class=syntax>array1</code> و <code class=syntax>array2</code> حداقل یک عنصر مشابه داشته باشید.</li><li><code class=syntax>0</code> وگرنه</li></ul><p><strong>خواص عجیب و غریب</strong></p><ul><li><code class=syntax>Null</code> پردازش به عنوان یک ارزش.</li><li>منظور از ارزش ها در هر دو ارریس مهم نیست.</li></ul><p><strong>مثالها</strong></p><p><code class=syntax>SELECT hasAny([1], [])</code> بازگشت <code class=syntax>0</code>.</p><p><code class=syntax>SELECT hasAny([Null], [Null, 1])</code> بازگشت <code class=syntax>1</code>.</p><p><code class=syntax>SELECT hasAny([-128, 1., 512], [1])</code> بازگشت <code class=syntax>1</code>.</p><p><code class=syntax>SELECT hasAny([[1, 2], [3, 4]], ['a', 'c'])</code> بازگشت <code class=syntax>0</code>.</p><p><code class=syntax>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [1, 2]])</code> بازگشت <code class=syntax>1</code>.</p><h2 id=indexofarr-x>هشدار داده می شود)<a class=headerlink href=../amp/#indexofarr-x title="Permanent link"> </a></h2><p>بازگرداندن شاخص از اولین ‘x’ عنصر (با شروع از 1) اگر در مجموعه ای است, یا 0 اگر نیست.</p><p>مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>indexOf</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=k>NULL</span><span class=p>],</span> <span class=k>NULL</span><span class=p>)</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─indexOf([1, 3, NULL, NULL], NULL)─┐
│                                 3 │
└───────────────────────────────────┘
</code></pre></div><p>عناصر را به <code class=syntax>NULL</code> به عنوان مقادیر طبیعی انجام می شود.</p><h2 id=countequalarr-x>هشدار داده می شود)<a class=headerlink href=../amp/#countequalarr-x title="Permanent link"> </a></h2><p>بازده تعداد عناصر موجود در آرایه برابر با x. معادل arrayCount (elem -&gt; elem = x arr).</p><p><code class=syntax>NULL</code> عناصر به عنوان مقادیر جداگانه به کار گرفته.</p><p>مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>countEqual</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=k>NULL</span><span class=p>],</span> <span class=k>NULL</span><span class=p>)</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─countEqual([1, 2, NULL, NULL], NULL)─┐
│                                    2 │
└──────────────────────────────────────┘
</code></pre></div><h2 id=array_functions-arrayenumerate>هشدار داده می شود)<a class=headerlink href=../amp/#array_functions-arrayenumerate title="Permanent link"> </a></h2><p>Returns the array [1, 2, 3, …, length (arr) ]</p><p>این تابع به طور معمول با مجموعه ای استفاده می شود. این اجازه می دهد شمارش چیزی فقط یک بار برای هر مجموعه پس از استفاده از مجموعه پیوستن. مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=n>Reaches</span><span class=p>,</span>
    <span class=n>countIf</span><span class=p>(</span><span class=n>num</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Hits</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span>
    <span class=n>GoalsReached</span><span class=p>,</span>
    <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>GoalsReached</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span>
<span class=k>WHERE</span> <span class=n>CounterID</span> <span class=o>=</span> <span class=mi>160656</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─Reaches─┬──Hits─┐
│   95606 │ 31406 │
└─────────┴───────┘
</code></pre></div><p>در این مثال, می رسد تعداد تبدیل است (رشته دریافت پس از استفاده از مجموعه ملحق), و بازدید تعداد بازدید صفحات (رشته قبل از مجموعه ملحق). در این مورد خاص شما می توانید همان نتیجه را در یک راه ساده تر:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=k>sum</span><span class=p>(</span><span class=k>length</span><span class=p>(</span><span class=n>GoalsReached</span><span class=p>))</span> <span class=k>AS</span> <span class=n>Reaches</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=n>Hits</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>WHERE</span> <span class=p>(</span><span class=n>CounterID</span> <span class=o>=</span> <span class=mi>160656</span><span class=p>)</span> <span class=k>AND</span> <span class=n>notEmpty</span><span class=p>(</span><span class=n>GoalsReached</span><span class=p>)</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─Reaches─┬──Hits─┐
│   95606 │ 31406 │
└─────────┴───────┘
</code></pre></div><p>این تابع همچنین می توانید در توابع مرتبه بالاتر استفاده می شود. برای مثال می توانید از شاخص های مجموعه ای برای عناصری که با شرایط مطابقت دارند استفاده کنید.</p><h2 id=arrayenumerateuniqarr>arrayEnumerateUniq(arr, …)<a class=headerlink href=../amp/#arrayenumerateuniqarr title="Permanent link"> </a></h2><p>بازگرداندن مجموعه ای به همان اندازه به عنوان مجموعه منبع, نشان می دهد برای هر عنصر چه موقعیت خود را در میان عناصر با همان مقدار.<br> به عنوان مثال: ارریینومراتونیک([10, 20, 10, 30]) = [1, 1, 2, 1].</p><p>این تابع در هنگام استفاده از مجموعه ای پیوستن و تجمع عناصر مجموعه ای مفید است.<br> مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>Goals</span><span class=p>.</span><span class=n>ID</span> <span class=k>AS</span> <span class=n>GoalID</span><span class=p>,</span>
    <span class=k>sum</span><span class=p>(</span><span class=n>Sign</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Reaches</span><span class=p>,</span>
    <span class=n>sumIf</span><span class=p>(</span><span class=n>Sign</span><span class=p>,</span> <span class=n>num</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Visits</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>visits</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span>
    <span class=n>Goals</span><span class=p>,</span>
    <span class=n>arrayEnumerateUniq</span><span class=p>(</span><span class=n>Goals</span><span class=p>.</span><span class=n>ID</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span>
<span class=k>WHERE</span> <span class=n>CounterID</span> <span class=o>=</span> <span class=mi>160656</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>GoalID</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>Reaches</span> <span class=k>DESC</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌──GoalID─┬─Reaches─┬─Visits─┐
│   53225 │    3214 │   1097 │
│ 2825062 │    3188 │   1097 │
│   56600 │    2803 │    488 │
│ 1989037 │    2401 │    365 │
│ 2830064 │    2396 │    910 │
│ 1113562 │    2372 │    373 │
│ 3270895 │    2262 │    812 │
│ 1084657 │    2262 │    345 │
│   56599 │    2260 │    799 │
│ 3271094 │    2256 │    812 │
└─────────┴─────────┴────────┘
</code></pre></div><p>در این مثال هر هدف شناسه محاسبه تعداد تبدیل (هر عنصر در اهداف تو در تو ساختار داده ها یک هدف است که رسیده بود که ما اشاره به عنوان یک تبدیل) و تعداد جلسات. بدون مجموعه ملحق, ما می خواهیم تعداد جلسات به عنوان مجموع شمارش (امضا کردن). اما در این مورد خاص ردیف شد ضرب در تو در تو در اهداف و ساختار آن در سفارش به تعداد هر جلسه یک بار بعد از این ما اعمال یک شرط به ارزش arrayEnumerateUniq(اهداف است.ID) تابع.</p><p>تابع ارریینومراتونیک می تواند چندین بار از همان اندازه به عنوان استدلال استفاده کند. در این مورد, منحصر به فرد است برای تاپل از عناصر در موقعیت های مشابه در تمام ارریس در نظر گرفته.</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayEnumerateUniq</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───────────┐
│ [1,2,1,1,2,1] │
└───────────────┘
</code></pre></div><p>این در هنگام استفاده از مجموعه با یک ساختار داده های تو در تو و تجمع بیشتر در سراسر عناصر متعدد در این ساختار ملحق لازم است.</p><h2 id=arraypopback>عقبگرد<a class=headerlink href=../amp/#arraypopback title="Permanent link"> </a></h2><p>حذف مورد گذشته از مجموعه.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayPopBack</span><span class=p>(</span><span class=nb>array</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – Array.</li></ul><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayPopBack</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───┐
│ [1,2] │
└───────┘
</code></pre></div><h2 id=arraypopfront>ساحل<a class=headerlink href=../amp/#arraypopfront title="Permanent link"> </a></h2><p>اولین مورد را از مجموعه حذف می کند.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayPopFront</span><span class=p>(</span><span class=nb>array</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – Array.</li></ul><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayPopFront</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───┐
│ [2,3] │
└───────┘
</code></pre></div><h2 id=arraypushback>عقب نشینی<a class=headerlink href=../amp/#arraypushback title="Permanent link"> </a></h2><p>یک مورد را به انتهای مجموعه اضافه می کند.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayPushBack</span><span class=p>(</span><span class=nb>array</span><span class=p>,</span> <span class=n>single_value</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – Array.</li><li><code class=syntax>single_value</code> – A single value. Only numbers can be added to an array with numbers, and only strings can be added to an array of strings. When adding numbers, ClickHouse automatically sets the <code class=syntax>single_value</code> نوع داده مجموعه را تایپ کنید. برای کسب اطلاعات بیشتر در مورد انواع داده ها در خانه کلیک کنید “<a href=../../../data-types/amp/#data_types>انواع داده ها</a>”. می تواند باشد <code class=syntax>NULL</code>. تابع می افزاید: <code class=syntax>NULL</code> عنصر به مجموعه ای, و نوع عناصر مجموعه ای تبدیل به <code class=syntax>Nullable</code>.</li></ul><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayPushBack</span><span class=p>([</span><span class=s1>'a'</span><span class=p>],</span> <span class=s1>'b'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───────┐
│ ['a','b'] │
└───────────┘
</code></pre></div><h2 id=arraypushfront>ساحلی<a class=headerlink href=../amp/#arraypushfront title="Permanent link"> </a></h2><p>یک عنصر را به ابتدای مجموعه اضافه می کند.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayPushFront</span><span class=p>(</span><span class=nb>array</span><span class=p>,</span> <span class=n>single_value</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – Array.</li><li><code class=syntax>single_value</code> – A single value. Only numbers can be added to an array with numbers, and only strings can be added to an array of strings. When adding numbers, ClickHouse automatically sets the <code class=syntax>single_value</code> نوع داده مجموعه را تایپ کنید. برای کسب اطلاعات بیشتر در مورد انواع داده ها در خانه کلیک کنید “<a href=../../../data-types/amp/#data_types>انواع داده ها</a>”. می تواند باشد <code class=syntax>NULL</code>. تابع می افزاید: <code class=syntax>NULL</code> عنصر به مجموعه ای, و نوع عناصر مجموعه ای تبدیل به <code class=syntax>Nullable</code>.</li></ul><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayPushFront</span><span class=p>([</span><span class=s1>'b'</span><span class=p>],</span> <span class=s1>'a'</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───────┐
│ ['a','b'] │
└───────────┘
</code></pre></div><h2 id=arrayresize>نمایش سایت<a class=headerlink href=../amp/#arrayresize title="Permanent link"> </a></h2><p>طول مجموعه را تغییر می دهد.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayResize</span><span class=p>(</span><span class=nb>array</span><span class=p>,</span> <span class=k>size</span><span class=p>[,</span> <span class=n>extender</span><span class=p>])</span>
</code></pre></div><p><strong>پارامترها:</strong></p><ul><li><code class=syntax>array</code> — Array.</li><li><code class=syntax>size</code> — Required length of the array.<ul><li>اگر <code class=syntax>size</code> کمتر از اندازه اصلی مجموعه است, مجموعه ای از سمت راست کوتاه.</li></ul></li><li>اگر <code class=syntax>size</code> مجموعه بزرگتر از اندازه اولیه مجموعه است که به سمت راست گسترش می یابد <code class=syntax>extender</code> مقادیر یا مقادیر پیش فرض برای نوع داده از موارد مجموعه.</li><li><code class=syntax>extender</code> — Value for extending an array. Can be <code class=syntax>NULL</code>.</li></ul><p><strong>مقدار بازگشتی:</strong></p><p>مجموعه ای از طول <code class=syntax>size</code>.</p><p><strong>نمونه هایی از تماس</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayResize</span><span class=p>([</span><span class=mi>1</span><span class=p>],</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayResize([1], 3)─┐
│ [1,0,0]             │
└─────────────────────┘
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayResize</span><span class=p>([</span><span class=mi>1</span><span class=p>],</span> <span class=mi>3</span><span class=p>,</span> <span class=k>NULL</span><span class=p>)</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayResize([1], 3, NULL)─┐
│ [1,NULL,NULL]             │
└───────────────────────────┘
</code></pre></div><h2 id=arrayslice>بند<a class=headerlink href=../amp/#arrayslice title="Permanent link"> </a></h2><p>یک تکه از مجموعه را برمی گرداند.</p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arraySlice</span><span class=p>(</span><span class=nb>array</span><span class=p>,</span> <span class=k>offset</span><span class=p>[,</span> <span class=k>length</span><span class=p>])</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – Array of data.</li><li><code class=syntax>offset</code> – Indent from the edge of the array. A positive value indicates an offset on the left, and a negative value is an indent on the right. Numbering of the array items begins with 1.</li><li><code class=syntax>length</code> - طول قطعه مورد نیاز . اگر شما یک مقدار منفی مشخص, تابع یک تکه باز می گرداند <code class=syntax>[offset, array_length - length)</code>. اگر شما حذف ارزش, تابع برش می گرداند <code class=syntax>[offset, the_end_of_array]</code>.</li></ul><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySlice</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res────────┐
│ [2,NULL,4] │
└────────────┘
</code></pre></div><p>عناصر مجموعه ای به <code class=syntax>NULL</code> به عنوان مقادیر طبیعی انجام می شود.</p><h2 id=array_functions-sort>arraySort([func,] arr, …)<a class=headerlink href=../amp/#array_functions-sort title="Permanent link"> </a></h2><p>عناصر را مرتب می کند <code class=syntax>arr</code> صف در صعودی. اگر <code class=syntax>func</code> تابع مشخص شده است, مرتب سازی سفارش توسط نتیجه تعیین <code class=syntax>func</code> تابع اعمال شده به عناصر مجموعه. اگر <code class=syntax>func</code> قبول استدلال های متعدد <code class=syntax>arraySort</code> تابع به تصویب می رسد چند بند که استدلال <code class=syntax>func</code> خواهد به مطابقت. نمونه های دقیق در پایان نشان داده شده است <code class=syntax>arraySort</code> توصیف.</p><p>نمونه ای از مقادیر صحیح مرتب سازی:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>]);</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arraySort([1, 3, 3, 0])─┐
│ [0,1,3,3]               │
└─────────────────────────┘
</code></pre></div><p>نمونه ای از مقادیر رشته مرتب سازی:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>([</span><span class=s1>'hello'</span><span class=p>,</span> <span class=s1>'world'</span><span class=p>,</span> <span class=s1>'!'</span><span class=p>]);</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arraySort(['hello', 'world', '!'])─┐
│ ['!','hello','world']              │
└────────────────────────────────────┘
</code></pre></div><p>ترتیب مرتب سازی زیر را برای <code class=syntax>NULL</code>, <code class=syntax>NaN</code> و <code class=syntax>Inf</code> مقادیر:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=n>inf</span><span class=p>,</span> <span class=o>-</span><span class=n>inf</span><span class=p>]);</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arraySort([1, nan, 2, NULL, 3, nan, -4, NULL, inf, -inf])─┐
│ [-inf,-4,1,2,3,inf,nan,nan,NULL,NULL]                     │
└───────────────────────────────────────────────────────────┘
</code></pre></div><ul><li><code class=syntax>-Inf</code> مقادیر برای اولین بار در مجموعه هستند.</li><li><code class=syntax>NULL</code> ارزشهای خبری عبارتند از:</li><li><code class=syntax>NaN</code> مقادیر درست قبل هستند <code class=syntax>NULL</code>.</li><li><code class=syntax>Inf</code> مقادیر درست قبل هستند <code class=syntax>NaN</code>.</li></ul><p>توجه داشته باشید که <code class=syntax>arraySort</code> یک <a href=../../higher-order-functions/amp/ >عملکرد عالی مرتبه</a>. شما می توانید یک تابع لامبدا را به عنوان اولین استدلال منتقل کنید. در این مورد ترتیب مرتب سازی بر اساس نتیجه تابع لامبدا اعمال شده به عناصر مجموعه تعیین می شود.</p><p>بیایید مثال زیر را در نظر بگیریم:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>x</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────┐
│ [3,2,1] │
└─────────┘
</code></pre></div><p>For each element of the source array, the lambda function returns the sorting key, that is, [1 –&gt; -1, 2 –&gt; -2, 3 –&gt; -3]. Since the <code class=syntax>arraySort</code> تابع انواع کلید به ترتیب صعودی, نتیجه این است [3, 2, 1]. بنابراین <code class=syntax>(x) –&gt; -x</code> عملکرد لامبدا مجموعه <a href=../amp/#array_functions-reverse-sort>ترتیب نزولی</a> در یک مرتب سازی.</p><p>تابع لامبدا می تواند استدلال های متعدد را قبول کند. در این مورد, شما نیاز به تصویب <code class=syntax>arraySort</code> تابع چند بند از طول یکسان است که استدلال تابع لامبدا به مطابقت. مجموعه حاصل از عناصر از اولین مجموعه ورودی تشکیل شده است. به عنوان مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=s1>'hello'</span><span class=p>,</span> <span class=s1>'world'</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res────────────────┐
│ ['world', 'hello'] │
└────────────────────┘
</code></pre></div><p>در اینجا عناصر موجود در مجموعه دوم ([2, 1]) تعریف یک کلید مرتب سازی برای عنصر مربوطه از مجموعه منبع ([‘hello’, ‘world’]), به این معنا که, [‘hello’ –&gt; 2, ‘world’ –&gt; 1]. Since the lambda function doesn't use <code class=syntax>x</code> مقادیر واقعی مجموعه منبع بر نظم در نتیجه تاثیر نمی گذارد. پس, ‘hello’ خواهد بود که عنصر دوم در نتیجه, و ‘world’ خواهد بود که برای اولین بار.</p><p>نمونه های دیگر در زیر نشان داده شده.</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=s1>'c'</span><span class=p>,</span> <span class=s1>'b'</span><span class=p>,</span> <span class=s1>'a'</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────┐
│ [2,1,0] │
└─────────┘
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────┐
│ [2,1,0] │
└─────────┘
</code></pre></div><div class="admonition note alert pb-0 mb-4 alert-primary" role=alert><p class="admonition-title alert-heading display-6 mb-2">یادداشت</p><p>برای بهبود کارایی مرتب سازی <a class=alert-link href=https://en.wikipedia.org/wiki/Schwartzian_transform rel="external nofollow noreferrer" target=_blank>تبدیل شوارتز</a> استفاده شده است.</p></div><h2 id=array_functions-reverse-sort>arrayReverseSort([func,] arr, …)<a class=headerlink href=../amp/#array_functions-reverse-sort title="Permanent link"> </a></h2><p>عناصر را مرتب می کند <code class=syntax>arr</code> صف در نزولی. اگر <code class=syntax>func</code> تابع مشخص شده است, <code class=syntax>arr</code> بر اساس نتیجه طبقه بندی شده اند <code class=syntax>func</code> عملکرد به عناصر مجموعه اعمال می شود و سپس مجموعه مرتب شده معکوس می شود. اگر <code class=syntax>func</code> قبول استدلال های متعدد <code class=syntax>arrayReverseSort</code> تابع به تصویب می رسد چند بند که استدلال <code class=syntax>func</code> خواهد به مطابقت. نمونه های دقیق در پایان نشان داده شده است <code class=syntax>arrayReverseSort</code> توصیف.</p><p>نمونه ای از مقادیر صحیح مرتب سازی:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>]);</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayReverseSort([1, 3, 3, 0])─┐
│ [3,3,1,0]                      │
└────────────────────────────────┘
</code></pre></div><p>نمونه ای از مقادیر رشته مرتب سازی:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>([</span><span class=s1>'hello'</span><span class=p>,</span> <span class=s1>'world'</span><span class=p>,</span> <span class=s1>'!'</span><span class=p>]);</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayReverseSort(['hello', 'world', '!'])─┐
│ ['world','hello','!']                     │
└───────────────────────────────────────────┘
</code></pre></div><p>ترتیب مرتب سازی زیر را برای <code class=syntax>NULL</code>, <code class=syntax>NaN</code> و <code class=syntax>Inf</code> مقادیر:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=n>inf</span><span class=p>,</span> <span class=o>-</span><span class=n>inf</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───────────────────────────────────┐
│ [inf,3,2,1,-4,-inf,nan,nan,NULL,NULL] │
└───────────────────────────────────────┘
</code></pre></div><ul><li><code class=syntax>Inf</code> مقادیر برای اولین بار در مجموعه هستند.</li><li><code class=syntax>NULL</code> ارزشهای خبری عبارتند از:</li><li><code class=syntax>NaN</code> مقادیر درست قبل هستند <code class=syntax>NULL</code>.</li><li><code class=syntax>-Inf</code> مقادیر درست قبل هستند <code class=syntax>NaN</code>.</li></ul><p>توجه داشته باشید که <code class=syntax>arrayReverseSort</code> یک <a href=../../higher-order-functions/amp/ >عملکرد عالی مرتبه</a>. شما می توانید یک تابع لامبدا را به عنوان اولین استدلال منتقل کنید. مثال زیر نشان داده شده.</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>x</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────┐
│ [1,2,3] │
└─────────┘
</code></pre></div><p>این مجموعه به روش زیر مرتب شده است:</p><ol><li>ابتدا مجموعه منبع ([1, 2, 3]) با توجه به نتیجه تابع لامبدا اعمال شده به عناصر مجموعه طبقه بندی شده اند. نتیجه یک مجموعه است [3, 2, 1].</li><li>مجموعه ای است که در مرحله قبل به دست, معکوس شده است. بنابراین, نتیجه نهایی است [1, 2, 3].</li></ol><p>تابع لامبدا می تواند استدلال های متعدد را قبول کند. در این مورد, شما نیاز به تصویب <code class=syntax>arrayReverseSort</code> تابع چند بند از طول یکسان است که استدلال تابع لامبدا به مطابقت. مجموعه حاصل از عناصر از اولین مجموعه ورودی تشکیل شده است. به عنوان مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=s1>'hello'</span><span class=p>,</span> <span class=s1>'world'</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res───────────────┐
│ ['hello','world'] │
└───────────────────┘
</code></pre></div><p>در این مثال مجموعه به روش زیر مرتب شده است:</p><ol><li>در ابتدا مجموعه منبع ([‘hello’, ‘world’]) با توجه به نتیجه تابع لامبدا اعمال شده به عناصر از ارریس طبقه بندی شده اند. عناصر که در مجموعه دوم به تصویب رسید ([2, 1]), تعریف کلید مرتب سازی برای عناصر مربوطه را از مجموعه منبع. نتیجه یک مجموعه است [‘world’, ‘hello’].</li><li>مجموعه ای که در مرحله قبل طبقه بندی شده اند, معکوس شده است. بنابراین نتیجه نهایی این است [‘hello’, ‘world’].</li></ol><p>نمونه های دیگر در زیر نشان داده شده.</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=s1>'a'</span><span class=p>,</span> <span class=s1>'b'</span><span class=p>,</span> <span class=s1>'c'</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────┐
│ [5,3,4] │
└─────────┘
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span><span class=p>;</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────┐
│ [4,3,5] │
└─────────┘
</code></pre></div><h2 id=arrayuniqarr>arrayUniq(arr, …)<a class=headerlink href=../amp/#arrayuniqarr title="Permanent link"> </a></h2><p>اگر یک استدلال به تصویب می رسد, تعداد عناصر مختلف در مجموعه شمارش.<br> اگر استدلال های متعدد به تصویب می رسد, شمارش تعداد تاپل های مختلف از عناصر در موقعیت های مربوطه در مجموعه های متعدد.</p><p>اگر شما می خواهید برای دریافت یک لیست از اقلام منحصر به فرد در مجموعه, شما می توانید از ارری راهاهن استفاده(‘groupUniqArray’, arr).</p><h2 id=array-functions-join>هشدار داده می شود)<a class=headerlink href=../amp/#array-functions-join title="Permanent link"> </a></h2><p>یک تابع خاص. بخش را ببینید <a href=../../array-join/amp/#functions_arrayjoin>“ArrayJoin function”</a>.</p><h2 id=arraydifference>کلیدواژه<a class=headerlink href=../amp/#arraydifference title="Permanent link"> </a></h2><p>محاسبه تفاوت بین عناصر مجموعه مجاور. بازگرداندن مجموعه ای که عنصر اول خواهد بود 0, دوم تفاوت بین است <code class=syntax>a[1] - a[0]</code>, etc. The type of elements in the resulting array is determined by the type inference rules for subtraction (e.g. <code class=syntax>UInt8</code> - <code class=syntax>UInt8</code> = <code class=syntax>Int16</code>).</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayDifference</span><span class=p>(</span><span class=nb>array</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – <a href=https://clickhouse.tech/docs/en/data_types/array/ target=_blank>&amp; حذف</a>.</li></ul><p><strong>مقادیر بازگشتی</strong></p><p>بازگرداندن مجموعه ای از تفاوت بین عناصر مجاور.</p><p>نوع: <a href=https://clickhouse.tech/docs/en/data_types/int_uint/#uint-ranges target=_blank>اینترنت*</a>, <a href=https://clickhouse.tech/docs/en/data_types/int_uint/#int-ranges target=_blank>Int*</a>, <a href=https://clickhouse.tech/docs/en/data_types/float/ target=_blank>شناور*</a>.</p><p><strong>مثال</strong></p><p>پرسوجو:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayDifference</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>
</code></pre></div><p>نتیجه:</p><div class=codehilite><pre><span></span><code class=syntax>┌─arrayDifference([1, 2, 3, 4])─┐
│ [0,1,1,1]                     │
└───────────────────────────────┘
</code></pre></div><p>مثال سرریز به علت نوع نتیجه اینترن64:</p><p>پرسوجو:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayDifference</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10000000000000000000</span><span class=p>])</span>
</code></pre></div><p>نتیجه:</p><div class=codehilite><pre><span></span><code class=syntax>┌─arrayDifference([0, 10000000000000000000])─┐
│ [0,-8446744073709551616]                   │
└────────────────────────────────────────────┘
</code></pre></div><h2 id=arraydistinct>حوزه ارریددیست<a class=headerlink href=../amp/#arraydistinct title="Permanent link"> </a></h2><p>مجموعه ای را می گیرد و تنها شامل عناصر مجزا می شود.</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayDistinct</span><span class=p>(</span><span class=nb>array</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array</code> – <a href=https://clickhouse.tech/docs/en/data_types/array/ target=_blank>&amp; حذف</a>.</li></ul><p><strong>مقادیر بازگشتی</strong></p><p>بازگرداندن مجموعه ای حاوی عناصر متمایز.</p><p><strong>مثال</strong></p><p>پرسوجو:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayDistinct</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
</code></pre></div><p>نتیجه:</p><div class=codehilite><pre><span></span><code class=syntax>┌─arrayDistinct([1, 2, 2, 3, 1])─┐
│ [1,2,3]                        │
└────────────────────────────────┘
</code></pre></div><h2 id=array_functions-arrayenumeratedense>هشدار داده می شود)<a class=headerlink href=../amp/#array_functions-arrayenumeratedense title="Permanent link"> </a></h2><p>بازگرداندن مجموعه ای از همان اندازه به عنوان مجموعه منبع, نشان می دهد که هر عنصر برای اولین بار در مجموعه منبع به نظر می رسد.</p><p>مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayEnumerateDense</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>30</span><span class=p>])</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayEnumerateDense([10, 20, 10, 30])─┐
│ [1,2,1,3]                             │
└───────────────────────────────────────┘
</code></pre></div><h2 id=array-functions-arrayintersect>هشدار داده می شود)<a class=headerlink href=../amp/#array-functions-arrayintersect title="Permanent link"> </a></h2><p>طول می کشد مجموعه ای با عناصر که در تمام مجموعه منبع در حال حاضر می گرداند. عناصر سفارش در مجموعه حاصل همان است که در مجموعه اول است.</p><p>مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span>
    <span class=n>arrayIntersect</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>no_intersect</span><span class=p>,</span>
    <span class=n>arrayIntersect</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span> <span class=k>AS</span> <span class=k>intersect</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─no_intersect─┬─intersect─┐
│ []           │ [1]       │
└──────────────┴───────────┘
</code></pre></div><h2 id=arrayreduce>نمایش سایت<a class=headerlink href=../amp/#arrayreduce title="Permanent link"> </a></h2><p>یک تابع کلی برای عناصر مجموعه ای اعمال می شود و نتیجه خود را باز می گرداند. نام تابع تجمع به عنوان یک رشته در نقل قول های تک منتقل می شود <code class=syntax>'max'</code>, <code class=syntax>'sum'</code>. هنگام استفاده از توابع دانه پارامتری پارامتر پس از نام تابع در پرانتز نشان داده شده است <code class=syntax>'uniqUpTo(6)'</code>.</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayReduce</span><span class=p>(</span><span class=n>agg_func</span><span class=p>,</span> <span class=n>arr1</span><span class=p>,</span> <span class=n>arr2</span><span class=p>,</span> <span class=p>...,</span> <span class=n>arrN</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>agg_func</code> — The name of an aggregate function which should be a constant <a href=../../../data-types/string/amp/ >رشته</a>.</li><li><code class=syntax>arr</code> — Any number of <a href=../../../data-types/array/amp/ >&amp; حذف</a> نوع ستون به عنوان پارامترهای تابع تجمع.</li></ul><p><strong>مقدار بازگشتی</strong></p><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>'max'</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayReduce('max', [1, 2, 3])─┐
│                             3 │
└───────────────────────────────┘
</code></pre></div><p>اگر یک تابع جمع استدلال های متعدد طول می کشد, سپس این تابع باید به مجموعه های متعدد از همان اندازه اعمال.</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>'maxIf'</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayReduce('maxIf', [3, 5], [1, 0])─┐
│                                    3 │
└──────────────────────────────────────┘
</code></pre></div><p>به عنوان مثال با یک تابع جمع پارامتری:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReduce</span><span class=p>(</span><span class=s1>'uniqUpTo(3)'</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>10</span><span class=p>])</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayReduce('uniqUpTo(3)', [1, 2, 3, 4, 5, 6, 7, 8, 9, 10])─┐
│                                                           4 │
└─────────────────────────────────────────────────────────────┘
</code></pre></div><h2 id=arrayreduceinranges>تغییرات<a class=headerlink href=../amp/#arrayreduceinranges title="Permanent link"> </a></h2><p>یک تابع کلی برای عناصر مجموعه ای در محدوده های داده شده اعمال می شود و مجموعه ای حاوی نتیجه مربوط به هر محدوده را باز می گرداند. تابع همان نتیجه به عنوان چند بازگشت <code class=syntax>arrayReduce(agg_func, arraySlice(arr1, index, length), ...)</code>.</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayReduceInRanges</span><span class=p>(</span><span class=n>agg_func</span><span class=p>,</span> <span class=n>ranges</span><span class=p>,</span> <span class=n>arr1</span><span class=p>,</span> <span class=n>arr2</span><span class=p>,</span> <span class=p>...,</span> <span class=n>arrN</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>agg_func</code> — The name of an aggregate function which should be a constant <a href=../../../data-types/string/amp/ >رشته</a>.</li><li><code class=syntax>ranges</code> — The ranges to aggretate which should be an <a href=../../../data-types/array/amp/ >&amp; حذف</a> از <a href=../../../data-types/tuple/amp/ >توپلس</a> که شامل شاخص و طول هر محدوده.</li><li><code class=syntax>arr</code> — Any number of <a href=../../../data-types/array/amp/ >&amp; حذف</a> نوع ستون به عنوان پارامترهای تابع تجمع.</li></ul><p><strong>مقدار بازگشتی</strong></p><p><strong>مثال</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReduceInRanges</span><span class=p>(</span>
    <span class=s1>'sum'</span><span class=p>,</span>
    <span class=p>[(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span> <span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>)],</span>
    <span class=p>[</span><span class=mi>1000000</span><span class=p>,</span> <span class=mi>200000</span><span class=p>,</span> <span class=mi>30000</span><span class=p>,</span> <span class=mi>4000</span><span class=p>,</span> <span class=mi>500</span><span class=p>,</span> <span class=mi>60</span><span class=p>,</span> <span class=mi>7</span><span class=p>]</span>
<span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─res─────────────────────────┐
│ [1234500,234000,34560,4567] │
└─────────────────────────────┘
</code></pre></div><h2 id=arrayreverse>هشدار داده می شود)<a class=headerlink href=../amp/#arrayreverse title="Permanent link"> </a></h2><p>بازگرداندن مجموعه ای از همان اندازه به عنوان مجموعه اصلی حاوی عناصر در جهت معکوس.</p><p>مثال:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayReverse</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─arrayReverse([1, 2, 3])─┐
│ [3,2,1]                 │
└─────────────────────────┘
</code></pre></div><h2 id=array-functions-reverse>معکوس)<a class=headerlink href=../amp/#array-functions-reverse title="Permanent link"> </a></h2><p>مترادف برای <a href=../amp/#arrayreverse>“arrayReverse”</a></p><h2 id=arrayflatten>ارریفلاتتن<a class=headerlink href=../amp/#arrayflatten title="Permanent link"> </a></h2><p>مجموعه ای از ارریس ها را به یک مجموعه صاف تبدیل می کند.</p><p>تابع:</p><ul><li>امر به هر عمق مجموعه های تو در تو.</li><li>طعم هایی را که در حال حاضر مسطح هستند تغییر نمی دهد.</li></ul><p>مجموعه مسطح شامل تمام عناصر از تمام منابع است.</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>flatten</span><span class=p>(</span><span class=n>array_of_arrays</span><span class=p>)</span>
</code></pre></div><p>نام مستعار: <code class=syntax>flatten</code>.</p><p><strong>پارامترها</strong></p><ul><li><code class=syntax>array_of_arrays</code> — <a href=../../../data-types/array/amp/ >&amp; حذف</a> ارریس به عنوان مثال, <code class=syntax>[[1,2,3], [4,5]]</code>.</li></ul><p><strong>مثالها</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>flatten</span><span class=p>([[[</span><span class=mi>1</span><span class=p>]],</span> <span class=p>[[</span><span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>]]])</span>
</code></pre></div><div class=codehilite><pre><span></span><code class=syntax>┌─flatten(array(array([1]), array([2], [3])))─┐
│ [1,2,3]                                     │
└─────────────────────────────────────────────┘
</code></pre></div><h2 id=arraycompact>اررایکمپکت<a class=headerlink href=../amp/#arraycompact title="Permanent link"> </a></h2><p>عناصر تکراری متوالی را از یک مجموعه حذف می کند. ترتیب مقادیر نتیجه به ترتیب در مجموعه منبع تعیین می شود.</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayCompact</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><p><code class=syntax>arr</code> — The <a href=../../../data-types/array/amp/ >&amp; حذف</a> برای بازرسی.</p><p><strong>مقدار بازگشتی</strong></p><p>مجموعه ای بدون تکراری.</p><p>نوع: <code class=syntax>Array</code>.</p><p><strong>مثال</strong></p><p>پرسوجو:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayCompact</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</code></pre></div><p>نتیجه:</p><div class=codehilite><pre><span></span><code class=syntax>┌─arrayCompact([1, 1, nan, nan, 2, 3, 3, 3])─┐
│ [1,nan,nan,2,3]                            │
└────────────────────────────────────────────┘
</code></pre></div><h2 id=arrayzip>ارریزیپ<a class=headerlink href=../amp/#arrayzip title="Permanent link"> </a></h2><p>ترکیبی از چندین ردیف به یک مجموعه واحد. مجموعه حاصل شامل عناصر مربوطه را از ارریس منبع به تاپل در جهت ذکر شده از استدلال گروه بندی می شوند.</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayZip</span><span class=p>(</span><span class=n>arr1</span><span class=p>,</span> <span class=n>arr2</span><span class=p>,</span> <span class=p>...,</span> <span class=n>arrN</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong></p><ul><li><code class=syntax>arrN</code> — <a href=../../../data-types/array/amp/ >&amp; حذف</a>.</li></ul><p>این تابع می تواند هر تعداد از مجموعه ای از انواع مختلف را. تمام ورودی های ورودی باید با اندازه یکسان باشند.</p><p><strong>مقدار بازگشتی</strong></p><ul><li>مجموعه ای با عناصر از ارریس منبع به گروه بندی می شوند <a href=../../../data-types/tuple/amp/ >توپلس</a>. انواع داده ها در تاپل همان نوع از بند ورودی هستند و در همان جهت به عنوان ارریس به تصویب می رسد.</li></ul><p>نوع: <a href=../../../data-types/array/amp/ >&amp; حذف</a>.</p><p><strong>مثال</strong></p><p>پرسوجو:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>SELECT</span> <span class=n>arrayZip</span><span class=p>([</span><span class=s1>'a'</span><span class=p>,</span> <span class=s1>'b'</span><span class=p>,</span> <span class=s1>'c'</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
</code></pre></div><p>نتیجه:</p><div class=codehilite><pre><span></span><code class=syntax>┌─arrayZip(['a', 'b', 'c'], [5, 2, 1])─┐
│ [('a',5),('b',2),('c',1)]            │
└──────────────────────────────────────┘
</code></pre></div><h2 id=arrayauc>ارریایکو<a class=headerlink href=../amp/#arrayauc title="Permanent link"> </a></h2><p>محاسبه حراج (منطقه تحت منحنی, که یک مفهوم در یادگیری ماشین است, مشاهده اطلاعات بیشتر: <a href=https://en.wikipedia.org/wiki/Receiver target=_blank>https://en.wikipedia.org/wiki/Receiver</a>_operating_characteristic#Area_under_the_curve).</p><p><strong>نحو</strong></p><div class=codehilite><pre><span></span><code class=syntax><span class=n>arrayAUC</span><span class=p>(</span><span class=n>arr_scores</span><span class=p>,</span> <span class=n>arr_labels</span><span class=p>)</span>
</code></pre></div><p><strong>پارامترها</strong><br> - <code class=syntax>arr_scores</code> — scores prediction model gives.<br> - <code class=syntax>arr_labels</code> — labels of samples, usually 1 for positive sample and 0 for negtive sample.</p><p><strong>مقدار بازگشتی</strong><br> را برمی گرداند ارزش حراج با نوع شناور64.</p><p><strong>مثال</strong><br> پرسوجو:</p><div class=codehilite><pre><span></span><code class=syntax><span class=k>select</span> <span class=n>arrayAUC</span><span class=p>([</span><span class=mi>0</span><span class=p>.</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>.</span><span class=mi>4</span><span class=p>,</span> <span class=mi>0</span><span class=p>.</span><span class=mi>35</span><span class=p>,</span> <span class=mi>0</span><span class=p>.</span><span class=mi>8</span><span class=p>],</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
</code></pre></div><p>نتیجه:</p><div class=codehilite><pre><span></span><code class=syntax>┌─arrayAUC([0.1, 0.4, 0.35, 0.8], [0, 0, 1, 1])─┐
│                                          0.75 │
└────────────────────────────────────────---──┘
</code></pre></div><p><a href=https://clickhouse.tech/docs/en/query_language/functions/array_functions/ target=_blank>مقاله اصلی</a> <!--hide--></p>
        </div>
      </div>
      <div class="row">
        <div class="col">
          
<div class="alert alert-light my-3">
  <p class="float-right mb-0">درجهبندی: RATING_VALUE - RATING_COUNT رای</p>
  <span class="alert-heading display-6">رتبه مقاله</span>
  <div id="rating-stars" class="display-6 mb-0"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>ساخته شده از <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, منتشر شده در <span title="2020-04-04T12:15:31+03:00">2020-04-04</span>, تغییریافته <span title="2020-06-16T09:31:00+03:00">2020-06-16</span>
    
    </div>
</div>

        </div>
      </div>
      <div id="to-full-website" class="row fixed-bottom text-center bg-white py-3">
        <div class="col">
          <a class="btn btn-lg btn-outline-orange" href="https://clickhouse.tech/docs/fa/sql-reference/functions/array-functions/">To full website</a>
        </div>
      </div>
    </div>
    <amp-analytics type="metrika">
      <script type="application/json">{
"vars": {
  "counterId": "18343495",
  "triggers": {
    "notBounce": {
      "on": "timer",
      "timerSpec": {
        "immediate": false,
        "interval": 15,
        "maxTimerLength": 16
      },
      "request": "notBounce"
    }
  }
}
}</script>
  </amp-analytics>
  </body>
</html>
