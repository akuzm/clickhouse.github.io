










    



    



    



    
    






    
        
        
    
    <!DOCTYPE html>
<html lang="ru" data-version="master" data-single-page="false">
<head>
    
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>CREATE | Документация ClickHouse</title>

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180x180.png" />

<meta property="og:title" content="CREATE | Документация ClickHouse"/>
<meta property="og:description" content="CREATE DATABASE Создает базу данных. CREATE DATABASE [IF NOT EXISTS] db_name [ON CLUSTER cluster] [ENGINE = engine(...)]" />
<meta property="og:type" content="article" />

<meta property="og:image" content="https://clickhouse.tech/images/logo.png" />

<meta property="og:url" content="https://clickhouse.tech/docs/ru/sql-reference/statements/create/"/>
<link rel="canonical" href="https://clickhouse.tech/docs/ru/sql-reference/statements/create/" />

<link rel="amphtml" href="https://clickhouse.tech/docs/ru/sql-reference/statements/create/amp/" />

<link rel="search" href="/opensearch.xml" title="ClickHouse" type="application/opensearchdescription+xml" />

<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "TechArticle",
"headline": "CREATE | Документация ClickHouse",
"mainEntityOfPage": "https://clickhouse.tech/docs/ru/sql-reference/statements/create/",

"datePublished": "2018-07-18T10:42:59+03:00",
"dateModified": "2020-05-15T23:30:51+03:00",

"image": "https://clickhouse.tech/images/logo-209x60.png",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "CREATE | Документация ClickHouse",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}]</script>


<meta name="description" content="CREATE DATABASE Создает базу данных. CREATE DATABASE [IF NOT EXISTS] db_name [ON CLUSTER cluster] [ENGINE = engine(...)]" />

<meta name="keywords"
      content="ClickHouse, DBMS, OLAP, SQL, открытый исходный код, реляционный, аналитика, аналитический, большие данные, веб-аналитика" />




    
    <link rel="alternate" hreflang="en" href="https://clickhouse.tech/docs/en/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="zh" href="https://clickhouse.tech/docs/zh/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="es" href="https://clickhouse.tech/docs/es/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="fr" href="https://clickhouse.tech/docs/fr/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="ru" href="https://clickhouse.tech/docs/ru/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="ja" href="https://clickhouse.tech/docs/ja/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="tr" href="https://clickhouse.tech/docs/tr/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="fa" href="https://clickhouse.tech/docs/fa/sql-reference/statements/create/" />
    
    <link rel="alternate" hreflang="x-default" href="https://clickhouse.tech/docs/en/sql-reference/statements/create/" />





    
    <link href="/css/base.css?css_digest" media="all" rel="stylesheet" />


</head>
<body dir="ltr" data-spy="scroll" data-target="#toc" data-offset="80">

    
        <nav id="top-nav" class="navbar navbar-dark navbar-expand-md bg-dark-alt text-white sticky-top">
    <div class="container-fluid justify-content-between">
        <a class="d-block navbar-brand mr-3" href="/">
            <img id="docs-logo-icon" src="/images/logo.svg" alt="ClickHouse logo" title="ClickHouse logo"/>
        </a>
        <div class="w-100 navbar-text text-left d-none d-md-block">
            <h1 class="h3 m-0 p-0 d-inline">
                <a href="#" class="text-white text-decoration-none">
                    
                        CREATE
                    
                </a>
            </h1>
        </div>

        <div class="d-none d-md-block">
            <ul class="navbar-nav ml-auto mt-2 mt-lg-0 justify-content-end">
                
                    
                
                
                <li id="edit-wrapper" class="nav-item">
                    <a id="edit-link" href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/sql-reference/statements/create.md" title="Edit this article" class="nav-link" rel="external nofollow noreferrer" target="_blank"><img src="/images/mkdocs/edit.svg" alt="Edit this article" class="mt-1" height="22" /></a>
                </li>
                
                <li class="nav-item">
                     <a class="nav-link" href="https://github.com/ClickHouse/ClickHouse" rel="external nofollow noreferrer">
                        <img src="/images/index/github.svg" alt="GitHub repository" title="Go to GitHub" height="32" />
                    </a>
                </li>
                <li id="languages-wrapper" class="nav-item dropdown">
                    <div id="languages-dropdown">
                        <a class="nav-link dropdown-toggle d-inline-block mt-1 text-muted" href="#" id="lang-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="/images/flags/ru.svg" alt="Русский" title="Русский" width="32" class="d-inline-block mt-n1" />
                        </a>
                        <div class="dropdown-menu bg-dark" aria-labelledby="lang-dropdown">
                            
                            <a class="dropdown-item"
                               href="/docs/en/sql-reference/statements/create/">
                                <img src="/images/flags/en.svg" alt="" title="" width="32" class="d-inline-block mr-2" />English
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/zh/sql-reference/statements/create/">
                                <img src="/images/flags/zh.svg" alt="" title="" width="32" class="d-inline-block mr-2" />中文
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/es/sql-reference/statements/create/">
                                <img src="/images/flags/es.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Español
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fr/sql-reference/statements/create/">
                                <img src="/images/flags/fr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Français
                            </a>
                            
                            <a class="dropdown-item disabled"
                               href="/docs/ru/sql-reference/statements/create/">
                                <img src="/images/flags/ru.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Русский
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/ja/sql-reference/statements/create/">
                                <img src="/images/flags/ja.svg" alt="" title="" width="32" class="d-inline-block mr-2" />日本語
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/tr/sql-reference/statements/create/">
                                <img src="/images/flags/tr.svg" alt="" title="" width="32" class="d-inline-block mr-2" />Türkçe
                            </a>
                            
                            <a class="dropdown-item"
                               href="/docs/fa/sql-reference/statements/create/">
                                <img src="/images/flags/fa.svg" alt="" title="" width="32" class="d-inline-block mr-2" />فارسی
                            </a>
                            
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <form id="search-form" class="form-inline m-0">
            <div class="input-group">
                <div class="input-group-prepend w-100">
                    <span class="input-group-text bg-secondary-alt text-muted border-0 mr-n1" id="search-icon">
                        <img src="/images/mkdocs/search.svg" />
                    </span>
                    <input id="docsearch-input" class="form-control bg-secondary-alt text-muted border-0 pl-1" type="search" placeholder="Search" aria-label="Search">
                </div>
            </div>
        </form>

        <button id="navbar-toggler" class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
        <div class="container-fluid">
            <div class="row justify-content-end justify-content-xl-center">
                <div id="sidebar" class="col-xl-2 col-md-4 bg-secondary-alt p-3 d-print-none min-vh-100 overflow-auto">
    <div class="overflow-auto">
        <div id="single-page-switch" class="btn-group mb-2 float-right" role="group" aria-label="Многостраничный или одностраничный">
            <a href="../../.." role="button" class="btn btn-dark active" aria-pressed="true">
                <img src="/images/mkdocs/multi.svg" alt="Многостраничная версия" title="Многостраничная версия" />
            </a>
            <a href="../../../single/" role="button" class="btn btn-dark-alt active" aria-pressed="true">
                <img src="/images/mkdocs/single.svg" alt="Одностраничная версия" title="Одностраничная версия" />
            </a>
        </div>
        <div class="dropdown mb-3">
            <a class="btn btn-dark dropdown-toggle text-muted" href="#" role="button" id="select-version" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Версия: <span class="text-light">последняя</span>
            </a>

            <div class="dropdown-menu bg-dark text-muted p-1" aria-labelledby="select-version">
                <a class="dropdown-item disable"
                   href="/docs/ru/">
                    <span class="text-light">последняя</span>
                </a>

                
            </div>
        </div>
        
        <nav id="sidebar-nav" class="nav flex-column mb-5">
            
                
                
                


<a href="#sidebar-sidebar-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-1" title="Введение" class="nav-link text-light text-wrap dropdown-toggle px-0">Введение</a>
<div id="sidebar-sidebar-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../" title="Обзор" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a>


    
        
        
        

    
        
        
        


<a href="../../../introduction/adopters/" title="Adopters" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Adopters</a>


    
        
        
        


<a href="../../../introduction/info/" title="Информационная поддержка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Информационная поддержка</a>


    
        
        
        


<a href="../../../introduction/history/" title="История ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">История ClickHouse</a>


    
        
        
        


<a href="../../../introduction/distinctive-features/" title="Отличительные возможности ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Отличительные возможности ClickHouse</a>


    
        
        
        


<a href="../../../introduction/performance/" title="Производительность" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Производительность</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2" title="Начало работы" class="nav-link text-light text-wrap dropdown-toggle px-0">Начало работы</a>
<div id="sidebar-sidebar-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../getting-started/tutorial/" title="Tutorial" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tutorial</a>


    
        
        
        


<a href="#sidebar-sidebar-2-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-2-3" title="Тестовые массивы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Тестовые массивы данных</a>
<div id="sidebar-sidebar-2-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../getting-started/example-datasets/" title="Обзор" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/amplab-benchmark/" title="AMPLab Big Data Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AMPLab Big Data Benchmark</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/ontime/" title="OnTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">OnTime</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/star-schema/" title="Star Schema Benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Star Schema Benchmark</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/wikistat/" title="WikiStat" class="nav-link text-light text-wrap d-inline-block w-100 px-0">WikiStat</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/metrica/" title="Анонимизированные данные Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Анонимизированные данные Яндекс.Метрики</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/nyc-taxi/" title="Данные о такси в Нью-Йорке" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Данные о такси в Нью-Йорке</a>


    
        
        
        


<a href="../../../getting-started/example-datasets/criteo/" title="Терабайт логов кликов от Criteo" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Терабайт логов кликов от Criteo</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../getting-started/playground/" title="ClickHouse Playground" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ClickHouse Playground</a>


    
        
        
        


<a href="../../../getting-started/install/" title="Установка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Установка</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3" title="Интерфейсы" class="nav-link text-light text-wrap dropdown-toggle px-0">Интерфейсы</a>
<div id="sidebar-sidebar-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../interfaces/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="#sidebar-sidebar-3-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-3-2" title="От сторонних разработчиков" class="nav-link text-light text-wrap dropdown-toggle px-0">От сторонних разработчиков</a>
<div id="sidebar-sidebar-3-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../interfaces/third-party/integrations/" title="Библиотеки для интеграции от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Библиотеки для интеграции от сторонних разработчиков</a>


    
        
        
        


<a href="../../../interfaces/third-party/gui/" title="Визуальные интерфейсы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Визуальные интерфейсы от сторонних разработчиков</a>


    
        
        
        


<a href="../../../interfaces/third-party/client-libraries/" title="Клиентские библиотеки от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиентские библиотеки от сторонних разработчиков</a>


    
        
        
        


<a href="../../../interfaces/third-party/proxy/" title="Прокси-серверы от сторонних разработчиков" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прокси-серверы от сторонних разработчиков</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../interfaces/cpp/" title="C++ клиентская библиотека" class="nav-link text-light text-wrap d-inline-block w-100 px-0">C++ клиентская библиотека</a>


    
        
        
        


<a href="../../../interfaces/http/" title="HTTP-интерфейс" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HTTP-интерфейс</a>


    
        
        
        


<a href="../../../interfaces/jdbc/" title="JDBC-драйвер" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC-драйвер</a>


    
        
        
        


<a href="../../../interfaces/mysql/" title="MySQL-интерфейс" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL-интерфейс</a>


    
        
        
        


<a href="../../../interfaces/odbc/" title="ODBC-драйвер" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC-драйвер</a>


    
        
        
        


<a href="../../../interfaces/cli/" title="Клиент командной строки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Клиент командной строки</a>


    
        
        
        


<a href="../../../interfaces/tcp/" title="Родной интерфейс (TCP)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Родной интерфейс (TCP)</a>


    
        
        
        


<a href="../../../interfaces/formats/" title="Форматы входных и выходных данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Форматы входных и выходных данных</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4" title="Движки" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки</a>
<div id="sidebar-sidebar-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-4-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-2" title="Движки баз данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки баз данных</a>
<div id="sidebar-sidebar-4-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/database-engines/lazy/" title="Lazy" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Lazy</a>


    
        
        
        


<a href="../../../engines/database-engines/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../../engines/database-engines/" title="Движки баз данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки баз данных</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3" title="Движки таблиц" class="nav-link text-light text-wrap dropdown-toggle px-0">Движки таблиц</a>
<div id="sidebar-sidebar-4-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-4-3-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-1" title="MergeTree Family" class="nav-link text-light text-wrap dropdown-toggle px-0">MergeTree Family</a>
<div id="sidebar-sidebar-4-3-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/aggregatingmergetree/" title="AggregatingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregatingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/collapsingmergetree/" title="CollapsingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">CollapsingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/graphitemergetree/" title="GraphiteMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GraphiteMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/mergetree/" title="MergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/replacingmergetree/" title="ReplacingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ReplacingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/summingmergetree/" title="SummingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SummingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/versionedcollapsingmergetree/" title="VersionedCollapsingMergeTree" class="nav-link text-light text-wrap d-inline-block w-100 px-0">VersionedCollapsingMergeTree</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/custom-partitioning-key/" title="Произвольный ключ партиционирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Произвольный ключ партиционирования</a>


    
        
        
        


<a href="../../../engines/table-engines/mergetree-family/replication/" title="Репликация данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Репликация данных</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-2" title="Семейство Log" class="nav-link text-light text-wrap dropdown-toggle px-0">Семейство Log</a>
<div id="sidebar-sidebar-4-3-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../engines/table-engines/log-family/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../../engines/table-engines/log-family/log/" title="Log" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Log</a>


    
        
        
        


<a href="../../../engines/table-engines/log-family/stripelog/" title="StripeLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">StripeLog</a>


    
        
        
        


<a href="../../../engines/table-engines/log-family/tinylog/" title="TinyLog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">TinyLog</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-3" title="Integrations" class="nav-link text-light text-wrap dropdown-toggle px-0">Integrations</a>
<div id="sidebar-sidebar-4-3-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../engines/table-engines/integrations/hdfs/" title="HDFS" class="nav-link text-light text-wrap d-inline-block w-100 px-0">HDFS</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/jdbc/" title="JDBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">JDBC</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/kafka/" title="Kafka" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Kafka</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/mysql/" title="MySQL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MySQL</a>


    
        
        
        


<a href="../../../engines/table-engines/integrations/odbc/" title="ODBC" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ODBC</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-4-3-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-4-3-4" title="Special" class="nav-link text-light text-wrap dropdown-toggle px-0">Special</a>
<div id="sidebar-sidebar-4-3-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../engines/table-engines/special/generate/" title="GenerateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GenerateRandom</a>


    
        
        
        


<a href="../../../engines/table-engines/special/buffer/" title="Buffer" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Buffer</a>


    
        
        
        


<a href="../../../engines/table-engines/special/dictionary/" title="Dictionary" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Dictionary</a>


    
        
        
        


<a href="../../../engines/table-engines/special/distributed/" title="Distributed" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Distributed</a>


    
        
        
        


<a href="../../../engines/table-engines/special/file/" title="File(Format)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">File(Format)</a>


    
        
        
        


<a href="../../../engines/table-engines/special/join/" title="Join" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Join</a>


    
        
        
        


<a href="../../../engines/table-engines/special/materializedview/" title="MaterializedView" class="nav-link text-light text-wrap d-inline-block w-100 px-0">MaterializedView</a>


    
        
        
        


<a href="../../../engines/table-engines/special/memory/" title="Memory" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Memory</a>


    
        
        
        


<a href="../../../engines/table-engines/special/merge/" title="Merge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Merge</a>


    
        
        
        


<a href="../../../engines/table-engines/special/null/" title="Null" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Null</a>


    
        
        
        


<a href="../../../engines/table-engines/special/set/" title="Set" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a>


    
        
        
        


<a href="../../../engines/table-engines/special/url/" title="URL(URL, Format)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">URL(URL, Format)</a>


    
        
        
        


<a href="../../../engines/table-engines/special/view/" title="View" class="nav-link text-light text-wrap d-inline-block w-100 px-0">View</a>


    
        
        
        


<a href="../../../engines/table-engines/special/external-data/" title="Внешние данные для обработки запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние данные для обработки запроса</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../engines/table-engines/" title="Движки таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Движки таблиц</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5" title="Справка по SQL" class="nav-link text-light text-wrap dropdown-toggle px-0">Справка по SQL</a>
<div id="sidebar-sidebar-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2" title="Выражения" class="nav-link text-light text-wrap dropdown-toggle px-0">Выражения</a>
<div id="sidebar-sidebar-5-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-5-2-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-2-2" title="SELECT" class="nav-link text-light text-wrap dropdown-toggle px-0">SELECT</a>
<div id="sidebar-sidebar-5-2-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/statements/select/" title="SELECT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SELECT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/limit/" title="LIMIT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">LIMIT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/order-by/" title="ORDER BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ORDER BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/array-join/" title="Секция ARRAY JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция ARRAY JOIN</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/distinct/" title="Секция DISTINCT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция DISTINCT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/format/" title="Секция FORMAT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция FORMAT</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/from/" title="Секция FROM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция FROM</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/group-by/" title="Секция GROUP BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция GROUP BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/having/" title="Секция HAVING" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция HAVING</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/into-outfile/" title="Секция INTO OUTFILE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция INTO OUTFILE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/join/" title="Секция JOIN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция JOIN</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/limit-by/" title="Секция LIMIT BY" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция LIMIT BY</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/prewhere/" title="Секция PREWHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция PREWHERE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/sample/" title="Секция SAMPLE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция SAMPLE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/union-all/" title="Секция UNION ALL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция UNION ALL</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/where/" title="Секция WHERE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция WHERE</a>


    
        
        
        


<a href="../../../sql-reference/statements/select/with/" title="Секция WITH" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Секция WITH</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/statements/insert-into/" title="INSERT INTO" class="nav-link text-light text-wrap d-inline-block w-100 px-0">INSERT INTO</a>


    
        
        
        


<a href="../../../sql-reference/statements/create/" title="CREATE" class="nav-link text-white active text-wrap d-inline-block w-100 px-0">CREATE</a>


    
        
        
        


<a href="../../../sql-reference/statements/alter/" title="ALTER" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ALTER</a>


    
        
        
        


<a href="../../../sql-reference/statements/grant/" title="GRANT" class="nav-link text-light text-wrap d-inline-block w-100 px-0">GRANT</a>


    
        
        
        


<a href="../../../sql-reference/statements/revoke/" title="REVOKE" class="nav-link text-light text-wrap d-inline-block w-100 px-0">REVOKE</a>


    
        
        
        


<a href="../../../sql-reference/statements/show/" title="SHOW Queries" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SHOW Queries</a>


    
        
        
        


<a href="../../../sql-reference/statements/system/" title="Запросы SYSTEM" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Запросы SYSTEM</a>


    
        
        
        


<a href="../../../sql-reference/statements/misc/" title="Прочие виды запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие виды запросов</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-3" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-3" title="Агрегатные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Агрегатные функции</a>
<div id="sidebar-sidebar-5-3" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/aggregate-functions/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/combinators/" title="Комбинаторы агрегатных функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Комбинаторы агрегатных функций</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/parametric-functions/" title="Параметрические агрегатные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Параметрические агрегатные функции</a>


    
        
        
        


<a href="../../../sql-reference/aggregate-functions/reference/" title="Справочник функций" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Справочник функций</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-4" title="Табличные функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Табличные функции</a>
<div id="sidebar-sidebar-5-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/table-functions/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/cluster/" title="cluster" class="nav-link text-light text-wrap d-inline-block w-100 px-0">cluster</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/file/" title="file" class="nav-link text-light text-wrap d-inline-block w-100 px-0">file</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/generate/" title="generateRandom" class="nav-link text-light text-wrap d-inline-block w-100 px-0">generateRandom</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/hdfs/" title="hdfs" class="nav-link text-light text-wrap d-inline-block w-100 px-0">hdfs</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/input/" title="input" class="nav-link text-light text-wrap d-inline-block w-100 px-0">input</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/jdbc/" title="jdbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">jdbc</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/merge/" title="merge" class="nav-link text-light text-wrap d-inline-block w-100 px-0">merge</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/mysql/" title="mysql" class="nav-link text-light text-wrap d-inline-block w-100 px-0">mysql</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/numbers/" title="numbers" class="nav-link text-light text-wrap d-inline-block w-100 px-0">numbers</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/odbc/" title="odbc" class="nav-link text-light text-wrap d-inline-block w-100 px-0">odbc</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/remote/" title="remote, remoteSecure" class="nav-link text-light text-wrap d-inline-block w-100 px-0">remote, remoteSecure</a>


    
        
        
        


<a href="../../../sql-reference/table-functions/url/" title="url" class="nav-link text-light text-wrap d-inline-block w-100 px-0">url</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5" title="Типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Типы данных</a>
<div id="sidebar-sidebar-5-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/data-types/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="#sidebar-sidebar-5-5-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-2" title="Домены" class="nav-link text-light text-wrap dropdown-toggle px-0">Домены</a>
<div id="sidebar-sidebar-5-5-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/data-types/domains/" title="Домены" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Домены</a>


    
        
        
        


<a href="../../../sql-reference/data-types/domains/ipv4/" title="IPv4" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv4</a>


    
        
        
        


<a href="../../../sql-reference/data-types/domains/ipv6/" title="IPv6" class="nav-link text-light text-wrap d-inline-block w-100 px-0">IPv6</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/data-types/aggregatefunction/" title="AggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">AggregateFunction</a>


    
        
        
        


<a href="../../../sql-reference/data-types/array/" title="Array(T)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Array(T)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/date/" title="Date" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Date</a>


    
        
        
        


<a href="../../../sql-reference/data-types/datetime/" title="DateTime" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime</a>


    
        
        
        


<a href="../../../sql-reference/data-types/datetime64/" title="DateTime64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">DateTime64</a>


    
        
        
        


<a href="../../../sql-reference/data-types/decimal/" title="Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/enum/" title="Enum" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Enum</a>


    
        
        
        


<a href="../../../sql-reference/data-types/fixedstring/" title="FixedString" class="nav-link text-light text-wrap d-inline-block w-100 px-0">FixedString</a>


    
        
        
        


<a href="../../../sql-reference/data-types/float/" title="Float32, Float64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Float32, Float64</a>


    
        
        
        


<a href="../../../sql-reference/data-types/nullable/" title="Nullable(TypeName)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nullable(TypeName)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/simpleaggregatefunction/" title="SimpleAggregateFunction" class="nav-link text-light text-wrap d-inline-block w-100 px-0">SimpleAggregateFunction</a>


    
        
        
        


<a href="../../../sql-reference/data-types/string/" title="String" class="nav-link text-light text-wrap d-inline-block w-100 px-0">String</a>


    
        
        
        


<a href="../../../sql-reference/data-types/tuple/" title="Tuple(T1, T2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Tuple(T1, T2, …)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/int-uint/" title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64</a>


    
        
        
        


<a href="../../../sql-reference/data-types/uuid/" title="UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">UUID</a>


    
        
        
        


<a href="../../../sql-reference/data-types/boolean/" title="Булевы значения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Булевы значения</a>


    
        
        
        


<a href="#sidebar-sidebar-5-5-19" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-19" title="Вложенные структуры данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Вложенные структуры данных</a>
<div id="sidebar-sidebar-5-5-19" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/data-types/nested-data-structures/nested/" title="Nested(Name1 Type1, Name2 Type2, …)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nested(Name1 Type1, Name2 Type2, …)</a>


    
        
        
        


<a href="../../../sql-reference/data-types/nested-data-structures/" title="Вложенные структуры данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Вложенные структуры данных</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-5-20" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-5-20" title="Служебные типы данных" class="nav-link text-light text-wrap dropdown-toggle px-0">Служебные типы данных</a>
<div id="sidebar-sidebar-5-5-20" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/expression/" title="Expression" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Expression</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/interval/" title="Interval" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Interval</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/nothing/" title="Nothing" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Nothing</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/set/" title="Set" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Set</a>


    
        
        
        


<a href="../../../sql-reference/data-types/special-data-types/" title="Служебные типы данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Служебные типы данных</a>


    
    </nav>
</div>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/ansi/" title="ANSI Compatibility" class="nav-link text-light text-wrap d-inline-block w-100 px-0">ANSI Compatibility</a>


    
        
        
        


<a href="../../../sql-reference/syntax/" title="Синтаксис" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Синтаксис</a>


    
        
        
        


<a href="#sidebar-sidebar-5-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-8" title="Операторы" class="nav-link text-light text-wrap dropdown-toggle px-0">Операторы</a>
<div id="sidebar-sidebar-5-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/operators/" title="Операторы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы</a>


    
        
        
        


<a href="../../../sql-reference/operators/in/" title="Операторы IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Операторы IN</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9" title="Словари" class="nav-link text-light text-wrap dropdown-toggle px-0">Словари</a>
<div id="sidebar-sidebar-5-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="#sidebar-sidebar-5-9-1" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-9-1" title="External Dictionaries" class="nav-link text-light text-wrap dropdown-toggle px-0">External Dictionaries</a>
<div id="sidebar-sidebar-5-9-1" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts/" title="Внешние словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Внешние словари</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-hierarchical/" title="Иерархические словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Иерархические словари</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-sources/" title="Источники внешних словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Источники внешних словарей</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-structure/" title="Ключ и поля словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ключ и поля словаря</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict/" title="Настройка внешнего словаря" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройка внешнего словаря</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-lifetime/" title="Обновление словарей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление словарей</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/external-dictionaries/external-dicts-dict-layout/" title="Хранение словарей в памяти" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Хранение словарей в памяти</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../sql-reference/dictionaries/internal-dicts/" title="Встроенные словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Встроенные словари</a>


    
        
        
        


<a href="../../../sql-reference/dictionaries/" title="Словари" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Словари</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-5-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-5-10" title="Функции" class="nav-link text-light text-wrap dropdown-toggle px-0">Функции</a>
<div id="sidebar-sidebar-5-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../sql-reference/functions/arithmetic-functions/" title="Арифметические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Арифметические функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/bit-functions/" title="Битовые функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Битовые функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/logical-functions/" title="Логические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Логические функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/math-functions/" title="Математические функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Математические функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/other-functions/" title="Прочие функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Прочие функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/conditional-functions/" title="Условные функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Условные функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/" title="Функции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции</a>


    
        
        
        


<a href="../../../sql-reference/functions/higher-order-functions/" title="Функции высшего порядка" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции высшего порядка</a>


    
        
        
        


<a href="../../../sql-reference/functions/random-functions/" title="Функции генерации псевдослучайных чисел" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции генерации псевдослучайных чисел</a>


    
        
        
        


<a href="../../../sql-reference/functions/bitmap-functions/" title="Функции для битмапов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для битмапов</a>


    
        
        
        


<a href="../../../sql-reference/functions/ip-address-functions/" title="Функции для работы с IP-адресами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с IP-адресами</a>


    
        
        
        


<a href="../../../sql-reference/functions/json-functions/" title="Функции для работы с JSON" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с JSON</a>


    
        
        
        


<a href="../../../sql-reference/functions/functions-for-nulls/" title="Функции для работы с Nullable-аргументами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с Nullable-аргументами</a>


    
        
        
        


<a href="../../../sql-reference/functions/url-functions/" title="Функции для работы с URL" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с URL</a>


    
        
        
        


<a href="../../../sql-reference/functions/uuid-functions/" title="Функции для работы с UUID" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с UUID</a>


    
        
        
        


<a href="../../../sql-reference/functions/ext-dict-functions/" title="Функции для работы с внешними словарями" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с внешними словарями</a>


    
        
        
        


<a href="../../../sql-reference/functions/geo/" title="Функции для работы с географическими координатами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с географическими координатами</a>


    
        
        
        


<a href="../../../sql-reference/functions/date-time-functions/" title="Функции для работы с датами и временем" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы с датами и временем</a>


    
        
        
        


<a href="../../../sql-reference/functions/ym-dict-functions/" title="Функции для работы со словарями Яндекс.Метрики" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со словарями Яндекс.Метрики</a>


    
        
        
        


<a href="../../../sql-reference/functions/string-functions/" title="Функции для работы со строками" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для работы со строками</a>


    
        
        
        


<a href="../../../sql-reference/functions/in-functions/" title="Функции для реализации оператора IN" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции для реализации оператора IN</a>


    
        
        
        


<a href="../../../sql-reference/functions/introspection/" title="Функции интроспекции" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции интроспекции</a>


    
        
        
        


<a href="../../../sql-reference/functions/encoding-functions/" title="Функции кодирования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции кодирования</a>


    
        
        
        


<a href="../../../sql-reference/functions/machine-learning-functions/" title="Функции машинного обучения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции машинного обучения</a>


    
        
        
        


<a href="../../../sql-reference/functions/rounding-functions/" title="Функции округления" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции округления</a>


    
        
        
        


<a href="../../../sql-reference/functions/array-functions/" title="Функции по работе с массивами" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции по работе с массивами</a>


    
        
        
        


<a href="../../../sql-reference/functions/string-search-functions/" title="Функции поиска в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска в строках</a>


    
        
        
        


<a href="../../../sql-reference/functions/string-replace-functions/" title="Функции поиска и замены в строках" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции поиска и замены в строках</a>


    
        
        
        


<a href="../../../sql-reference/functions/type-conversion-functions/" title="Функции преобразования типов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции преобразования типов</a>


    
        
        
        


<a href="../../../sql-reference/functions/splitting-merging-functions/" title="Функции разбиения и слияния строк и массивов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции разбиения и слияния строк и массивов</a>


    
        
        
        


<a href="../../../sql-reference/functions/comparison-functions/" title="Функции сравнения" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции сравнения</a>


    
        
        
        


<a href="../../../sql-reference/functions/hash-functions/" title="Функции хэширования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функции хэширования</a>


    
        
        
        


<a href="../../../sql-reference/functions/array-join/" title="Функция ArrayJoin" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Функция ArrayJoin</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-6" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-6" title="Руководства" class="nav-link text-light text-wrap dropdown-toggle px-0">Руководства</a>
<div id="sidebar-sidebar-6" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../guides/" title="Обзор" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор</a>


    
        
        
        


<a href="../../../guides/apply-catboost-model/" title="Применение модели CatBoost в ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Применение модели CatBoost в ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-7" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7" title="Эксплуатация" class="nav-link text-light text-wrap dropdown-toggle px-0">Эксплуатация</a>
<div id="sidebar-sidebar-7" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/" title="intro" class="nav-link text-light text-wrap d-inline-block w-100 px-0">intro</a>


    
        
        
        


<a href="#sidebar-sidebar-7-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-2" title="Optimizing Performance" class="nav-link text-light text-wrap dropdown-toggle px-0">Optimizing Performance</a>
<div id="sidebar-sidebar-7-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../operations/optimizing-performance/sampling-query-profiler/" title="Query Profiling" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Query Profiling</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../operations/performance-test/" title="Testing Hardware" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Testing Hardware</a>


    
        
        
        


<a href="#sidebar-sidebar-7-4" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-4" title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap dropdown-toggle px-0">Конфигурационные параметры сервера</a>
<div id="sidebar-sidebar-7-4" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/server-configuration-parameters/" title="Введение" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Введение</a>


    
        
        
        


<a href="../../../operations/server-configuration-parameters/settings/" title="Конфигурационные параметры сервера" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные параметры сервера</a>


    
    </nav>
</div>


    
        
        
        


<a href="#sidebar-sidebar-7-5" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-5" title="Введение" class="nav-link text-light text-wrap dropdown-toggle px-0">Введение</a>
<div id="sidebar-sidebar-7-5" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/settings/" title="Настройки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки</a>


    
        
        
        


<a href="../../../operations/settings/settings/" title="Settings" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Settings</a>


    
        
        
        


<a href="../../../operations/settings/merge-tree-settings/" title="Настройки MergeTree таблиц" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки MergeTree таблиц</a>


    
        
        
        


<a href="../../../operations/settings/settings-users/" title="Настройки пользователей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Настройки пользователей</a>


    
        
        
        


<a href="../../../operations/settings/constraints-on-settings/" title="Ограничения на изменение настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на изменение настроек</a>


    
        
        
        


<a href="../../../operations/settings/query-complexity/" title="Ограничения на сложность запроса" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Ограничения на сложность запроса</a>


    
        
        
        


<a href="../../../operations/settings/settings-profiles/" title="Профили настроек" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Профили настроек</a>


    
        
        
        


<a href="../../../operations/settings/permissions-for-queries/" title="Разрешения для запросов" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Разрешения для запросов</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../operations/quotas/" title="Квоты" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Квоты</a>


    
        
        
        


<a href="../../../operations/configuration-files/" title="Конфигурационные файлы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Конфигурационные файлы</a>


    
        
        
        


<a href="../../../operations/monitoring/" title="Мониторинг" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Мониторинг</a>


    
        
        
        


<a href="../../../operations/update/" title="Обновление ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обновление ClickHouse</a>


    
        
        
        


<a href="../../../operations/backup/" title="Резервное копирование данных" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Резервное копирование данных</a>


    
        
        
        


<a href="../../../operations/system-tables/" title="Системные таблицы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Системные таблицы</a>


    
        
        
        


<a href="../../../operations/tips/" title="Советы по эксплуатации" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Советы по эксплуатации</a>


    
        
        
        


<a href="../../../operations/requirements/" title="Требования" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Требования</a>


    
        
        
        


<a href="../../../operations/access-rights/" title="Управление доступом" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Управление доступом</a>


    
        
        
        


<a href="../../../operations/troubleshooting/" title="Устранение неисправностей" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Устранение неисправностей</a>


    
        
        
        


<a href="#sidebar-sidebar-7-16" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-7-16" title="Утилиты ClickHouse" class="nav-link text-light text-wrap dropdown-toggle px-0">Утилиты ClickHouse</a>
<div id="sidebar-sidebar-7-16" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../operations/utilities/clickhouse-benchmark/" title="clickhouse-benchmark" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-benchmark</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-copier/" title="clickhouse-copier" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-copier</a>


    
        
        
        


<a href="../../../operations/utilities/clickhouse-local/" title="clickhouse-local" class="nav-link text-light text-wrap d-inline-block w-100 px-0">clickhouse-local</a>


    
        
        
        


<a href="../../../operations/utilities/" title="Утилиты ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Утилиты ClickHouse</a>


    
    </nav>
</div>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-8" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-8" title="Development" class="nav-link text-light text-wrap dropdown-toggle px-0">Development</a>
<div id="sidebar-sidebar-8" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../development/build/" title="How to Build ClickHouse on Linux" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux</a>


    
        
        
        


<a href="../../../development/build-osx/" title="How to Build ClickHouse on Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Mac OS X</a>


    
        
        
        


<a href="../../../development/build-cross-osx/" title="How to Build ClickHouse on Linux for Mac OS X" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for Mac OS X</a>


    
        
        
        


<a href="../../../development/build-cross-arm/" title="How to Build ClickHouse on Linux for AARCH64 (ARM64)" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Build ClickHouse on Linux for AARCH64 (ARM64)</a>


    
        
        
        


<a href="../../../development/tests/" title="How to Run ClickHouse Tests" class="nav-link text-light text-wrap d-inline-block w-100 px-0">How to Run ClickHouse Tests</a>


    
        
        
        


<a href="../../../development/developer-instruction/" title="Если вы используете Windows" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Если вы используете Windows</a>


    
        
        
        


<a href="../../../development/contrib/" title="Используемые сторонние библиотеки" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Используемые сторонние библиотеки</a>


    
        
        
        


<a href="../../../development/style/" title="Как писать код на C++" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Как писать код на C++</a>


    
        
        
        


<a href="../../../development/browse-code/" title="Навигация по коду ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Навигация по коду ClickHouse</a>


    
        
        
        


<a href="../../../development/architecture/" title="Обзор архитектуры ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Обзор архитектуры ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-9" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-9" title="Коммерческие услуги" class="nav-link text-light text-wrap dropdown-toggle px-0">Коммерческие услуги</a>
<div id="sidebar-sidebar-9" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../commercial/support/" title="Support" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Support</a>


    
        
        
        

    
        
        
        


<a href="../../../commercial/cloud/" title="Поставщики облачных услуг ClickHouse" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Поставщики облачных услуг ClickHouse</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-10" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10" title="Что нового?" class="nav-link text-light text-wrap dropdown-toggle px-0">Что нового?</a>
<div id="sidebar-sidebar-10" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="#sidebar-sidebar-10-2" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-10-2" title="Changelog" class="nav-link text-light text-wrap dropdown-toggle px-0">Changelog</a>
<div id="sidebar-sidebar-10-2" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        


<a href="../../../whats-new/changelog/" title="2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2020</a>


    
        
        
        


<a href="../../../whats-new/changelog/2019/" title="2019" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2019</a>


    
        
        
        


<a href="../../../whats-new/changelog/2018/" title="2018" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2018</a>


    
        
        
        


<a href="../../../whats-new/changelog/2017/" title="2017" class="nav-link text-light text-wrap d-inline-block w-100 px-0">2017</a>


    
    </nav>
</div>


    
        
        
        


<a href="../../../whats-new/roadmap/" title="Roadmap" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Roadmap</a>


    
        
        
        


<a href="../../../whats-new/security-changelog/" title="Security Changelog" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Security Changelog</a>


    
        
        
        


<a href="../../../whats-new/extended-roadmap/" title="Планы разработки ClickHouse 2020" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Планы разработки ClickHouse 2020</a>


    
    </nav>
</div>


            
                
                
                


<a href="#sidebar-sidebar-11" data-toggle="collapse" aria-expanded="false" aria-controls="sidebar-sidebar-11" title="F.A.Q." class="nav-link text-light text-wrap dropdown-toggle px-0">F.A.Q.</a>
<div id="sidebar-sidebar-11" class="nav flex-column collapse">
    <nav class="nav flex-column pl-2">
    
    
        
        
        

    
        
        
        


<a href="../../../faq/general/" title="Общие вопросы" class="nav-link text-light text-wrap d-inline-block w-100 px-0">Общие вопросы</a>


    
    </nav>
</div>


            
            <a href="../../../single/clickhouse_ru.pdf" class="nav-link border-top border-secondary mt-3 px-0 pt-3 text-light">
                <img src="/images/mkdocs/pdf.svg" alt="PDF-версия" title="PDF-версия" height="24" class="d-block mr-1 float-left" /><div>PDF-версия</div>
            </a>
        </nav>
        
    </div>
</div>
                <div id="content-wrapper" class="col-md-8 p-2 p-md-5">
    <div id="content" class="mt-md-n3">
        
            
            
            
                
                <nav class="text-muted" aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent p-0">
                        
                        
                        
                        <li class="breadcrumb-item"><a href="../../" class="text-reset">Справка по SQL</a>
                            
                        </li>
                       
                        
                        
                        <li class="breadcrumb-item"><a href="../" class="text-reset">Выражения</a>
                            
                        </li>
                       
                    </ol>
                </nav>
            

            
            <h2 id="query-language-create-database">CREATE DATABASE<a class="headerlink" href="#query-language-create-database" title="Permanent link"> </a></h2>
<p>Создает базу данных.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="n">db_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span><span class="p">]</span> <span class="p">[</span><span class="n">ENGINE</span> <span class="o">=</span> <span class="n">engine</span><span class="p">(...)]</span>
</code></pre></div>
<h3 id="sektsii">Секции<a class="headerlink" href="#sektsii" title="Permanent link"> </a></h3>
<ul>
<li>
<p><code class="syntax">IF NOT EXISTS</code></p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="err">Если</span> <span class="err">база</span> <span class="err">данных</span> <span class="err">с</span> <span class="err">именем</span> <span class="ss">`db_name`</span> <span class="err">уже</span> <span class="err">существует</span><span class="p">,</span> <span class="err">то</span> <span class="n">ClickHouse</span> <span class="err">не</span> <span class="err">создаёт</span> <span class="err">базу</span> <span class="err">данных</span> <span class="err">и</span><span class="p">:</span>
<span class="o">-</span> <span class="err">Не</span> <span class="err">генерирует</span> <span class="err">исключение</span><span class="p">,</span> <span class="err">если</span> <span class="err">секция</span> <span class="err">указана</span><span class="p">.</span>
<span class="o">-</span> <span class="err">Генерирует</span> <span class="err">исключение</span><span class="p">,</span> <span class="err">если</span> <span class="err">секция</span> <span class="err">не</span> <span class="err">указана</span><span class="p">.</span>
</code></pre></div>
</li>
<li>
<p><code class="syntax">ON CLUSTER</code></p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="n">ClickHouse</span> <span class="err">создаёт</span> <span class="err">базу</span> <span class="err">данных</span> <span class="ss">`db_name`</span> <span class="err">на</span> <span class="err">всех</span> <span class="err">серверах</span> <span class="err">указанного</span> <span class="err">кластера</span><span class="p">.</span>
</code></pre></div>
</li>
<li>
<p><code class="syntax">ENGINE</code></p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="o">-</span><span class="w"> </span><span class="o">[</span><span class="n">MySQL</span><span class="o">]</span><span class="p">(..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">sql_reference</span><span class="o">/</span><span class="n">statements</span><span class="o">/</span><span class="k">create</span><span class="p">.</span><span class="n">md</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">Позволяет</span><span class="w"> </span><span class="n">получать</span><span class="w"> </span><span class="n">данные</span><span class="w"> </span><span class="n">с</span><span class="w"> </span><span class="n">удаленного</span><span class="w"> </span><span class="n">сервера</span><span class="w"> </span><span class="n">MySQL</span><span class="p">.</span><span class="w"></span>

<span class="n">По</span><span class="w"> </span><span class="n">умолчанию</span><span class="w"> </span><span class="n">ClickHouse</span><span class="w"> </span><span class="n">использует</span><span class="w"> </span><span class="n">собственный</span><span class="w"> </span><span class="o">[</span><span class="n">движок баз данных</span><span class="o">]</span><span class="p">(..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">sql_reference</span><span class="o">/</span><span class="n">statements</span><span class="o">/</span><span class="k">create</span><span class="p">.</span><span class="n">md</span><span class="p">).</span><span class="w"></span>
</code></pre></div>
</li>
</ul>
<h2 id="create-table-query">CREATE TABLE<a class="headerlink" href="#create-table-query" title="Permanent link"> </a></h2>
<p>Запрос <code class="syntax">CREATE TABLE</code> может иметь несколько форм.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span><span class="p">]</span>
<span class="p">(</span>
    <span class="n">name1</span> <span class="p">[</span><span class="n">type1</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr1</span><span class="p">]</span> <span class="p">[</span><span class="n">compression_codec</span><span class="p">]</span> <span class="p">[</span><span class="n">TTL</span> <span class="n">expr1</span><span class="p">],</span>
    <span class="n">name2</span> <span class="p">[</span><span class="n">type2</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr2</span><span class="p">]</span> <span class="p">[</span><span class="n">compression_codec</span><span class="p">]</span> <span class="p">[</span><span class="n">TTL</span> <span class="n">expr2</span><span class="p">],</span>
    <span class="p">...</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">engine</span>
</code></pre></div>
<p>Создаёт таблицу с именем name в БД db или текущей БД, если db не указана, со структурой, указанной в скобках, и движком engine.<br/>
Структура таблицы представляет список описаний столбцов. Индексы, если поддерживаются движком, указываются в качестве параметров для движка таблицы.</p>
<p>Описание столбца, это <code class="syntax">name type</code>, в простейшем случае. Пример: <code class="syntax">RegionID UInt32</code>.<br/>
Также могут быть указаны выражения для значений по умолчанию - смотрите ниже.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="k">AS</span> <span class="p">[</span><span class="n">db2</span><span class="p">.]</span><span class="n">name2</span> <span class="p">[</span><span class="n">ENGINE</span> <span class="o">=</span> <span class="n">engine</span><span class="p">]</span>
</code></pre></div>
<p>Создаёт таблицу с такой же структурой, как другая таблица. Можно указать другой движок для таблицы. Если движок не указан, то будет выбран такой же движок, как у таблицы <code class="syntax">db2.name2</code>.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="k">AS</span> <span class="n">table_function</span><span class="p">()</span>
</code></pre></div>
<p>Создаёт таблицу с такой же структурой и данными, как результат соответствующей табличной функцией.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">engine</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="p">...</span>
</code></pre></div>
<p>Создаёт таблицу со структурой, как результат запроса <code class="syntax">SELECT</code>, с движком engine, и заполняет её данными из SELECT-а.</p>
<p>Во всех случаях, если указано <code class="syntax">IF NOT EXISTS</code>, то запрос не будет возвращать ошибку, если таблица уже существует. В этом случае, запрос будет ничего не делать.</p>
<p>После секции <code class="syntax">ENGINE</code> в запросе могут использоваться и другие секции в зависимости от движка. Подробную документацию по созданию таблиц смотрите в описаниях <a href="./#table_engines">движков таблиц</a>.</p>
<h3 id="create-default-values">Значения по умолчанию<a class="headerlink" href="#create-default-values" title="Permanent link"> </a></h3>
<p>В описании столбца, может быть указано выражение для значения по умолчанию, одного из следующих видов:<br/>
<code class="syntax">DEFAULT expr</code>, <code class="syntax">MATERIALIZED expr</code>, <code class="syntax">ALIAS expr</code>.<br/>
Пример: <code class="syntax">URLDomain String DEFAULT domain(URL)</code>.</p>
<p>Если выражение для значения по умолчанию не указано, то в качестве значений по умолчанию будут использоваться нули для чисел, пустые строки для строк, пустые массивы для массивов, а также <code class="syntax">0000-00-00</code> для дат и <code class="syntax">0000-00-00 00:00:00</code> для дат с временем. NULL-ы не поддерживаются.</p>
<p>В случае, если указано выражение по умолчанию, то указание типа столбца не обязательно. При отсутствии явно указанного типа, будет использован тип выражения по умолчанию. Пример: <code class="syntax">EventDate DEFAULT toDate(EventTime)</code> - для столбца EventDate будет использован тип Date.</p>
<p>При наличии явно указанного типа данных и выражения по умолчанию, это выражение будет приводиться к указанному типу с использованием функций приведения типа. Пример: <code class="syntax">Hits UInt32 DEFAULT 0</code> - имеет такой же смысл, как <code class="syntax">Hits UInt32 DEFAULT toUInt32(0)</code>.</p>
<p>В качестве выражения для умолчания, может быть указано произвольное выражение от констант и столбцов таблицы. При создании и изменении структуры таблицы, проверяется, что выражения не содержат циклов. При INSERT-е проверяется разрешимость выражений - что все столбцы, из которых их можно вычислить, переданы.</p>
<p><code class="syntax">DEFAULT expr</code></p>
<p>Обычное значение по умолчанию. Если в запросе INSERT не указан соответствующий столбец, то он будет заполнен путём вычисления соответствующего выражения.</p>
<p><code class="syntax">MATERIALIZED expr</code></p>
<p>Материализованное выражение. Такой столбец не может быть указан при INSERT, то есть, он всегда вычисляется.<br/>
При INSERT без указания списка столбцов, такие столбцы не рассматриваются.<br/>
Также этот столбец не подставляется при использовании звёздочки в запросе SELECT. Это необходимо, чтобы сохранить инвариант, что дамп, полученный путём <code class="syntax">SELECT *</code>, можно вставить обратно в таблицу INSERT-ом без указания списка столбцов.</p>
<p><code class="syntax">ALIAS expr</code></p>
<p>Синоним. Такой столбец вообще не хранится в таблице.<br/>
Его значения не могут быть вставлены в таблицу, он не подставляется при использовании звёздочки в запросе SELECT.<br/>
Он может быть использован в SELECT-ах - в таком случае, во время разбора запроса, алиас раскрывается.</p>
<p>При добавлении новых столбцов с помощью запроса ALTER, старые данные для этих столбцов не записываются. Вместо этого, при чтении старых данных, для которых отсутствуют значения новых столбцов, выполняется вычисление выражений по умолчанию на лету. При этом, если выполнение выражения требует использования других столбцов, не указанных в запросе, то эти столбцы будут дополнительно прочитаны, но только для тех блоков данных, для которых это необходимо.</p>
<p>Если добавить в таблицу новый столбец, а через некоторое время изменить его выражение по умолчанию, то используемые значения для старых данных (для данных, где значения не хранились на диске) поменяются. Также заметим, что при выполнении фоновых слияний, данные для столбцов, отсутствующих в одном из сливаемых кусков, записываются в объединённый кусок.</p>
<p>Отсутствует возможность задать значения по умолчанию для элементов вложенных структур данных.</p>
<h3 id="constraints">Ограничения (constraints)<a class="headerlink" href="#constraints" title="Permanent link"> </a></h3>
<p>Наряду с объявлением столбцов можно объявить ограничения на значения в столбцах таблицы:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span><span class="p">]</span>
<span class="p">(</span>
    <span class="n">name1</span> <span class="p">[</span><span class="n">type1</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr1</span><span class="p">]</span> <span class="p">[</span><span class="n">compression_codec</span><span class="p">]</span> <span class="p">[</span><span class="n">TTL</span> <span class="n">expr1</span><span class="p">],</span>
    <span class="p">...</span>
    <span class="k">CONSTRAINT</span> <span class="n">constraint_name_1</span> <span class="k">CHECK</span> <span class="n">boolean_expr_1</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">engine</span>
</code></pre></div>
<p><code class="syntax">boolean_expr_1</code> может быть любым булевым выражением, состоящим из операторов сравнения или функций. При наличии одного или нескольких ограничений в момент вставки данных выражения ограничений будут проверяться на истинность для каждой вставляемой строки данных. В случае, если в теле INSERT запроса придут некорректные данные — клиент получит исключение с описанием нарушенного ограничения.</p>
<p>Добавление большого числа ограничений может негативно повлиять на производительность <code class="syntax">INSERT</code> запросов.</p>
<h3 id="vyrazhenie-dlia-ttl">Выражение для TTL<a class="headerlink" href="#vyrazhenie-dlia-ttl" title="Permanent link"> </a></h3>
<p>Определяет время хранения значений. Может быть указано только для таблиц семейства MergeTree. Подробнее смотрите в <a href="../../../engines/table-engines/mergetree-family/mergetree/#table_engine-mergetree-ttl">TTL для столбцов и таблиц</a>.</p>
<h3 id="codecs">Кодеки сжатия столбцов<a class="headerlink" href="#codecs" title="Permanent link"> </a></h3>
<p>По умолчанию, ClickHouse применяет к столбцу метод сжатия, определённый в <a href="./#compression">конфигурации сервера</a>. Кроме этого, можно задать метод сжатия для каждого отдельного столбца в запросе <code class="syntax">CREATE TABLE</code>.</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">codec_example</span>
<span class="p">(</span>
    <span class="n">dt</span> <span class="nb">Date</span> <span class="n">CODEC</span><span class="p">(</span><span class="n">ZSTD</span><span class="p">),</span>
    <span class="n">ts</span> <span class="n">DateTime</span> <span class="n">CODEC</span><span class="p">(</span><span class="n">LZ4HC</span><span class="p">),</span>
    <span class="n">float_value</span> <span class="n">Float32</span> <span class="n">CODEC</span><span class="p">(</span><span class="k">NONE</span><span class="p">),</span>
    <span class="n">double_value</span> <span class="n">Float64</span> <span class="n">CODEC</span><span class="p">(</span><span class="n">LZ4HC</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
    <span class="n">value</span> <span class="n">Float32</span> <span class="n">CODEC</span><span class="p">(</span><span class="n">Delta</span><span class="p">,</span> <span class="n">ZSTD</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Engine</span><span class="o">&gt;</span>
<span class="p">...</span>
</code></pre></div>
<p>Если задать кодек для столбца, то кодек по умолчанию не применяется. Кодеки можно последовательно комбинировать, например, <code class="syntax">CODEC(Delta, ZSTD)</code>. Чтобы выбрать наиболее подходящую для вашего проекта комбинацию кодеков, необходимо провести сравнительные тесты, подобные тем, что описаны в статье Altinity <a href="https://www.altinity.com/blog/2019/7/new-encodings-to-improve-clickhouse" rel="external nofollow noreferrer" target="_blank">New Encodings to Improve ClickHouse Efficiency</a>.</p>
<div class="admonition warning alert pb-0 mb-4 alert-warning" role="alert">
<p class="admonition-title alert-heading display-6 mb-2">Предупреждение</p>
<p>Нельзя распаковать базу данных ClickHouse с помощью сторонних утилит наподобие <code class="syntax">lz4</code>. Необходимо использовать специальную утилиту <a class="alert-link" href="https://github.com/ClickHouse/ClickHouse/tree/master/programs/compressor" rel="external nofollow noreferrer" target="_blank">clickhouse-compressor</a>.</p>
</div>
<p>Сжатие поддерживается для следующих движков таблиц:</p>
<ul>
<li><a href="./">MergeTree family</a></li>
<li><a href="./">Log family</a></li>
<li><a href="./">Set</a></li>
<li><a href="./">Join</a></li>
</ul>
<p>ClickHouse поддерживает кодеки общего назначения и специализированные кодеки.</p>
<h4 id="create-query-specialized-codecs">Специализированные кодеки<a class="headerlink" href="#create-query-specialized-codecs" title="Permanent link"> </a></h4>
<p>Эти кодеки разработаны для того, чтобы, используя особенности данных сделать сжатие более эффективным. Некоторые из этих кодеков не сжимают данные самостоятельно. Они готовят данные для кодеков общего назначения, которые сжимают подготовленные данные эффективнее, чем неподготовленные.</p>
<p>Специализированные кодеки:</p>
<ul>
<li><code class="syntax">Delta(delta_bytes)</code> — Метод, в котором исходные значения заменяются разностью двух соседних значений, за исключением первого значения, которое остаётся неизменным. Для хранения разниц используется до <code class="syntax">delta_bytes</code>, т.е. <code class="syntax">delta_bytes</code> — это максимальный размер исходных данных. Возможные значения <code class="syntax">delta_bytes</code>: 1, 2, 4, 8. Значение по умолчанию для <code class="syntax">delta_bytes</code> равно <code class="syntax">sizeof(type)</code>, если результат 1, 2, 4, or 8. Во всех других случаях — 1.</li>
<li><code class="syntax">DoubleDelta</code> — Вычисляется разницу от разниц и сохраняет её в компакном бинарном виде. Оптимальная степень сжатия достигается для монотонных последовательностей с постоянным шагом, наподобие временных рядов. Можно использовать с любым типом данных фиксированного размера. Реализует алгоритм, используемый в TSDB Gorilla, поддерживает 64-битные типы данных. Использует 1 дополнительный бит для 32-байтовых значений: 5-битные префиксы вместо 4-битных префиксов. Подробнее читайте в разделе «Compressing Time Stamps» документа <a href="http://www.vldb.org/pvldb/vol8/p1816-teller.pdf" rel="external nofollow noreferrer" target="_blank">Gorilla: A Fast, Scalable, In-Memory Time Series Database</a>.</li>
<li><code class="syntax">Gorilla</code> — Вычисляет XOR между текущим и предыдущим значением и записывает результат в компактной бинарной форме. Еффективно сохраняет ряды медленно изменяющихся чисел с плавающей запятой, поскольку наилучший коэффициент сжатия достигается, если соседние значения одинаковые. Реализует алгоритм, используемый в TSDB Gorilla, адаптируя его для работы с 64-битными значениями. Подробнее читайте в разделе «Compressing Values» документа <a href="http://www.vldb.org/pvldb/vol8/p1816-teller.pdf" rel="external nofollow noreferrer" target="_blank">Gorilla: A Fast, Scalable, In-Memory Time Series Database</a>.</li>
<li><code class="syntax">T64</code> — Метод сжатия который обрезает неиспользуемые старшие биты целочисленных значений (включая <code class="syntax">Enum</code>, <code class="syntax">Date</code> и <code class="syntax">DateTime</code>). На каждом шаге алгоритма, кодек помещает блок из 64 значений в матрицу 64✕64, транспонирует её, обрезает неиспользуемые биты, а то, что осталось возвращает в виде последовательности. Неиспользуемые биты, это биты, которые не изменяются от минимального к максимальному на всём диапазоне значений куска данных.</li>
</ul>
<p>Кодеки <code class="syntax">DoubleDelta</code> и <code class="syntax">Gorilla</code> используются в TSDB Gorilla как компоненты алгоритма сжатия. Подход Gorilla эффективен в сценариях, когда данные представляют собой медленно изменяющиеся во времени величины. Метки времени эффективно сжимаются кодеком <code class="syntax">DoubleDelta</code>, а значения кодеком <code class="syntax">Gorilla</code>. Например, чтобы создать эффективно хранящуюся таблицу, используйте следующую конфигурацию:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">codec_example</span>
<span class="p">(</span>
    <span class="k">timestamp</span> <span class="n">DateTime</span> <span class="n">CODEC</span><span class="p">(</span><span class="n">DoubleDelta</span><span class="p">),</span>
    <span class="n">slow_values</span> <span class="n">Float32</span> <span class="n">CODEC</span><span class="p">(</span><span class="n">Gorilla</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">ENGINE</span> <span class="o">=</span> <span class="n">MergeTree</span><span class="p">()</span>
</code></pre></div>
<h4 id="create-query-common-purpose-codecs">Кодеки общего назначения<a class="headerlink" href="#create-query-common-purpose-codecs" title="Permanent link"> </a></h4>
<p>Кодеки:</p>
<ul>
<li><code class="syntax">NONE</code> — без сжатия.</li>
<li><code class="syntax">LZ4</code> — <a href="https://github.com/lz4/lz4" rel="external nofollow noreferrer" target="_blank">алгоритм сжатия без потерь</a> используемый по умолчанию. Применяет быстрое сжатие LZ4.</li>
<li><code class="syntax">LZ4HC[(level)]</code> — алгоритм LZ4 HC (high compression) с настраиваемым уровнем сжатия. Уровень по умолчанию — 9. Настройка <code class="syntax">level &lt;= 0</code> устанавливает уровень сжания по умолчанию. Возможные уровни сжатия: [1, 12]. Рекомендуемый диапазон уровней: [4, 9].</li>
<li><code class="syntax">ZSTD[(level)]</code> — <a href="https://en.wikipedia.org/wiki/Zstandard" rel="external nofollow noreferrer" target="_blank">алгоритм сжатия ZSTD</a> с настраиваемым уровнем сжатия <code class="syntax">level</code>. Возможные уровни сжатия: [1, 22]. Уровень сжатия по умолчанию: 1.</li>
</ul>
<p>Высокие уровни сжатия полезны для ассимметричных сценариев, подобных «один раз сжал, много раз распаковал». Высокие уровни сжатия подразумеваю лучшее сжатие, но большее использование CPU.</p>
<h2 id="vremennye-tablitsy">Временные таблицы<a class="headerlink" href="#vremennye-tablitsy" title="Permanent link"> </a></h2>
<p>ClickHouse поддерживает временные таблицы со следующими характеристиками:</p>
<ul>
<li>Временные таблицы исчезают после завершения сессии, в том числе при обрыве соединения.</li>
<li>Временная таблица использует только модуль памяти.</li>
<li>Невозможно указать базу данных для временной таблицы. Она создается вне баз данных.</li>
<li>Невозможно создать временную таблицу распределнным DDL запросом на всех серверах кластера (с опцией <code class="syntax">ON CLUSTER</code>): такая таблица существует только в рамках существующей сессии.</li>
<li>Если временная таблица имеет то же имя, что и некоторая другая, то, при упоминании в запросе без указания БД, будет использована временная таблица.</li>
<li>При распределённой обработке запроса, используемые в запросе временные таблицы, передаются на удалённые серверы.</li>
</ul>
<p>Чтобы создать временную таблицу, используйте следующий синтаксис:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TEMPORARY</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="k">table_name</span>
<span class="p">(</span>
    <span class="n">name1</span> <span class="p">[</span><span class="n">type1</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr1</span><span class="p">],</span>
    <span class="n">name2</span> <span class="p">[</span><span class="n">type2</span><span class="p">]</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">MATERIALIZED</span><span class="o">|</span><span class="k">ALIAS</span> <span class="n">expr2</span><span class="p">],</span>
    <span class="p">...</span>
<span class="p">)</span>
</code></pre></div>
<p>В большинстве случаев, временные таблицы создаются не вручную, а при использовании внешних данных для запроса, или при распределённом <code class="syntax">(GLOBAL) IN</code>. Подробнее см. соответствующие разделы</p>
<p>Вместо временных можно использовать обычные таблицы с <a href="./">ENGINE = Memory</a>.</p>
<h2 id="raspredelennye-ddl-zaprosy-sektsiia-on-cluster">Распределенные DDL запросы (секция ON CLUSTER)<a class="headerlink" href="#raspredelennye-ddl-zaprosy-sektsiia-on-cluster" title="Permanent link"> </a></h2>
<p>Запросы <code class="syntax">CREATE</code>, <code class="syntax">DROP</code>, <code class="syntax">ALTER</code>, <code class="syntax">RENAME</code> поддерживают возможность распределенного выполнения на кластере.<br/>
Например, следующий запрос создает распределенную (Distributed) таблицу <code class="syntax">all_hits</code> на каждом хосте в <code class="syntax">cluster</code>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="n">all_hits</span> <span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span> <span class="p">(</span><span class="n">p</span> <span class="nb">Date</span><span class="p">,</span> <span class="n">i</span> <span class="n">Int32</span><span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">Distributed</span><span class="p">(</span><span class="k">cluster</span><span class="p">,</span> <span class="k">default</span><span class="p">,</span> <span class="n">hits</span><span class="p">)</span>
</code></pre></div>
<p>Для корректного выполнения таких запросов необходимо на каждом хосте иметь одинаковое определение кластера (для упрощения синхронизации конфигов можете использовать подстановки из ZooKeeper). Также необходимо подключение к ZooKeeper серверам.<br/>
Локальная версия запроса в конечном итоге будет выполнена на каждом хосте кластера, даже если некоторые хосты в данный момент не доступны. Гарантируется упорядоченность выполнения запросов в рамках одного хоста.</p>
<h2 id="create-view">CREATE VIEW<a class="headerlink" href="#create-view" title="Permanent link"> </a></h2>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="p">[</span><span class="n">MATERIALIZED</span><span class="p">]</span> <span class="k">VIEW</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table_name</span> <span class="p">[</span><span class="k">TO</span><span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="n">name</span><span class="p">]</span> <span class="p">[</span><span class="n">ENGINE</span> <span class="o">=</span> <span class="n">engine</span><span class="p">]</span> <span class="p">[</span><span class="n">POPULATE</span><span class="p">]</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="p">...</span>
</code></pre></div>
<p>Создаёт представление. Представления бывают двух видов - обычные и материализованные (MATERIALIZED).</p>
<p>Обычные представления не хранят никаких данных, а всего лишь производят чтение из другой таблицы. То есть, обычное представление - не более чем сохранённый запрос. При чтении из представления, этот сохранённый запрос, используется в качестве подзапроса в секции FROM.</p>
<p>Для примера, пусть вы создали представление:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="k">view</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="p">...</span>
</code></pre></div>
<p>и написали запрос:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="k">c</span> <span class="k">FROM</span> <span class="k">view</span>
</code></pre></div>
<p>Этот запрос полностью эквивалентен использованию подзапроса:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="k">c</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="p">...)</span>
</code></pre></div>
<p>Материализованные (MATERIALIZED) представления хранят данные, преобразованные соответствующим запросом SELECT.</p>
<p>При создании материализованного представления без использования <code class="syntax">TO [db].[table]</code>, нужно обязательно указать ENGINE - движок таблицы для хранения данных.</p>
<p>При создании материализованного представления с испольованием <code class="syntax">TO [db].[table]</code>, нельзя указывать <code class="syntax">POPULATE</code></p>
<p>Материализованное представление устроено следующим образом: при вставке данных в таблицу, указанную в SELECT-е, кусок вставляемых данных преобразуется этим запросом SELECT, и полученный результат вставляется в представление.</p>
<p>Если указано POPULATE, то при создании представления, в него будут вставлены имеющиеся данные таблицы, как если бы был сделан запрос <code class="syntax">CREATE TABLE ... AS SELECT ...</code> . Иначе, представление будет содержать только данные, вставляемые в таблицу после создания представления. Не рекомендуется использовать POPULATE, так как вставляемые в таблицу данные во время создания представления, не попадут в него.</p>
<p>Запрос <code class="syntax">SELECT</code> может содержать <code class="syntax">DISTINCT</code>, <code class="syntax">GROUP BY</code>, <code class="syntax">ORDER BY</code>, <code class="syntax">LIMIT</code>… Следует иметь ввиду, что соответствующие преобразования будут выполняться независимо, на каждый блок вставляемых данных. Например, при наличии <code class="syntax">GROUP BY</code>, данные будут агрегироваться при вставке, но только в рамках одной пачки вставляемых данных. Далее, данные не будут доагрегированы. Исключение - использование ENGINE, производящего агрегацию данных самостоятельно, например, <code class="syntax">SummingMergeTree</code>.</p>
<p>Недоработано выполнение запросов <code class="syntax">ALTER</code> над материализованными представлениями, поэтому они могут быть неудобными для использования. Если материализованное представление использует конструкцию <code class="syntax">TO [db.]name</code>, то можно выполнить <code class="syntax">DETACH</code> представления, <code class="syntax">ALTER</code> для целевой таблицы и последующий <code class="syntax">ATTACH</code> ранее отсоединенного (<code class="syntax">DETACH</code>) представления.</p>
<p>Представления выглядят так же, как обычные таблицы. Например, они перечисляются в результате запроса <code class="syntax">SHOW TABLES</code>.</p>
<p>Отсутствует отдельный запрос для удаления представлений. Чтобы удалить представление, следует использовать <code class="syntax">DROP TABLE</code>.</p>
<h2 id="create-dictionary-query">CREATE DICTIONARY<a class="headerlink" href="#create-dictionary-query" title="Permanent link"> </a></h2>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">DICTIONARY</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="n">dictionary_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="k">cluster</span><span class="p">]</span>
<span class="p">(</span>
    <span class="n">key1</span> <span class="n">type1</span>  <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">EXPRESSION</span> <span class="n">expr1</span><span class="p">]</span> <span class="p">[</span><span class="n">HIERARCHICAL</span><span class="o">|</span><span class="n">INJECTIVE</span><span class="o">|</span><span class="n">IS_OBJECT_ID</span><span class="p">],</span>
    <span class="n">key2</span> <span class="n">type2</span>  <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">EXPRESSION</span> <span class="n">expr2</span><span class="p">]</span> <span class="p">[</span><span class="n">HIERARCHICAL</span><span class="o">|</span><span class="n">INJECTIVE</span><span class="o">|</span><span class="n">IS_OBJECT_ID</span><span class="p">],</span>
    <span class="n">attr1</span> <span class="n">type2</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">EXPRESSION</span> <span class="n">expr3</span><span class="p">],</span>
    <span class="n">attr2</span> <span class="n">type2</span> <span class="p">[</span><span class="k">DEFAULT</span><span class="o">|</span><span class="n">EXPRESSION</span> <span class="n">expr4</span><span class="p">]</span>
<span class="p">)</span>
<span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">key1</span><span class="p">,</span> <span class="n">key2</span>
<span class="k">SOURCE</span><span class="p">(</span><span class="n">SOURCE_NAME</span><span class="p">([</span><span class="n">param1</span> <span class="n">value1</span> <span class="p">...</span> <span class="n">paramN</span> <span class="n">valueN</span><span class="p">]))</span>
<span class="n">LAYOUT</span><span class="p">(</span><span class="n">LAYOUT_NAME</span><span class="p">([</span><span class="n">param_name</span> <span class="n">param_value</span><span class="p">]))</span>
<span class="n">LIFETIME</span><span class="p">([</span><span class="k">MIN</span> <span class="n">val1</span><span class="p">]</span> <span class="k">MAX</span> <span class="n">val2</span><span class="p">)</span>
</code></pre></div>
<p>Создаёт <a href="./">внешний словарь</a> с заданной <a href="./">структурой</a>, <a href="./">источником</a>, <a href="./">способом размещения в памяти</a> и <a href="./">периодом обновления</a>.</p>
<p>Структура внешнего словаря состоит из атрибутов. Атрибуты словаря задаются как столбцы таблицы. Единственным обязательным свойством атрибута является его тип, все остальные свойства могут иметь значения по умолчанию.</p>
<p>В зависимости от <a href="./">способа размещения словаря в памяти</a>, ключами словаря могут быть один и более атрибутов.</p>
<p>Смотрите <a href="./">Внешние словари</a>.</p>
<h2 id="create-user-statement">CREATE USER<a class="headerlink" href="#create-user-statement" title="Permanent link"> </a></h2>
<p>Создает <a href="../../../operations/access-rights/#user-account-management">аккаунт пользователя</a>.</p>
<h3 id="create-user-syntax">Синтаксис<a class="headerlink" href="#create-user-syntax" title="Permanent link"> </a></h3>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">USER</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">|</span> <span class="k">OR</span> <span class="k">REPLACE</span><span class="p">]</span> <span class="n">name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="n">cluster_name</span><span class="p">]</span>
    <span class="p">[</span><span class="n">IDENTIFIED</span> <span class="p">[</span><span class="k">WITH</span> <span class="err">{</span><span class="n">NO_PASSWORD</span><span class="o">|</span><span class="n">PLAINTEXT_PASSWORD</span><span class="o">|</span><span class="n">SHA256_PASSWORD</span><span class="o">|</span><span class="n">SHA256_HASH</span><span class="o">|</span><span class="n">DOUBLE_SHA1_PASSWORD</span><span class="o">|</span><span class="n">DOUBLE_SHA1_HASH</span><span class="err">}</span><span class="p">]</span> <span class="k">BY</span> <span class="err">{</span><span class="s1">'password'</span><span class="o">|</span><span class="s1">'hash'</span><span class="err">}</span><span class="p">]</span>
    <span class="p">[</span><span class="k">HOST</span> <span class="err">{</span><span class="k">LOCAL</span> <span class="o">|</span> <span class="n">NAME</span> <span class="s1">'name'</span> <span class="o">|</span> <span class="n">REGEXP</span> <span class="s1">'name_regexp'</span> <span class="o">|</span> <span class="n">IP</span> <span class="s1">'address'</span> <span class="o">|</span> <span class="k">LIKE</span> <span class="s1">'pattern'</span><span class="err">}</span> <span class="p">[,...]</span> <span class="o">|</span> <span class="k">ANY</span> <span class="o">|</span> <span class="k">NONE</span><span class="p">]</span>
    <span class="p">[</span><span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="k">role</span> <span class="p">[,...]]</span>
    <span class="p">[</span><span class="n">SETTINGS</span> <span class="k">variable</span> <span class="p">[</span><span class="o">=</span> <span class="n">value</span><span class="p">]</span> <span class="p">[</span><span class="k">MIN</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">min_value</span><span class="p">]</span> <span class="p">[</span><span class="k">MAX</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">max_value</span><span class="p">]</span> <span class="p">[</span><span class="n">READONLY</span><span class="o">|</span><span class="n">WRITABLE</span><span class="p">]</span> <span class="o">|</span> <span class="n">PROFILE</span> <span class="s1">'profile_name'</span><span class="p">]</span> <span class="p">[,...]</span>
</code></pre></div>
<h4 id="identifikatsiia">Идентификация<a class="headerlink" href="#identifikatsiia" title="Permanent link"> </a></h4>
<p>Существует несколько способов идентификации пользователя:</p>
<ul>
<li><code class="syntax">IDENTIFIED WITH no_password</code></li>
<li><code class="syntax">IDENTIFIED WITH plaintext_password BY 'qwerty'</code></li>
<li><code class="syntax">IDENTIFIED WITH sha256_password BY 'qwerty'</code> or <code class="syntax">IDENTIFIED BY 'password'</code></li>
<li><code class="syntax">IDENTIFIED WITH sha256_hash BY 'hash'</code></li>
<li><code class="syntax">IDENTIFIED WITH double_sha1_password BY 'qwerty'</code></li>
<li><code class="syntax">IDENTIFIED WITH double_sha1_hash BY 'hash'</code></li>
</ul>
<h4 id="polzovatelskii-khost">Пользовательский хост<a class="headerlink" href="#polzovatelskii-khost" title="Permanent link"> </a></h4>
<p>Пользовательский хост — это хост, с которого можно установить соединение с сервером ClickHouse. Хост задается в секции <code class="syntax">HOST</code> следующими способами:</p>
<ul>
<li><code class="syntax">HOST IP 'ip_address_or_subnetwork'</code> — Пользователь может подключиться к серверу ClickHouse только с указанного IP-адреса или <a href="https://ru.wikipedia.org/wiki/Подсеть" rel="external nofollow noreferrer" target="_blank">подсети</a>. Примеры: <code class="syntax">HOST IP '192.168.0.0/16'</code>, <code class="syntax">HOST IP '2001:DB8::/32'</code>. При использовании в эксплуатации указывайте только элементы <code class="syntax">HOST IP</code> (IP-адреса и маски подсети), так как использование <code class="syntax">host</code> и <code class="syntax">host_regexp</code> может привести к дополнительной задержке.</li>
<li><code class="syntax">HOST ANY</code> — Пользователь может подключиться с любого хоста. Используется по умолчанию.</li>
<li><code class="syntax">HOST LOCAL</code> — Пользователь может подключиться только локально.</li>
<li><code class="syntax">HOST NAME 'fqdn'</code> — Хост задается через FQDN. Например, <code class="syntax">HOST NAME 'mysite.com'</code>.</li>
<li><code class="syntax">HOST NAME REGEXP 'regexp'</code> — Позволяет использовать регулярные выражения <a href="http://www.pcre.org/" rel="external nofollow noreferrer" target="_blank">pcre</a>, чтобы задать хосты. Например, <code class="syntax">HOST NAME REGEXP '.*\.mysite\.com'</code>.</li>
<li><code class="syntax">HOST LIKE 'template'</code> — Позволяет использовать оператор <a href="../../functions/string-search-functions/#function-like">LIKE</a> для фильтрации хостов. Например, <code class="syntax">HOST LIKE '%'</code> эквивалентен <code class="syntax">HOST ANY</code>; <code class="syntax">HOST LIKE '%.mysite.com'</code> разрешает подключение со всех хостов в домене <code class="syntax">mysite.com</code>.</li>
</ul>
<p>Также, чтобы задать хост, вы можете использовать <code class="syntax">@</code> вместе с именем пользователя. Примеры:</p>
<ul>
<li><code class="syntax">CREATE USER mira@'127.0.0.1'</code> — Эквивалентно <code class="syntax">HOST IP</code>.</li>
<li><code class="syntax">CREATE USER mira@'localhost'</code> — Эквивалентно <code class="syntax">HOST LOCAL</code>.</li>
<li><code class="syntax">CREATE USER mira@'192.168.%.%'</code> — Эквивалентно <code class="syntax">HOST LIKE</code>.</li>
</ul>
<div class="admonition info alert pb-0 mb-4 alert-primary" role="alert">
<p class="admonition-title alert-heading display-6 mb-2">Внимание</p>
<p>ClickHouse трактует конструкцию <code class="syntax">user_name@'address'</code> как имя пользователя целиком. То есть технически вы можете создать несколько пользователей с одинаковыми <code class="syntax">user_name</code>, но разными частями конструкции после <code class="syntax">@</code>, но лучше так не делать.</p>
</div>
<h3 id="create-user-examples">Примеры<a class="headerlink" href="#create-user-examples" title="Permanent link"> </a></h3>
<p>Создать аккаунт <code class="syntax">mira</code>, защищенный паролем <code class="syntax">qwerty</code>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">mira</span> <span class="k">HOST</span> <span class="n">IP</span> <span class="s1">'127.0.0.1'</span> <span class="n">IDENTIFIED</span> <span class="k">WITH</span> <span class="n">sha256_password</span> <span class="k">BY</span> <span class="s1">'qwerty'</span>
</code></pre></div>
<p>Пользователь <code class="syntax">mira</code> должен запустить клиентское приложение на хосте, где запущен ClickHouse.</p>
<p>Создать аккаунт <code class="syntax">john</code>, назначить на него роли, сделать данные роли ролями по умолчанию:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">john</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="n">role1</span><span class="p">,</span> <span class="n">role2</span>
</code></pre></div>
<p>Создать аккаунт <code class="syntax">john</code> и установить ролями по умолчанию все его будущие роли:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">ALTER</span> <span class="k">USER</span> <span class="k">user</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="k">ALL</span>
</code></pre></div>
<p>Когда роль будет назначена аккаунту <code class="syntax">john</code>, она автоматически станет ролью по умолчанию.</p>
<p>Создать аккаунт <code class="syntax">john</code> и установить ролями по умолчанию все его будущие роли, кроме <code class="syntax">role1</code> и <code class="syntax">role2</code>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">ALTER</span> <span class="k">USER</span> <span class="n">john</span> <span class="k">DEFAULT</span> <span class="k">ROLE</span> <span class="k">ALL</span> <span class="k">EXCEPT</span> <span class="n">role1</span><span class="p">,</span> <span class="n">role2</span>
</code></pre></div>
<h2 id="create-role-statement">CREATE ROLE<a class="headerlink" href="#create-role-statement" title="Permanent link"> </a></h2>
<p>Создает <a href="../../../operations/access-rights/#role-management">роль</a>.</p>
<h3 id="create-role-syntax">Синтаксис<a class="headerlink" href="#create-role-syntax" title="Permanent link"> </a></h3>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">|</span> <span class="k">OR</span> <span class="k">REPLACE</span><span class="p">]</span> <span class="n">name</span>
    <span class="p">[</span><span class="n">SETTINGS</span> <span class="k">variable</span> <span class="p">[</span><span class="o">=</span> <span class="n">value</span><span class="p">]</span> <span class="p">[</span><span class="k">MIN</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">min_value</span><span class="p">]</span> <span class="p">[</span><span class="k">MAX</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">max_value</span><span class="p">]</span> <span class="p">[</span><span class="n">READONLY</span><span class="o">|</span><span class="n">WRITABLE</span><span class="p">]</span> <span class="o">|</span> <span class="n">PROFILE</span> <span class="s1">'profile_name'</span><span class="p">]</span> <span class="p">[,...]</span>
</code></pre></div>
<h3 id="create-role-description">Описание<a class="headerlink" href="#create-role-description" title="Permanent link"> </a></h3>
<p>Роль — это набор <a href="../grant/#grant-privileges">привилегий</a>. Пользователь, которому назначена роль, получает все привилегии этой роли.</p>
<p>Одному пользователю можно назначить несколько ролей. Пользователи могут применять назначенные роли в произвольных комбинациях с помощью выражения <a href="../misc/#set-role-statement">SET ROLE</a>. Конечный объем привилегий — это комбинация всех привилегий всех примененных ролей. Если у пользователя имеются привилегии, присвоенные его аккаунту напрямую, они также прибавляются к привилегиям, присвоенным через роли.</p>
<p>Роли по умолчанию применяются при входе пользователя в систему. Установить роли по умолчанию можно с помощью выражений <a href="../misc/#set-default-role-statement">SET DEFAULT ROLE</a> или <a href="../alter/#alter-user-statement">ALTER USER</a>.</p>
<p>Для отзыва роли используется выражение <a href="../revoke/">REVOKE</a>.</p>
<p>Для удаления роли используется выражение <a href="../misc/#drop-role-statement">DROP ROLE</a>. Удаленная роль автоматически отзывается у всех пользователей, которым была назначена.</p>
<h3 id="create-role-examples">Примеры<a class="headerlink" href="#create-role-examples" title="Permanent link"> </a></h3>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">accountant</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="n">db</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="n">accountant</span><span class="p">;</span>
</code></pre></div>
<p>Такая последовательность запросов создаст роль <code class="syntax">accountant</code>, у которой есть привилегия на чтение из базы данных <code class="syntax">accounting</code>.</p>
<p>Назначить роль <code class="syntax">accountant</code> аккаунту <code class="syntax">mira</code>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">GRANT</span> <span class="n">accountant</span> <span class="k">TO</span> <span class="n">mira</span><span class="p">;</span>
</code></pre></div>
<p>После назначения роли пользователь может ее применить и выполнять разрешенные ей запросы. Например:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">SET</span> <span class="k">ROLE</span> <span class="n">accountant</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
</code></pre></div>
<h2 id="create-row-policy-statement">CREATE ROW POLICY<a class="headerlink" href="#create-row-policy-statement" title="Permanent link"> </a></h2>
<p>Создает <a href="../../../operations/access-rights/#row-policy-management">фильтр для строк</a>, которые пользователь может прочесть из таблицы.</p>
<h3 id="create-row-policy-syntax">Синтаксис<a class="headerlink" href="#create-row-policy-syntax" title="Permanent link"> </a></h3>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="p">[</span><span class="k">ROW</span><span class="p">]</span> <span class="n">POLICY</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">|</span> <span class="k">OR</span> <span class="k">REPLACE</span><span class="p">]</span> <span class="n">policy_name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="n">cluster_name</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">db</span><span class="p">.]</span><span class="k">table</span>
    <span class="p">[</span><span class="k">AS</span> <span class="err">{</span><span class="n">PERMISSIVE</span> <span class="o">|</span> <span class="n">RESTRICTIVE</span><span class="err">}</span><span class="p">]</span>
    <span class="p">[</span><span class="k">FOR</span> <span class="k">SELECT</span><span class="p">]</span>
    <span class="p">[</span><span class="k">USING</span> <span class="n">condition</span><span class="p">]</span>
    <span class="p">[</span><span class="k">TO</span> <span class="err">{</span><span class="k">role</span> <span class="p">[,...]</span> <span class="o">|</span> <span class="k">ALL</span> <span class="o">|</span> <span class="k">ALL</span> <span class="k">EXCEPT</span> <span class="k">role</span> <span class="p">[,...]</span><span class="err">}</span><span class="p">]</span>
</code></pre></div>
<h4 id="create-row-policy-as">Секция AS<a class="headerlink" href="#create-row-policy-as" title="Permanent link"> </a></h4>
<p>С помощью данной секции можно создать политику разрешения или ограничения.</p>
<p>Политика разрешения предоставляет доступ к строкам. Разрешительные политики, которые применяются к одной таблице, объединяются с помощью логического оператора <code class="syntax">OR</code>. Политики являются разрешительными по умолчанию.</p>
<p>Политика ограничения запрещает доступ к строкам. Ограничительные политики, которые применяются к одной таблице, объединяются логическим оператором <code class="syntax">AND</code>.</p>
<p>Ограничительные политики применяются к строкам, прошедшим фильтр разрешительной политики. Если вы не зададите разрешительные политики, пользователь не сможет обращаться ни к каким строкам из таблицы.</p>
<h4 id="create-row-policy-to">Секция TO<a class="headerlink" href="#create-row-policy-to" title="Permanent link"> </a></h4>
<p>В секции <code class="syntax">TO</code> вы можете перечислить как роли, так и пользователей. Например, <code class="syntax">CREATE ROW POLICY ... TO accountant, john@localhost</code>.</p>
<p>Ключевым словом <code class="syntax">ALL</code> обозначаются все пользователи, включая текущего. Ключевые слова <code class="syntax">ALL EXCEPT</code> позволяют исключить пользователей из списка всех пользователей. Например, <code class="syntax">CREATE ROW POLICY ... TO ALL EXCEPT accountant, john@localhost</code></p>
<h3 id="primery">Примеры<a class="headerlink" href="#primery" title="Permanent link"> </a></h3>
<ul>
<li><code class="syntax">CREATE ROW POLICY filter ON mydb.mytable FOR SELECT USING a&lt;1000 TO accountant, john@localhost</code></li>
<li><code class="syntax">CREATE ROW POLICY filter ON mydb.mytable FOR SELECT USING a&lt;1000 TO ALL EXCEPT mira</code></li>
</ul>
<h2 id="create-quota-statement">CREATE QUOTA<a class="headerlink" href="#create-quota-statement" title="Permanent link"> </a></h2>
<p>Создает <a href="../../../operations/access-rights/#quotas-management">квоту</a>, которая может быть присвоена пользователю или роли.</p>
<h3 id="create-quota-syntax">Синтаксис<a class="headerlink" href="#create-quota-syntax" title="Permanent link"> </a></h3>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="n">QUOTA</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">|</span> <span class="k">OR</span> <span class="k">REPLACE</span><span class="p">]</span> <span class="n">name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="n">cluster_name</span><span class="p">]</span>
    <span class="p">[</span><span class="n">KEYED</span> <span class="k">BY</span> <span class="err">{</span><span class="s1">'none'</span> <span class="o">|</span> <span class="s1">'user name'</span> <span class="o">|</span> <span class="s1">'ip address'</span> <span class="o">|</span> <span class="s1">'client key'</span> <span class="o">|</span> <span class="s1">'client key or user name'</span> <span class="o">|</span> <span class="s1">'client key or ip address'</span><span class="err">}</span><span class="p">]</span>
    <span class="p">[</span><span class="k">FOR</span> <span class="p">[</span><span class="n">RANDOMIZED</span><span class="p">]</span> <span class="nb">INTERVAL</span> <span class="nb">number</span> <span class="err">{</span><span class="k">SECOND</span> <span class="o">|</span> <span class="k">MINUTE</span> <span class="o">|</span> <span class="n">HOUR</span> <span class="o">|</span> <span class="k">DAY</span><span class="err">}</span>
        <span class="err">{</span><span class="k">MAX</span> <span class="err">{</span> <span class="err">{</span><span class="n">QUERIES</span> <span class="o">|</span> <span class="n">ERRORS</span> <span class="o">|</span> <span class="k">RESULT</span> <span class="k">ROWS</span> <span class="o">|</span> <span class="k">RESULT</span> <span class="n">BYTES</span> <span class="o">|</span> <span class="k">READ</span> <span class="k">ROWS</span> <span class="o">|</span> <span class="k">READ</span> <span class="n">BYTES</span> <span class="o">|</span> <span class="n">EXECUTION</span> <span class="n">TIME</span><span class="err">}</span> <span class="o">=</span> <span class="nb">number</span> <span class="err">}</span> <span class="p">[,...]</span> <span class="o">|</span>
         <span class="k">NO</span> <span class="n">LIMITS</span> <span class="o">|</span> <span class="n">TRACKING</span> <span class="k">ONLY</span><span class="err">}</span> <span class="p">[,...]]</span>
    <span class="p">[</span><span class="k">TO</span> <span class="err">{</span><span class="k">role</span> <span class="p">[,...]</span> <span class="o">|</span> <span class="k">ALL</span> <span class="o">|</span> <span class="k">ALL</span> <span class="k">EXCEPT</span> <span class="k">role</span> <span class="p">[,...]</span><span class="err">}</span><span class="p">]</span>
</code></pre></div>
<h3 id="create-quota-example">Пример<a class="headerlink" href="#create-quota-example" title="Permanent link"> </a></h3>
<p>Ограничить максимальное количество запросов для текущего пользователя до 123 запросов каждые 15 месяцев:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="n">QUOTA</span> <span class="n">qA</span> <span class="k">FOR</span> <span class="nb">INTERVAL</span> <span class="mi">15</span> <span class="k">MONTH</span> <span class="k">MAX</span> <span class="n">QUERIES</span> <span class="mi">123</span> <span class="k">TO</span> <span class="k">CURRENT_USER</span>
</code></pre></div>
<h2 id="create-settings-profile-statement">CREATE SETTINGS PROFILE<a class="headerlink" href="#create-settings-profile-statement" title="Permanent link"> </a></h2>
<p>Создает <a href="../../../operations/access-rights/#settings-profiles-management">профиль настроек</a>, который может быть присвоен пользователю или роли.</p>
<h3 id="create-settings-profile-syntax">Синтаксис<a class="headerlink" href="#create-settings-profile-syntax" title="Permanent link"> </a></h3>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="n">SETTINGS</span> <span class="n">PROFILE</span> <span class="p">[</span><span class="k">IF</span> <span class="k">NOT</span> <span class="k">EXISTS</span> <span class="o">|</span> <span class="k">OR</span> <span class="k">REPLACE</span><span class="p">]</span> <span class="n">name</span> <span class="p">[</span><span class="k">ON</span> <span class="k">CLUSTER</span> <span class="n">cluster_name</span><span class="p">]</span>
    <span class="p">[</span><span class="n">SETTINGS</span> <span class="k">variable</span> <span class="p">[</span><span class="o">=</span> <span class="n">value</span><span class="p">]</span> <span class="p">[</span><span class="k">MIN</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">min_value</span><span class="p">]</span> <span class="p">[</span><span class="k">MAX</span> <span class="p">[</span><span class="o">=</span><span class="p">]</span> <span class="n">max_value</span><span class="p">]</span> <span class="p">[</span><span class="n">READONLY</span><span class="o">|</span><span class="n">WRITABLE</span><span class="p">]</span> <span class="o">|</span> <span class="n">INHERIT</span> <span class="s1">'profile_name'</span><span class="p">]</span> <span class="p">[,...]</span>
</code></pre></div>
<h3 id="create-settings-profile-syntax">Пример<a class="headerlink" href="#create-settings-profile-syntax" title="Permanent link"> </a></h3>
<p>Создать профиль настроек <code class="syntax">max_memory_usage_profile</code>, который содержит значение и ограничения для настройки <code class="syntax">max_memory_usage</code>. Присвоить профиль пользователю <code class="syntax">robin</code>:</p>
<div class="codehilite"><pre><span></span><code class="syntax"><span class="k">CREATE</span> <span class="n">SETTINGS</span> <span class="n">PROFILE</span> <span class="n">max_memory_usage_profile</span> <span class="n">SETTINGS</span> <span class="n">max_memory_usage</span> <span class="o">=</span> <span class="mi">100000001</span> <span class="k">MIN</span> <span class="mi">90000000</span> <span class="k">MAX</span> <span class="mi">110000000</span> <span class="k">TO</span> <span class="n">robin</span>
</code></pre></div>
<p><a href="https://clickhouse.tech/docs/ru/query_language/create/" target="_blank">Оригинальная статья</a> <!--hide--></p>
        

        
    </div>

    
<div class="alert alert-light my-3">
  <p class="float-right mb-0">Рейтинг: RATING_VALUE - RATING_COUNT голосов</p>
  <span class="alert-heading display-6">Был ли этот контент полезным?</span>
  <div id="rating-stars" class="display-6 mb-0"
     
     data-titles="['Непригодная', 'Плохая', 'OK', 'Хорошая', 'Отличная']"
     data-documentation="документация"
     
  >RATING_STARS</div>
</div>

<div id="content-footer" class="text-muted pt-3 mb-5">
    <div class="float-md-right">©2016–2020 Yandex LLC</div>
    <div>Собрано из <a href="https://github.com/ClickHouse/ClickHouse/commit/782f2179ce4ad0b9a9c898a5f32557555b59e4d0" rel="external nofollow noreferrer" target="_blank" class="text-reset">782f2179ce</a>, опубликовано <span title="2018-07-18T10:42:59+03:00">2018-07-18</span>, изменено <span title="2020-05-15T23:30:51+03:00">2020-05-15</span>
    
    </div>
</div>

</div>

                
                    <div id="toc" class="col-xl-2 d-none d-xl-block d-print-none p-3 overflow-auto toc-right mb-5">
    
    
    <nav class="nav flex-column text-wrap">
    
        <label for="toc">Cодержание</label>
    
    
        
        
        <a href="#query-language-create-database" title="CREATE DATABASE" class="nav-link text-wrap d-inline-block w-100">
    CREATE DATABASE
</a>

<nav id="toc-toc-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#sektsii" title="Секции" class="nav-link text-wrap d-inline-block w-100">
    Секции
</a>

    
</nav>

    
        
        
        <a href="#create-table-query" title="CREATE TABLE" class="nav-link text-wrap d-inline-block w-100">
    CREATE TABLE
</a>

<nav id="toc-toc-2" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-default-values" title="Значения по умолчанию" class="nav-link text-wrap d-inline-block w-100">
    Значения по умолчанию
</a>

    
        
        
        <a href="#constraints" title="Ограничения (constraints)" class="nav-link text-wrap d-inline-block w-100">
    Ограничения (constraints)
</a>

    
        
        
        <a href="#vyrazhenie-dlia-ttl" title="Выражение для TTL" class="nav-link text-wrap d-inline-block w-100">
    Выражение для TTL
</a>

    
        
        
        <a href="#codecs" title="Кодеки сжатия столбцов" class="nav-link text-wrap d-inline-block w-100">
    Кодеки сжатия столбцов
</a>

<nav id="toc-toc-2-4" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-query-specialized-codecs" title="Специализированные кодеки" class="nav-link text-wrap d-inline-block w-100">
    Специализированные кодеки
</a>

    
        
        
        <a href="#create-query-common-purpose-codecs" title="Кодеки общего назначения" class="nav-link text-wrap d-inline-block w-100">
    Кодеки общего назначения
</a>

    
</nav>

    
</nav>

    
        
        
        <a href="#vremennye-tablitsy" title="Временные таблицы" class="nav-link text-wrap d-inline-block w-100">
    Временные таблицы
</a>

    
        
        
        <a href="#raspredelennye-ddl-zaprosy-sektsiia-on-cluster" title="Распределенные DDL запросы (секция ON CLUSTER)" class="nav-link text-wrap d-inline-block w-100">
    Распределенные DDL запросы (секция ON CLUSTER)
</a>

    
        
        
        <a href="#create-view" title="CREATE VIEW" class="nav-link text-wrap d-inline-block w-100">
    CREATE VIEW
</a>

    
        
        
        <a href="#create-dictionary-query" title="CREATE DICTIONARY" class="nav-link text-wrap d-inline-block w-100">
    CREATE DICTIONARY
</a>

    
        
        
        <a href="#create-user-statement" title="CREATE USER" class="nav-link text-wrap d-inline-block w-100">
    CREATE USER
</a>

<nav id="toc-toc-7" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-user-syntax" title="Синтаксис" class="nav-link text-wrap d-inline-block w-100">
    Синтаксис
</a>

<nav id="toc-toc-7-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#identifikatsiia" title="Идентификация" class="nav-link text-wrap d-inline-block w-100">
    Идентификация
</a>

    
        
        
        <a href="#polzovatelskii-khost" title="Пользовательский хост" class="nav-link text-wrap d-inline-block w-100">
    Пользовательский хост
</a>

    
</nav>

    
        
        
        <a href="#create-user-examples" title="Примеры" class="nav-link text-wrap d-inline-block w-100">
    Примеры
</a>

    
</nav>

    
        
        
        <a href="#create-role-statement" title="CREATE ROLE" class="nav-link text-wrap d-inline-block w-100">
    CREATE ROLE
</a>

<nav id="toc-toc-8" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-role-syntax" title="Синтаксис" class="nav-link text-wrap d-inline-block w-100">
    Синтаксис
</a>

    
        
        
        <a href="#create-role-description" title="Описание" class="nav-link text-wrap d-inline-block w-100">
    Описание
</a>

    
        
        
        <a href="#create-role-examples" title="Примеры" class="nav-link text-wrap d-inline-block w-100">
    Примеры
</a>

    
</nav>

    
        
        
        <a href="#create-row-policy-statement" title="CREATE ROW POLICY" class="nav-link text-wrap d-inline-block w-100">
    CREATE ROW POLICY
</a>

<nav id="toc-toc-9" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-row-policy-syntax" title="Синтаксис" class="nav-link text-wrap d-inline-block w-100">
    Синтаксис
</a>

<nav id="toc-toc-9-1" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-row-policy-as" title="Секция AS" class="nav-link text-wrap d-inline-block w-100">
    Секция AS
</a>

    
        
        
        <a href="#create-row-policy-to" title="Секция TO" class="nav-link text-wrap d-inline-block w-100">
    Секция TO
</a>

    
</nav>

    
        
        
        <a href="#primery" title="Примеры" class="nav-link text-wrap d-inline-block w-100">
    Примеры
</a>

    
</nav>

    
        
        
        <a href="#create-quota-statement" title="CREATE QUOTA" class="nav-link text-wrap d-inline-block w-100">
    CREATE QUOTA
</a>

<nav id="toc-toc-10" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-quota-syntax" title="Синтаксис" class="nav-link text-wrap d-inline-block w-100">
    Синтаксис
</a>

    
        
        
        <a href="#create-quota-example" title="Пример" class="nav-link text-wrap d-inline-block w-100">
    Пример
</a>

    
</nav>

    
        
        
        <a href="#create-settings-profile-statement" title="CREATE SETTINGS PROFILE" class="nav-link text-wrap d-inline-block w-100">
    CREATE SETTINGS PROFILE
</a>

<nav id="toc-toc-11" class="nav flex-column pl-2">
    
    
        
        
        <a href="#create-settings-profile-syntax" title="Синтаксис" class="nav-link text-wrap d-inline-block w-100">
    Синтаксис
</a>

    
        
        
        <a href="#create-settings-profile-syntax" title="Пример" class="nav-link text-wrap d-inline-block w-100">
    Пример
</a>

    
</nav>

    
    </nav>
</div>
                
            </div>
        </div>
    

    

<script async type="text/javascript" src="/js/base.js?js_digest"></script>



<noscript>
    <div><img src="https://mc.yandex.ru/watch/18343495" alt="Yandex"/></div>
</noscript>
</body>
</html>